<!DOCTYPE html>
<html>
<head>
    <title>Y.Rednose.Navbar module test</title>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="../../../../build/rednose-ui/rednose-ui.css" rel="stylesheet"/>

    <script src="http://yui.yahooapis.com/3.11.0/build/yui/yui.js"></script>
    <script src="../../../../build/rednose-loader/rednose-loader.js"></script>
</head>
<body>

<!--Navbar from markup-->
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand brand-navbar" href="#">Navbar</a>
            <ul class="nav" role="navigation">
                <li class="dropdown">
                    <a id="drop1" href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown</a>
                </li>
                <li class="dropdown">
                    <a href="#" id="drop2" class="dropdown-toggle" data-toggle="dropdown">Dropdown 2</a>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li id="notifications-dropdown" class="dropdown">
                    <a href="#" id="notifications" class="dropdown-toggle" data-toggle="dropdown">
                        <span>Notifications </span>
                        <span id="badge-notifications" class="badge badge-important"></span>
                    </a>
                </li>
                <li id="user-dropdown" class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-user icon-white"></i> User</a>
                </li>
            </ul>
        </div>
    </div>
</div>

<div id="test-container" class="container" style="margin-top: 41px;">
    <div class="row">
        <div class="span12">
            <section>
                <h1>Dropdown menus</h1>
                <p>Right click the container for a context menu.</p>
                <div class="btn-toolbar" style="margin-top: 150px;">
                    <div class="btn-group">
                        <button id="button1" class="btn">Dropdown</button>
                    </div>
                    <div class="btn-group">
                        <button id="button2" class="btn">Dropup</button>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    YUI.Env.core.push('rednose-loader');

    YUI({
        filter: 'raw',
        "groups": {
            "rednose-ui": {
                base: "../../../../build/"
            }
        }
    }).use('rednose-dropdown', function (Y) {
        var items = [
            { id: 'action1', title: 'Action 1' },
            { id: 'action2', title: 'Action 2', disabled: true },
            { title: '-' },
            { id: 'action3', title: 'Action 3' }
        ];

        Y.all('.dropdown-toggle').each(function (node) {
            var dropdown = new Y.Rednose.Dropdown({
                anchorNode: node,
                items: items
            });
        });

        var dropdown1 = new Y.Rednose.Dropdown({
            anchorNode: Y.one('#button1'),
            items: items
        });

        dropdown1.on('select', function (e) {
            console.log(e);
        });

        var dropdown2 = new Y.Rednose.Dropdown({
            anchorNode: Y.one('#button2'),
            dropup: true,
            items: items
        });

        dropdown2.on('select', function (e) {
            console.log(e);
        });

        var dropdown3 = new Y.Rednose.Dropdown({
            anchorNode: Y.one('#test-container'),
            items: items,
            showOnContext: true
        });

        dropdown3.on('select', function (e) {
            console.log(e);
        });

//        Y.one('#button1').plug(Y.Rednose.Plugin.Dropdown, {
//            items: items
//        });
//
//        Y.one('#button2').plug(Y.Rednose.Plugin.Dropdown, {
//            dropup: true,
//            items: items
//        });
    });
</script>
</body>
</html>
