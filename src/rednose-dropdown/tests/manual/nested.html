<!DOCTYPE html>
<html>
<head>
    <title>Y.Rednose.Dropdown module test</title>
    <link href="../../../../build/rednose/rednose.css" rel="stylesheet"/>
    <script src="../../../../build/rednose/rednose.js"></script>
</head>
<body>

<div id="test-container" class="container">
    <div class="row">
        <div class="span12">
            <section>
                <div id="outer" style="background-color: blue; width: 450px; height: 450px; padding-top: 50px; padding-left: 50px;">
                    <div id="middle" style="background-color: yellow; width: 350px; height: 350px; padding-top: 50px; padding-left: 50px;">
                        <div id="inner" style="background-color: red; width: 300px; height: 300px;"/>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    YUI({
        filter: 'raw'
    }).use('rednose-dropdown-delegate', function (Y) {
        var inner = Y.one('#inner');

        inner.plug(Y.Rednose.Plugin.Dropdown, {
            showOnContext: true,
            items: [
                { id: 'testItem', title: 'Test Item Inner' }
            ]
        });

        inner.dropdown.on('click', function (e) {
            var host = e.dropdown.get('host');

            console.log(host.get('id'));
        });

        var middle = Y.one('#middle');

        middle.plug(Y.Rednose.Plugin.Dropdown, {
            showOnContext: true,
            items: [
                { id: 'testItem', title: 'Test Item Middle' }
            ]
        });

        middle.dropdown.on('click', function (e) {
            var host = e.dropdown.get('host');

            console.log(host.get('id'));
        });

        var outer = Y.one('#outer');

        outer.plug(Y.Rednose.Plugin.Dropdown, {
            showOnContext: true,
            items: [
                { id: 'testItem', title: 'Test Item Outer' }
            ]
        });

        outer.dropdown.on('click', function (e) {
            var host = e.dropdown.get('host');

            console.log(host.get('id'));
        });
    });
</script>
</body>
</html>
