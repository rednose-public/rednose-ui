<!DOCTYPE html>
<html>
<head>
    <title>Y.Rednose.Navbar module test</title>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="../../../../build/rednose-ui/rednose-ui.css" rel="stylesheet"/>

    <script src="../../../../../yui3/build/yui/yui.js"></script>
    <script src="../../../../build/rednose-loader/rednose-loader.js"></script>
</head>
<body>

<!--Navbar from markup-->
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand brand-navbar" href="#">Navbar</a>
            <ul class="nav" role="navigation">
                <li class="dropdown">
                    <a id="drop1" href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown</a>
                </li>
                <li class="dropdown">
                    <a href="#" id="drop2" class="dropdown-toggle" data-toggle="dropdown">Dropdown 2</a>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li id="notifications-dropdown" class="dropdown">
                    <a href="#" id="notifications" class="dropdown-toggle" data-toggle="dropdown">
                        <span>Notifications </span>
                        <span id="badge-notifications" class="badge badge-important"></span>
                    </a>
                </li>
                <li id="user-dropdown" class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-user icon-white"></i> User</a>
                </li>
            </ul>
        </div>
    </div>
</div>

<div id="test-container" class="container" style="margin-top: 41px;">
    <div class="row">
        <div class="span12">
            <section>
                <h1>Dropdown menus</h1>
                <p>Right click the container for a context menu.</p>
                <div class="btn-toolbar" style="margin-top: 150px;">
                    <div class="btn-group">
                        <button id="button1" class="btn">Dropdown</button>
                    </div>
                    <div class="btn-group">
                        <button id="button2" class="btn">Dropup</button>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    YUI.Env.core.push('rednose-loader');

    YUI({
        filter: 'raw',
        "groups": {
            "rednose-ui": {
                base: "../../../../build/"
            }
        }
    }).use('rednose-dropdown-plugin', function (Y) {
        var items = [
            { id: 'action1', title: 'Action 1', icon: 'icon-tag' },
            { id: 'action2', title: 'Action 2', disabled: true },
            { type: 'divider' },
            { id: 'action3', title: 'Action 3' },
            { title: 'Submenu', children: [
                { id: 'action1', title: 'Action 1' },
                { id: 'action2', title: 'Action 2', disabled: true },
                { type: 'divider' },
                { id: 'action3', title: 'Action 3' }
            ]}
        ];

        Y.all('.dropdown-toggle').plug(Y.Rednose.Plugin.Dropdown, {
            items: items
        });

        var button1 = Y.one('#button1');

        button1.plug(Y.Rednose.Plugin.Dropdown, {
            items: items
        });

        button1.dropdown.on('select', function (e) {
            console.log(e);
        });

        var button2 = Y.one('#button2');

        button2.plug(Y.Rednose.Plugin.Dropdown, {
            items: items,
            dropup: true
        });

        button2.dropdown.on('select', function (e) {
            console.log(e);
        });

        var button3 = Y.one('#test-container');

        button3.plug(Y.Rednose.Plugin.Dropdown, {
            items: items,
            showOnContext: true
        });

        button3.dropdown.on('select', function (e) {
            console.log(e);
        });
    });
</script>
</body>
</html>
