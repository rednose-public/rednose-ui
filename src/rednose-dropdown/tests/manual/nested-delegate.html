<!DOCTYPE html>
<html>
<head>
    <title>Y.Rednose.Dropdown module test</title>
    <link href="../../../../build/rednose/rednose.css" rel="stylesheet"/>
    <script src="../../../../build/rednose/rednose.js"></script>
</head>
<body>

<div id="test-container" class="container">
    <div class="row">
        <div class="span12">
            <section>
                <div id="outer" style="background-color: blue; width: 450px; height: 450px; padding-top: 50px; padding-left: 50px;">
                    <div id="middle" style="background-color: yellow; width: 350px; height: 350px; padding-top: 50px; padding-left: 50px;">
                        <div id="inner" style="background-color: red; width: 300px; height: 300px;"/>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    YUI({
        filter: 'raw'
    }).use('rednose-dropdown-delegate', function (Y) {

        var delegate = new Y.Rednose.Dropdown.Delegate({
            container: Y.one('.container'),
            nodes    : '#inner, #middle, #outer'
        });

        delegate.on('dropdown:open', function (e) {
            var dropdown = e.dropdown,
                node     = dropdown.get('host');

            switch (node.get('id')) {
                case 'inner':
                    dropdown.reset([{ id: 'testItem', title: 'Test Item Inner' }]);
                    break;
                case 'middle':
                    dropdown.reset([{ id: 'testItem', title: 'Test Item Middle' }]);
                    break;
                case 'outer':
                    dropdown.reset([{ id: 'testItem', title: 'Test Item Outer' }]);
                    break;
            }
        });

        delegate.on('dropdown:click', function (e) {
            var node = e.dropdown.get('host');

            console.log(node.get('id'));
        });
    });
</script>
</body>
</html>
