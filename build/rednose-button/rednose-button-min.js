YUI.add("rednose-button",function(e,t){var n="enable",r="disable",i="rename",s=e.Base.create("buttonBase",e.Base,[],{initializer:function(t){this._published={},e.mix(this,t)},destructor:function(){this._published=null},enable:function(){return this.isDisabled()&&(this._published[n]||(this._published[n]=this.publish(n,{defaultFn:this._defEnableFn})),this.fire(n,{item:this})),this},disable:function(){return this.isDisabled()||(this._published[r]||(this._published[r]=this.publish(r,{defaultFn:this._defDisableFn})),this.fire(r,{item:this})),this},rename:function(e){return this._published[i]||(this._published[i]=this.publish(i,{defaultFn:this._defRenameFn})),this.fire(i,{item:this,value:e}),this},isDisabled:function(){return this.disabled===!0},_defDisableFn:function(e){this.disabled=!0},_defEnableFn:function(e){this.disabled=!1},_defRenameFn:function(e){this.value=e.value}});e.namespace("Rednose").ButtonBase=s;var o=e.Template.Micro,u="click",a=e.Base.create("button",e.Rednose.ButtonBase,[e.View],{containerTemplate:"<button />",templates:{content:o.compile('<% if (data.button.icon) { %><i class="<%= data.classNames.icon %> <%= data.button.icon %>"></i> <% } %><%= data.button.value %>')},classNames:{btn:"btn",icon:"icon",disabled:"disabled"},initializer:function(){this._attachButtonEvents()},destructor:function(){this._detachButtonEvents()},render:function(){var e=this.get("container"),t=this.classNames;return e.addClass(this.classNames.btn),this.title&&e.setAttribute("title",this.title),this.disabled&&e.addClass(t.disabled),this.type!=="default"&&e.addClass(t.btn+"-"+this.type),e.setContent(this.templates.content({classNames:this.classNames,button:this})),this},_attachButtonEvents:function(){this._buttonEvents||(this._buttonEvents=[]);var e=this.get("container");this._buttonEvents.push(this.after({enable:this._afterEnable,disable:this._afterDisable,rename:this._afterRename}),e.on("click",this._onButtonClick,this))},_detachButtonEvents:function(){(new e.EventHandle(this._buttonEvents)).detach()},_onButtonClick:function(e){this.fire(u,{originEvent:e.originEvent,button:this})},_afterEnable:function(e){var t=this.get("container"),n=this.classNames;t.removeClass(n.disabled)},_afterDisable:function(e){var t=this.get("container"),n=this.classNames;t.addClass(n.disabled)},_afterRename:function(e){var t=this.get("container"),n=this.classNames;t.setContent(this.templates.content({classNames:n,button:this}))}});e.namespace("Rednose").Button=a;var n="enable",r="disable",i="rename",s=e.Base.create("buttonBase",e.Base,[],{initializer:function(t){this._published={},e.mix(this,t)},destructor:function(){this._published=null},enable:function(){return this.isDisabled()&&(this._published[n]||(this._published[n]=this.publish(n,{defaultFn:this._defEnableFn})),this.fire(n,{item:this})),this},disable:function(){return this.isDisabled()||(this._published[r]||(this._published[r]=this.publish(r,{defaultFn:this._defDisableFn})),this.fire(r,{item:this})),this},rename:function(e){return this._published[i]||(this._published[i]=this.publish(i,{defaultFn:this._defRenameFn})),this.fire(i,{item:this,value:e}),this},isDisabled:function(){return this.disabled===!0},_defDisableFn:function(e){this.disabled=!0},_defEnableFn:function(e){this.disabled=!1},_defRenameFn:function(e){this.value=e.value}});e.namespace("Rednose").ButtonBase=s},"1.4.0",{requires:["base","template","view"]});
