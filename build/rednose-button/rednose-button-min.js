YUI.add("rednose-button",function(e,t){var n="enable",r="disable",i="rename",s="activate",o="deactivate",u=e.Base.create("buttonBase",e.Base,[],{initializer:function(t){this._published={},this.type=t.type||"default",this.disabled=t.disabled||!1,this.active=t.active||!1,e.mix(this,t)},destructor:function(){this._published=null},enable:function(){return this.isDisabled()&&this._fireButtonEvent(n,{button:this},{defaultFn:this._defEnableFn}),this},disable:function(){return this.isDisabled()||this._fireButtonEvent(r,{button:this},{defaultFn:this._defDisableFn}),this},activate:function(){return this.isActive()||this._fireButtonEvent(s,{button:this},{defaultFn:this._defActivateFn}),this},deactivate:function(){return this.isActive()&&this._fireButtonEvent(o,{button:this},{defaultFn:this._defDeactivateFn}),this},rename:function(e){return this._fireButtonEvent(i,{button:this,value:e},{defaultFn:this._defRenameFn})},isDisabled:function(){return this.disabled===!0},isActive:function(){return this.active===!0},_fireButtonEvent:function(e,t,n){return n&&n.defaultFn&&!this._published[e]&&(this._published[e]=this.publish(e,{defaultFn:n.defaultFn})),this.fire(e,t),this},_defDisableFn:function(e){this.disabled=!0},_defEnableFn:function(e){this.disabled=!1},_defActivateFn:function(e){this.active=!0},_defDeactivateFn:function(e){this.active=!1},_defRenameFn:function(e){this.value=e.value}});e.namespace("Rednose").ButtonBase=u;var a=e.Template.Micro,f="click",l=e.Base.create("button",e.Rednose.ButtonBase,[e.View],{containerTemplate:"<button />",templates:{content:a.compile('<% if (data.button.icon) { %><i class="<%= data.classNames.icon %> <%= data.button.icon %>"></i> <% } %><%= data.button.value %>')},classNames:{btn:"btn",icon:"icon",disabled:"disabled",active:"active"},initializer:function(){this._attachButtonEvents()},destructor:function(){this._detachButtonEvents()},render:function(){var e=this.get("container"),t=this.classNames;return e.addClass(this.classNames.btn),this.title&&e.setAttribute("title",this.title),this.disabled&&e.addClass(t.disabled),this.active&&e.addClass(t.active),this.type!=="default"&&e.addClass(t.btn+"-"+this.type),e.setContent(this.templates.content({classNames:this.classNames,button:this})),this},_attachButtonEvents:function(){this._buttonEvents||(this._buttonEvents=[]);var e=this.get("container");this._buttonEvents.push(this.after({enable:this._afterEnable,disable:this._afterDisable,rename:this._afterRename,activate:this._afterActivate,deactivate:this._afterDeactivate}),e.on("click",this._onButtonClick,this))},_detachButtonEvents:function(){(new e.EventHandle(this._buttonEvents)).detach()},_onButtonClick:function(e){this.fire(f,{originEvent:e.originEvent,button:this})},_afterEnable:function(e){var t=this.get("container"),n=this.classNames;t.removeClass(n.disabled)},_afterDisable:function(e){var t=this.get("container"),n=this.classNames;t.addClass(n.disabled)},_afterActivate:function(e){var t=this.get("container"),n=this.classNames;t.addClass(n.active)},_afterDeactivate:function(e){var t=this.get("container"),n=this.classNames;t.removeClass(n.active)},_afterRename:function(e){var t=this.get("container"),n=this.classNames;t.setContent(this.templates.content({classNames:n,button:this}))}});e.namespace("Rednose").Button=l},"1.4.0",{requires:["base","template","view"]});
