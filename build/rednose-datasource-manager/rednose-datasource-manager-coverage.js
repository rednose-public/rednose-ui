if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/rednose-datasource-manager/rednose-datasource-manager.js']) {
   __coverage__['build/rednose-datasource-manager/rednose-datasource-manager.js'] = {"path":"build/rednose-datasource-manager/rednose-datasource-manager.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":38},"end":{"line":1,"column":57}}},"2":{"name":"(anonymous_2)","line":41,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":24}}},"3":{"name":"(anonymous_3)","line":50,"loc":{"start":{"line":50,"column":13},"end":{"line":50,"column":25}}},"4":{"name":"(anonymous_4)","line":82,"loc":{"start":{"line":82,"column":12},"end":{"line":82,"column":24}}},"5":{"name":"(anonymous_5)","line":121,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":24}}},"6":{"name":"(anonymous_6)","line":132,"loc":{"start":{"line":132,"column":17},"end":{"line":132,"column":43}}},"7":{"name":"(anonymous_7)","line":142,"loc":{"start":{"line":142,"column":22},"end":{"line":142,"column":44}}},"8":{"name":"(anonymous_8)","line":147,"loc":{"start":{"line":147,"column":27},"end":{"line":147,"column":44}}},"9":{"name":"(anonymous_9)","line":155,"loc":{"start":{"line":155,"column":20},"end":{"line":155,"column":32}}},"10":{"name":"(anonymous_10)","line":163,"loc":{"start":{"line":163,"column":26},"end":{"line":163,"column":43}}},"11":{"name":"(anonymous_11)","line":170,"loc":{"start":{"line":170,"column":18},"end":{"line":170,"column":31}}},"12":{"name":"(anonymous_12)","line":176,"loc":{"start":{"line":176,"column":50},"end":{"line":176,"column":67}}},"13":{"name":"(anonymous_13)","line":212,"loc":{"start":{"line":212,"column":12},"end":{"line":212,"column":24}}},"14":{"name":"(anonymous_14)","line":237,"loc":{"start":{"line":237,"column":12},"end":{"line":237,"column":24}}},"15":{"name":"(anonymous_15)","line":248,"loc":{"start":{"line":248,"column":22},"end":{"line":248,"column":44}}},"16":{"name":"(anonymous_16)","line":253,"loc":{"start":{"line":253,"column":27},"end":{"line":253,"column":44}}},"17":{"name":"(anonymous_17)","line":261,"loc":{"start":{"line":261,"column":22},"end":{"line":261,"column":34}}},"18":{"name":"(anonymous_18)","line":269,"loc":{"start":{"line":269,"column":26},"end":{"line":269,"column":43}}},"19":{"name":"(anonymous_19)","line":349,"loc":{"start":{"line":349,"column":17},"end":{"line":349,"column":29}}},"20":{"name":"(anonymous_20)","line":353,"loc":{"start":{"line":353,"column":12},"end":{"line":353,"column":24}}},"21":{"name":"(anonymous_21)","line":366,"loc":{"start":{"line":366,"column":19},"end":{"line":366,"column":39}}},"22":{"name":"(anonymous_22)","line":374,"loc":{"start":{"line":374,"column":29},"end":{"line":374,"column":65}}},"23":{"name":"(anonymous_23)","line":381,"loc":{"start":{"line":381,"column":22},"end":{"line":381,"column":35}}},"24":{"name":"(anonymous_24)","line":390,"loc":{"start":{"line":390,"column":20},"end":{"line":390,"column":33}}},"25":{"name":"(anonymous_25)","line":396,"loc":{"start":{"line":396,"column":23},"end":{"line":396,"column":36}}},"26":{"name":"(anonymous_26)","line":406,"loc":{"start":{"line":406,"column":20},"end":{"line":406,"column":33}}},"27":{"name":"(anonymous_27)","line":417,"loc":{"start":{"line":417,"column":27},"end":{"line":417,"column":40}}},"28":{"name":"(anonymous_28)","line":476,"loc":{"start":{"line":476,"column":17},"end":{"line":476,"column":29}}},"29":{"name":"(anonymous_29)","line":487,"loc":{"start":{"line":487,"column":12},"end":{"line":487,"column":24}}},"30":{"name":"(anonymous_30)","line":499,"loc":{"start":{"line":499,"column":20},"end":{"line":499,"column":32}}},"31":{"name":"(anonymous_31)","line":526,"loc":{"start":{"line":526,"column":21},"end":{"line":526,"column":33}}},"32":{"name":"(anonymous_32)","line":550,"loc":{"start":{"line":550,"column":20},"end":{"line":550,"column":32}}},"33":{"name":"(anonymous_33)","line":574,"loc":{"start":{"line":574,"column":28},"end":{"line":574,"column":40}}},"34":{"name":"(anonymous_34)","line":598,"loc":{"start":{"line":598,"column":27},"end":{"line":598,"column":39}}},"35":{"name":"(anonymous_35)","line":622,"loc":{"start":{"line":622,"column":17},"end":{"line":622,"column":29}}},"36":{"name":"(anonymous_36)","line":646,"loc":{"start":{"line":646,"column":20},"end":{"line":646,"column":39}}},"37":{"name":"(anonymous_37)","line":652,"loc":{"start":{"line":652,"column":25},"end":{"line":652,"column":37}}},"38":{"name":"(anonymous_38)","line":668,"loc":{"start":{"line":668,"column":24},"end":{"line":668,"column":36}}},"39":{"name":"(anonymous_39)","line":672,"loc":{"start":{"line":672,"column":25},"end":{"line":672,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":703,"column":71}},"2":{"start":{"line":5,"column":0},"end":{"line":55,"column":3}},"3":{"start":{"line":42,"column":8},"end":{"line":43,"column":42}},"4":{"start":{"line":45,"column":8},"end":{"line":45,"column":36}},"5":{"start":{"line":47,"column":8},"end":{"line":47,"column":20}},"6":{"start":{"line":51,"column":8},"end":{"line":51,"column":46}},"7":{"start":{"line":53,"column":8},"end":{"line":53,"column":65}},"8":{"start":{"line":57,"column":0},"end":{"line":90,"column":3}},"9":{"start":{"line":83,"column":8},"end":{"line":84,"column":38}},"10":{"start":{"line":86,"column":8},"end":{"line":86,"column":36}},"11":{"start":{"line":88,"column":8},"end":{"line":88,"column":20}},"12":{"start":{"line":92,"column":0},"end":{"line":185,"column":3}},"13":{"start":{"line":122,"column":8},"end":{"line":123,"column":38}},"14":{"start":{"line":125,"column":8},"end":{"line":125,"column":36}},"15":{"start":{"line":127,"column":8},"end":{"line":127,"column":30}},"16":{"start":{"line":129,"column":8},"end":{"line":129,"column":20}},"17":{"start":{"line":133,"column":8},"end":{"line":137,"column":9}},"18":{"start":{"line":134,"column":12},"end":{"line":134,"column":42}},"19":{"start":{"line":136,"column":12},"end":{"line":136,"column":19}},"20":{"start":{"line":139,"column":8},"end":{"line":139,"column":74}},"21":{"start":{"line":143,"column":8},"end":{"line":143,"column":24}},"22":{"start":{"line":145,"column":8},"end":{"line":145,"column":21}},"23":{"start":{"line":147,"column":8},"end":{"line":152,"column":11}},"24":{"start":{"line":148,"column":12},"end":{"line":151,"column":16}},"25":{"start":{"line":156,"column":8},"end":{"line":157,"column":60}},"26":{"start":{"line":159,"column":8},"end":{"line":167,"column":11}},"27":{"start":{"line":164,"column":20},"end":{"line":164,"column":83}},"28":{"start":{"line":171,"column":8},"end":{"line":173,"column":46}},"29":{"start":{"line":176,"column":9},"end":{"line":183,"column":12}},"30":{"start":{"line":177,"column":13},"end":{"line":178,"column":67}},"31":{"start":{"line":180,"column":13},"end":{"line":180,"column":54}},"32":{"start":{"line":182,"column":13},"end":{"line":182,"column":47}},"33":{"start":{"line":187,"column":0},"end":{"line":220,"column":3}},"34":{"start":{"line":213,"column":8},"end":{"line":214,"column":38}},"35":{"start":{"line":216,"column":8},"end":{"line":216,"column":36}},"36":{"start":{"line":218,"column":8},"end":{"line":218,"column":20}},"37":{"start":{"line":222,"column":0},"end":{"line":275,"column":3}},"38":{"start":{"line":238,"column":8},"end":{"line":239,"column":38}},"39":{"start":{"line":241,"column":8},"end":{"line":241,"column":36}},"40":{"start":{"line":243,"column":8},"end":{"line":243,"column":32}},"41":{"start":{"line":245,"column":8},"end":{"line":245,"column":20}},"42":{"start":{"line":249,"column":8},"end":{"line":249,"column":24}},"43":{"start":{"line":251,"column":8},"end":{"line":251,"column":21}},"44":{"start":{"line":253,"column":8},"end":{"line":258,"column":11}},"45":{"start":{"line":254,"column":12},"end":{"line":257,"column":16}},"46":{"start":{"line":262,"column":8},"end":{"line":263,"column":64}},"47":{"start":{"line":265,"column":8},"end":{"line":273,"column":11}},"48":{"start":{"line":270,"column":20},"end":{"line":270,"column":85}},"49":{"start":{"line":300,"column":0},"end":{"line":423,"column":3}},"50":{"start":{"line":350,"column":8},"end":{"line":350,"column":64}},"51":{"start":{"line":354,"column":8},"end":{"line":355,"column":38}},"52":{"start":{"line":357,"column":8},"end":{"line":357,"column":36}},"53":{"start":{"line":359,"column":8},"end":{"line":359,"column":104}},"54":{"start":{"line":360,"column":8},"end":{"line":360,"column":104}},"55":{"start":{"line":361,"column":8},"end":{"line":361,"column":104}},"56":{"start":{"line":363,"column":8},"end":{"line":363,"column":20}},"57":{"start":{"line":367,"column":8},"end":{"line":367,"column":66}},"58":{"start":{"line":368,"column":8},"end":{"line":368,"column":62}},"59":{"start":{"line":369,"column":8},"end":{"line":369,"column":68}},"60":{"start":{"line":370,"column":8},"end":{"line":370,"column":62}},"61":{"start":{"line":371,"column":8},"end":{"line":372,"column":4}},"62":{"start":{"line":375,"column":8},"end":{"line":375,"column":79}},"63":{"start":{"line":377,"column":8},"end":{"line":377,"column":33}},"64":{"start":{"line":378,"column":8},"end":{"line":378,"column":55}},"65":{"start":{"line":382,"column":8},"end":{"line":383,"column":48}},"66":{"start":{"line":385,"column":8},"end":{"line":387,"column":9}},"67":{"start":{"line":386,"column":12},"end":{"line":386,"column":33}},"68":{"start":{"line":391,"column":8},"end":{"line":391,"column":32}},"69":{"start":{"line":393,"column":8},"end":{"line":393,"column":39}},"70":{"start":{"line":397,"column":8},"end":{"line":399,"column":30}},"71":{"start":{"line":401,"column":8},"end":{"line":401,"column":38}},"72":{"start":{"line":403,"column":8},"end":{"line":403,"column":75}},"73":{"start":{"line":407,"column":8},"end":{"line":408,"column":36}},"74":{"start":{"line":409,"column":12},"end":{"line":409,"column":36}},"75":{"start":{"line":411,"column":8},"end":{"line":411,"column":38}},"76":{"start":{"line":413,"column":8},"end":{"line":413,"column":26}},"77":{"start":{"line":414,"column":8},"end":{"line":414,"column":26}},"78":{"start":{"line":418,"column":8},"end":{"line":418,"column":32}},"79":{"start":{"line":420,"column":8},"end":{"line":420,"column":38}},"80":{"start":{"line":421,"column":8},"end":{"line":421,"column":37}},"81":{"start":{"line":425,"column":0},"end":{"line":462,"column":3}},"82":{"start":{"line":464,"column":0},"end":{"line":675,"column":3}},"83":{"start":{"line":477,"column":8},"end":{"line":477,"column":77}},"84":{"start":{"line":478,"column":8},"end":{"line":478,"column":82}},"85":{"start":{"line":479,"column":8},"end":{"line":479,"column":79}},"86":{"start":{"line":480,"column":8},"end":{"line":480,"column":77}},"87":{"start":{"line":481,"column":8},"end":{"line":481,"column":93}},"88":{"start":{"line":482,"column":8},"end":{"line":482,"column":91}},"89":{"start":{"line":483,"column":8},"end":{"line":483,"column":80}},"90":{"start":{"line":484,"column":8},"end":{"line":484,"column":82}},"91":{"start":{"line":488,"column":8},"end":{"line":489,"column":38}},"92":{"start":{"line":491,"column":8},"end":{"line":491,"column":36}},"93":{"start":{"line":493,"column":8},"end":{"line":496,"column":20}},"94":{"start":{"line":500,"column":8},"end":{"line":510,"column":9}},"95":{"start":{"line":501,"column":12},"end":{"line":503,"column":15}},"96":{"start":{"line":505,"column":12},"end":{"line":509,"column":15}},"97":{"start":{"line":512,"column":8},"end":{"line":523,"column":11}},"98":{"start":{"line":527,"column":8},"end":{"line":529,"column":11}},"99":{"start":{"line":531,"column":8},"end":{"line":547,"column":11}},"100":{"start":{"line":551,"column":8},"end":{"line":553,"column":11}},"101":{"start":{"line":555,"column":8},"end":{"line":571,"column":11}},"102":{"start":{"line":575,"column":8},"end":{"line":577,"column":11}},"103":{"start":{"line":579,"column":8},"end":{"line":595,"column":11}},"104":{"start":{"line":599,"column":8},"end":{"line":601,"column":11}},"105":{"start":{"line":603,"column":8},"end":{"line":619,"column":11}},"106":{"start":{"line":623,"column":8},"end":{"line":625,"column":11}},"107":{"start":{"line":627,"column":8},"end":{"line":643,"column":11}},"108":{"start":{"line":647,"column":8},"end":{"line":647,"column":26}},"109":{"start":{"line":649,"column":8},"end":{"line":649,"column":37}},"110":{"start":{"line":653,"column":8},"end":{"line":653,"column":53}},"111":{"start":{"line":655,"column":8},"end":{"line":665,"column":9}},"112":{"start":{"line":657,"column":16},"end":{"line":657,"column":39}},"113":{"start":{"line":658,"column":16},"end":{"line":658,"column":22}},"114":{"start":{"line":660,"column":16},"end":{"line":660,"column":46}},"115":{"start":{"line":661,"column":16},"end":{"line":661,"column":22}},"116":{"start":{"line":663,"column":16},"end":{"line":663,"column":35}},"117":{"start":{"line":664,"column":16},"end":{"line":664,"column":22}},"118":{"start":{"line":669,"column":8},"end":{"line":669,"column":30}},"119":{"start":{"line":673,"column":8},"end":{"line":673,"column":31}},"120":{"start":{"line":677,"column":0},"end":{"line":677,"column":38}},"121":{"start":{"line":679,"column":0},"end":{"line":679,"column":17}},"122":{"start":{"line":680,"column":0},"end":{"line":680,"column":25}},"123":{"start":{"line":690,"column":0},"end":{"line":692,"column":1}},"124":{"start":{"line":691,"column":4},"end":{"line":691,"column":51}},"125":{"start":{"line":700,"column":0},"end":{"line":700,"column":79}}},"branchMap":{"1":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":8},"end":{"line":133,"column":8}},{"start":{"line":133,"column":8},"end":{"line":133,"column":8}}]},"2":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":8},"end":{"line":139,"column":37}},{"start":{"line":139,"column":41},"end":{"line":139,"column":73}}]},"3":{"line":182,"type":"binary-expr","locations":[{"start":{"line":182,"column":13},"end":{"line":182,"column":21}},{"start":{"line":182,"column":25},"end":{"line":182,"column":46}}]},"4":{"line":385,"type":"if","locations":[{"start":{"line":385,"column":8},"end":{"line":385,"column":8}},{"start":{"line":385,"column":8},"end":{"line":385,"column":8}}]},"5":{"line":500,"type":"if","locations":[{"start":{"line":500,"column":8},"end":{"line":500,"column":8}},{"start":{"line":500,"column":8},"end":{"line":500,"column":8}}]},"6":{"line":655,"type":"switch","locations":[{"start":{"line":656,"column":12},"end":{"line":658,"column":22}},{"start":{"line":659,"column":12},"end":{"line":661,"column":22}},{"start":{"line":662,"column":12},"end":{"line":664,"column":22}}]},"7":{"line":690,"type":"if","locations":[{"start":{"line":690,"column":0},"end":{"line":690,"column":0}},{"start":{"line":690,"column":0},"end":{"line":690,"column":0}}]}},"code":["(function () { YUI.add('rednose-datasource-manager', function (Y, NAME) {","","/*jshint boss:true, expr:true, onevar:false */","","var ChoicePageView = Y.Base.create('choicePageView', Y.View, [], {","    template:","        '<form class=\"form-horizontal\">'+","            '<fieldset>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"name\">Name</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"name\" type=\"text\"/>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"identifier\">Identifier</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"identifier\" type=\"text\"/>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\">Type</label>' +","                    '<div class=\"controls\">' +","                        '<label class=\"radio\">' +","                            '<input type=\"radio\" name=\"type\" value=\"pdo\" checked>' +","                            'Database' +","                        '</label>' +","                        '<label class=\"radio\">' +","                            '<input type=\"radio\" name=\"type\" value=\"dataGen\">' +","                            'DataGen' +","                        '</label>' +","                        '<label class=\"radio\">' +","                            '<input type=\"radio\" name=\"type\" value=\"xml\">' +","                            'XML Data' +","                        '</label>' +","                    '</div>' +","                '</div>' +","            '</fieldset>' +","        '</form>',","","    render: function () {","        var container = this.get('container'),","                template  = this.template;","","        container.setHTML(template);","","        return this;","    },","","    getType: function () {","        var container = this.get('container');","","        return container.one('[name=type]:checked').get('value');","    }","});","","var GenericPageView = Y.Base.create('genericPageView', Y.View, [], {","    template:","        '<form class=\"form-horizontal\">'+","            '<fieldset>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"dsn\">DSN</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"dsn\" type=\"text\"/>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"username\">Username</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"username\" type=\"text\"/>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"password\">Password</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"password\" type=\"password\"/>' +","                    '</div>' +","                '</div>' +","            '</fieldset>' +","        '</form>',","","    render: function () {","        var container = this.get('container'),","            template  = this.template;","","        container.setHTML(template);","","        return this;","    }","});","","var SourcePageView = Y.Base.create('sourcePageView', Y.View, [], {","    OPTION_TEMPLATE: '<option id=\"{id}\">{value}</option>',","","    template:","        '<form class=\"form-horizontal\">' +","            '<fieldset>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label radio inline\">' +","                        '<input type=\"radio\" name=\"source\" value=\"table\" data-radio-group=\"source\" checked/> Table' +","                    '</label>' +","                    '<div class=\"controls\">' +","                        '<select class=\"input-block-level\" id=\"table\" data-radio=\"source\"></select>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label radio inline\">' +","                        '<input type=\"radio\" name=\"source\" value=\"query\" data-radio-group=\"source\"/> Query' +","                    '</label>' +","                        '<div class=\"controls\">' +","                            '<textarea rows=\"3\" class=\"input-block-level\" id=\"query\" data-radio=\"source\" disabled></textarea >' +","                        '</div>' +","                '</div>' +","            '</fieldset>' +","        '</form>',","","    events: {","        '[data-radio-group]': { change: '_handleRadio' }","    },","","    render: function () {","        var container = this.get('container'),","            template  = this.template;","","        container.setHTML(template);","","        this._refreshTables();","","        return this;","    },","","    disableNode: function (node, disabled) {","        if (disabled) {","            node.setAttribute('disabled');","","            return;","        }","","        node.hasAttribute('disabled') && node.removeAttribute('disabled');","    },","","    updateSelectNode: function (node, data) {","        var self = this;","","        node.empty();","","        Y.Array.each(data, function (value) {","            node.append(Y.Lang.sub(self.OPTION_TEMPLATE, {","                id   : value,","                value: value","            }));","        });","    },","","    _refreshTables: function () {","        var self      = this,","            tableNode = this.get('container').one('#table');","","        Y.io(Routing.generate('rednose_dataprovider_operations_list_tables'), {","            method: 'POST',","            data  : 'dsn=mysql:host=localhost;dbname=libbit_flowgen&username=root&password=root',","            on    : {","                success : function (tx, r) {","                    self.updateSelectNode(tableNode, Y.JSON.parse(r.responseText));","                }","            }","        });","    },","","    _handleRadio: function (e) {","        var self      = this,","            value     = e.target.get('value'),","            container = this.get('container');","","         // Get all radio buttons, and sync their relative input.","         container.all('[data-radio-group]').each(function (radio) {","             var matchingInput = radio.ancestor('div').one('[data-radio]'),","                 disable       = matchingInput.get('id') !== value;","","             self.disableNode(matchingInput, disable);","","             !disable && matchingInput.focus();","         });","    }","});","","var DataGenGenericPageView = Y.Base.create('dataGenGenericPageView', Y.View, [], {","    template:","        '<form class=\"form-horizontal\">'+","            '<fieldset>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"url\">URL</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"url\" type=\"text\"/>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"username\">Username</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"username\" type=\"text\"/>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"password\">Password</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"password\" type=\"password\"/>' +","                    '</div>' +","                '</div>' +","            '</fieldset>' +","        '</form>',","","    render: function () {","        var container = this.get('container'),","            template  = this.template;","","        container.setHTML(template);","","        return this;","    }","});","","var DataGenSourcePageView = Y.Base.create('dataGenSourcePageView', Y.View, [], {","    OPTION_TEMPLATE: '<option id=\"{id}\">{value}</option>',","","    template:","        '<form class=\"form-horizontal\">'+","            '<fieldset>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"section\">Section</label>' +","                    '<div class=\"controls\">' +","                        '<select class=\"input-block-level\" id=\"section\"></select>' +","                    '</div>' +","                '</div>' +","            '</fieldset>' +","        '</form>',","","    render: function () {","        var container = this.get('container'),","            template  = this.template;","","        container.setHTML(template);","","        this._refreshSections();","","        return this;","    },","","    updateSelectNode: function (node, data) {","        var self = this;","","        node.empty();","","        Y.Array.each(data, function (value) {","            node.append(Y.Lang.sub(self.OPTION_TEMPLATE, {","                id   : value,","                value: value","            }));","        });","    },","","    _refreshSections: function () {","        var self        = this,","            sectionNode = this.get('container').one('#section');","","        Y.io(Routing.generate('rednose_dataprovider_operations_list_sections'), {","            method: 'POST',","            data  : 'url=http://datagen-standard.dev&username=admin&password=adminpasswd',","            on    : {","                success : function (tx, r) {","                    self.updateSelectNode(sectionNode, Y.JSON.parse(r.responseText));","                }","            }","        });","    }","});","","//            var DataSourceListView = Y.Base.create('dataSourceListView', Y.View, [], {","//                treeView: null,","//","//                render: function () {","//                    var self = this,","//                        list = this.get('modelList');","//","//                    list.load(function () {","//                        self.treeView = new Y.Rednose.TreeView({","//                            container : self.get('container'),","//                            model     : list.getTree(),","//                            selectable: false","//                        });","//","//                        self.treeView.render();","//                    });","//                }","//            }, {","//                ATTRS: {","//                    modelList: { value: new Y.Rednose.DataSource.DataSourceList() }","//                }","//            });","","var XMLPageView = Y.Base.create('xmlPageView', Y.View, [], {","    UPLOADER_TEMPLATE: '<button class=\"btn\" type=\"button\" title=\"Upload\"><i class=\"icon-upload\"></i></button>',","","    UPLOADER_CONFIG: {","        width           : 40,","        height          : 30,","        uploadURL       : Routing.generate('rednose_framework_files_upload'),","        buttonClassNames: { disabled: 'disabled' }","    },","","    template:","        '<form class=\"form-horizontal\">'+","            '<fieldset>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"xsd\">XML Schema</label>' +","                    '<div class=\"controls\">' +","                        '<div class=\"input-append input-block-level\">' +","                            '<input type=\"text\" id=\"xsd\" readonly>' +","                            '<div id=\"xsd-uploader\" class=\"uploader-container\"></div>' +","                        '</div>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"xslt\">XSLT File</label>' +","                    '<div class=\"controls\">' +","                        '<div class=\"input-append input-block-level\">' +","                            '<input type=\"text\" id=\"xslt\" readonly>' +","                            '<div id=\"xsl-uploader\" class=\"uploader-container\"></div>' +","                        '</div>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                    '<label class=\"control-label\" for=\"xml\">XML Data</label>' +","                    '<div class=\"controls\">' +","                        '<div class=\"input-append input-block-level\">' +","                            '<input type=\"text\" id=\"xml\" readonly>' +","                            '<div id=\"xml-uploader\" class=\"uploader-container\"></div>' +","                        '</div>' +","                    '</div>' +","                '</div>' +","                '<div class=\"control-group\">' +","                '<label class=\"control-label\" for=\"root\">Root Element</label>' +","                    '<div class=\"controls\">' +","                        '<input class=\"input-block-level\" id=\"root\" type=\"text\"/>' +","                    '</div>' +","                '</div>' +","            '</fieldset>' +","        '</form>',","","    initializer: function () {","        Y.Uploader.SELECT_FILES_BUTTON = this.UPLOADER_TEMPLATE;","    },","","    render: function () {","        var container = this.get('container'),","            template  = this.template;","","        container.setHTML(template);","","        this._bindUploader(new Y.Uploader(this.UPLOADER_CONFIG).render(container.one('#xsd-uploader')));","        this._bindUploader(new Y.Uploader(this.UPLOADER_CONFIG).render(container.one('#xsl-uploader')));","        this._bindUploader(new Y.Uploader(this.UPLOADER_CONFIG).render(container.one('#xml-uploader')));","","        return this;","    },","","    _bindUploader: function (uploader) {","        uploader.after('fileselect', this._afterFileSelect, this);","        uploader.on('uploadstart', this._onUploadStart, this);","        uploader.on('uploadcomplete', this._onUploadComplete, this);","        uploader.on('uploaderror', this._onUploadError, this);","        uploader.on('alluploadscomplete', this._onAllUploadsComplete, this)","    },","","    _updateInputForUploader: function (uploader, name, uploadId) {","        var input = uploader.get('srcNode').ancestor('.controls').one('input');","","        input.set('value', name);","        input.setAttribute('data-upload-id', uploadId);","    },","","    _afterFileSelect: function (e) {","        var uploader = e.target,","            fileList = uploader.get('fileList');","","        if (fileList.length > 0) {","            uploader.uploadAll();","        }","    },","","    _onUploadStart: function (e) {","        var uploader = e.target;","","        uploader.set('enabled', false);","    },","","    _onUploadComplete: function (e) {","        var uploader = e.target,","            file     = e.file,","            uploadId = e.data;","","        uploader.set('enabled', true);","","        this._updateInputForUploader(uploader, file.get('name'), uploadId);","    },","","    _onUploadError: function (e) {","        var uploader = e.target,","            code     = e.statusCode;","            text     = e.statusText;","","        uploader.set('enabled', true);","","        console.log(code);","        console.log(text);","    },","","    _onAllUploadsComplete: function (e) {","        var uploader = e.target;","","        uploader.set('enabled', true);","        uploader.set('fileList', []);","    }","});","","var App = Y.Base.create('app', Y.App, [], {","    views: {","        choicePage: {","            type    : ChoicePageView,","            preserve: true","        },","","        genericPage: {","            type    : GenericPageView,","            parent  : 'choicePage',","            preserve: true","        },","","        sourcePage: {","            type    : SourcePageView,","            parent  : 'genericPage',","            preserve: true","        },","","        dataGenGenericPage: {","            type    : DataGenGenericPageView,","            parent  : 'choicePage',","            preserve: true","        },","","        dataGenSourcePage: {","            type    : DataGenSourcePageView,","            parent  : 'dataGenGenericPage',","            preserve: true","        },","","        xmlPage: {","            type    : XMLPageView,","            parent  : 'choicePage',","            preserve: true","        }","    }","});","","var DataSourceManager = Y.Base.create('dataSourceManager', Y.View, [ Y.Rednose.View.Nav ], {","    _app: null,","","    title: 'New Data Source',","","    close: true,","","    template:","        '<div>' +","            '<div id=\"app\"></div>' +","        '</div>',","","    initializer: function () {","        this.on('dataSourceManager:buttonChoice', this.showChoicePage, this);","        this.on('dataSourceManager:buttonChoose', this._handleButtonChoose, this);","        this.on('dataSourceManager:buttonGeneric', this.showGenericPage, this);","        this.on('dataSourceManager:buttonSource', this.showSourcePage, this);","        this.on('dataSourceManager:buttonDataGenGeneric', this.showDataGenGenericPage, this);","        this.on('dataSourceManager:buttonDataGenSource', this.showDataGenSourcePage, this);","        this.on('dataSourceManager:buttonClose', this._handleButtonClose, this);","        this.on('dataSourceManager:buttonCreate', this._handleButtonCreate, this);","    },","","    render: function () {","        var container = this.get('container'),","            template  = this.template;","","        container.setHTML(template);","","        this._app = new App({","            container:     container.one('#app'),","            transitions  : true","        }).render();","    },","","    showChoicePage: function () {","        if (this._app.get('activeView')) {","            this._app.showView('choicePage', {","                model: null","            });","        } else {","            this._app.showView('choicePage', {","                model: null","            }, {","                transition: false","            });","        }","","        this._updateButtons({","            choose: {","                value:    'Next',","                position: 'right',","                primary:   true","            },","","            close: {","                value:    'Cancel',","                position: 'left'","            }","        });","    },","","    showGenericPage: function () {","        this._app.showView('genericPage', {","            model: null","        });","","        this._updateButtons({","            source: {","                value:    'Next',","                position: 'right',","                primary:   true","            },","","            choice: {","                value:    'Back',","                position: 'right'","            },","","            close: {","                value:    'Cancel',","                position: 'left'","            }","        });","    },","","    showSourcePage: function () {","        this._app.showView('sourcePage', {","            model: null","        });","","        this._updateButtons({","            create: {","                value:    'Create',","                position: 'right',","                primary:   true","            },","","            generic: {","                value:    'Back',","                position: 'right'","            },","","            close: {","                value:    'Cancel',","                position: 'left'","            }","        });","    },","","    showDataGenGenericPage: function () {","        this._app.showView('dataGenGenericPage', {","            model: null","        });","","        this._updateButtons({","            dataGenSource: {","                value:    'Next',","                position: 'right',","                primary:   true","            },","","            choice: {","                value:    'Back',","                position: 'right'","            },","","            close: {","                value:    'Cancel',","                position: 'left'","            }","        });","    },","","    showDataGenSourcePage: function () {","        this._app.showView('dataGenSourcePage', {","            model: null","        });","","        this._updateButtons({","            create: {","                value:    'Create',","                position: 'right',","                primary:   true","            },","","            dataGenGeneric: {","                value:    'Back',","                position: 'right'","            },","","            close: {","                value:    'Cancel',","                position: 'left'","            }","        });","    },","","    showXMLPage: function () {","        this._app.showView('xmlPage', {","            model: null","        });","","        this._updateButtons({","            create: {","                value:    'Create',","                position: 'right',","                primary:   true","            },","","            choice: {","                value:    'Back',","                position: 'right'","            },","","            close: {","                value:    'Cancel',","                position: 'left'","            }","        });","    },","","    _updateButtons: function (buttons) {","        this.buttons = {};","","        this.set('buttons', buttons);","    },","","    _handleButtonChoose: function () {","        var choiceView = this._app.get('activeView');","","        switch (choiceView.getType()) {","            case 'pdo':","                this.showGenericPage();","                break;","            case 'dataGen':","                this.showDataGenGenericPage();","                break;","            case 'xml':","                this.showXMLPage();","                break;","        }","    },","","    _handleButtonClose: function () {","        console.log('close!');","    },","","    _handleButtonCreate: function () {","        console.log('create!');","    }","});","","var appView = new DataSourceManager();","","appView.render();","appView.showChoicePage();","//            appView.showXMLPage();","","//            var panel = new Y.Rednose.Panel({","//                srcNode: appView.get('container'),","//                width  : 640","//            });","//","//            panel.render();","","if (!appView.get('container').inDoc()) {","    Y.one('body').append(appView.get('container'));","}","","//            var dataSourceListView = new DataSourceListView({","//                container: Y.one('#tree')","//            });","//","//            dataSourceListView.render();","","Y.namespace('Rednose.DataSourceManager').DataSourceManager = DataSourceManager;","","","}, '1.1.0-DEV', {\"requires\": [\"rednose-app\", \"rednose-dataprovider\"]});","","}());"]};
}
var __cov_U5MIyKKsjDc$qyhjh44SdQ = __coverage__['build/rednose-datasource-manager/rednose-datasource-manager.js'];
__cov_U5MIyKKsjDc$qyhjh44SdQ.s['1']++;YUI.add('rednose-datasource-manager',function(Y,NAME){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['1']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['2']++;var ChoicePageView=Y.Base.create('choicePageView',Y.View,[],{template:'<form class="form-horizontal">'+'<fieldset>'+'<div class="control-group">'+'<label class="control-label" for="name">Name</label>'+'<div class="controls">'+'<input class="input-block-level" id="name" type="text"/>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="identifier">Identifier</label>'+'<div class="controls">'+'<input class="input-block-level" id="identifier" type="text"/>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label">Type</label>'+'<div class="controls">'+'<label class="radio">'+'<input type="radio" name="type" value="pdo" checked>'+'Database'+'</label>'+'<label class="radio">'+'<input type="radio" name="type" value="dataGen">'+'DataGen'+'</label>'+'<label class="radio">'+'<input type="radio" name="type" value="xml">'+'XML Data'+'</label>'+'</div>'+'</div>'+'</fieldset>'+'</form>',render:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['2']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['3']++;var container=this.get('container'),template=this.template;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['4']++;container.setHTML(template);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['5']++;return this;},getType:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['3']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['6']++;var container=this.get('container');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['7']++;return container.one('[name=type]:checked').get('value');}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['8']++;var GenericPageView=Y.Base.create('genericPageView',Y.View,[],{template:'<form class="form-horizontal">'+'<fieldset>'+'<div class="control-group">'+'<label class="control-label" for="dsn">DSN</label>'+'<div class="controls">'+'<input class="input-block-level" id="dsn" type="text"/>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="username">Username</label>'+'<div class="controls">'+'<input class="input-block-level" id="username" type="text"/>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="password">Password</label>'+'<div class="controls">'+'<input class="input-block-level" id="password" type="password"/>'+'</div>'+'</div>'+'</fieldset>'+'</form>',render:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['4']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['9']++;var container=this.get('container'),template=this.template;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['10']++;container.setHTML(template);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['11']++;return this;}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['12']++;var SourcePageView=Y.Base.create('sourcePageView',Y.View,[],{OPTION_TEMPLATE:'<option id="{id}">{value}</option>',template:'<form class="form-horizontal">'+'<fieldset>'+'<div class="control-group">'+'<label class="control-label radio inline">'+'<input type="radio" name="source" value="table" data-radio-group="source" checked/> Table'+'</label>'+'<div class="controls">'+'<select class="input-block-level" id="table" data-radio="source"></select>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label radio inline">'+'<input type="radio" name="source" value="query" data-radio-group="source"/> Query'+'</label>'+'<div class="controls">'+'<textarea rows="3" class="input-block-level" id="query" data-radio="source" disabled></textarea >'+'</div>'+'</div>'+'</fieldset>'+'</form>',events:{'[data-radio-group]':{change:'_handleRadio'}},render:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['5']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['13']++;var container=this.get('container'),template=this.template;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['14']++;container.setHTML(template);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['15']++;this._refreshTables();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['16']++;return this;},disableNode:function(node,disabled){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['6']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['17']++;if(disabled){__cov_U5MIyKKsjDc$qyhjh44SdQ.b['1'][0]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['18']++;node.setAttribute('disabled');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['19']++;return;}else{__cov_U5MIyKKsjDc$qyhjh44SdQ.b['1'][1]++;}__cov_U5MIyKKsjDc$qyhjh44SdQ.s['20']++;(__cov_U5MIyKKsjDc$qyhjh44SdQ.b['2'][0]++,node.hasAttribute('disabled'))&&(__cov_U5MIyKKsjDc$qyhjh44SdQ.b['2'][1]++,node.removeAttribute('disabled'));},updateSelectNode:function(node,data){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['7']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['21']++;var self=this;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['22']++;node.empty();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['23']++;Y.Array.each(data,function(value){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['8']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['24']++;node.append(Y.Lang.sub(self.OPTION_TEMPLATE,{id:value,value:value}));});},_refreshTables:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['9']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['25']++;var self=this,tableNode=this.get('container').one('#table');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['26']++;Y.io(Routing.generate('rednose_dataprovider_operations_list_tables'),{method:'POST',data:'dsn=mysql:host=localhost;dbname=libbit_flowgen&username=root&password=root',on:{success:function(tx,r){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['10']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['27']++;self.updateSelectNode(tableNode,Y.JSON.parse(r.responseText));}}});},_handleRadio:function(e){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['11']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['28']++;var self=this,value=e.target.get('value'),container=this.get('container');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['29']++;container.all('[data-radio-group]').each(function(radio){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['12']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['30']++;var matchingInput=radio.ancestor('div').one('[data-radio]'),disable=matchingInput.get('id')!==value;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['31']++;self.disableNode(matchingInput,disable);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['32']++;(__cov_U5MIyKKsjDc$qyhjh44SdQ.b['3'][0]++,!disable)&&(__cov_U5MIyKKsjDc$qyhjh44SdQ.b['3'][1]++,matchingInput.focus());});}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['33']++;var DataGenGenericPageView=Y.Base.create('dataGenGenericPageView',Y.View,[],{template:'<form class="form-horizontal">'+'<fieldset>'+'<div class="control-group">'+'<label class="control-label" for="url">URL</label>'+'<div class="controls">'+'<input class="input-block-level" id="url" type="text"/>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="username">Username</label>'+'<div class="controls">'+'<input class="input-block-level" id="username" type="text"/>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="password">Password</label>'+'<div class="controls">'+'<input class="input-block-level" id="password" type="password"/>'+'</div>'+'</div>'+'</fieldset>'+'</form>',render:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['13']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['34']++;var container=this.get('container'),template=this.template;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['35']++;container.setHTML(template);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['36']++;return this;}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['37']++;var DataGenSourcePageView=Y.Base.create('dataGenSourcePageView',Y.View,[],{OPTION_TEMPLATE:'<option id="{id}">{value}</option>',template:'<form class="form-horizontal">'+'<fieldset>'+'<div class="control-group">'+'<label class="control-label" for="section">Section</label>'+'<div class="controls">'+'<select class="input-block-level" id="section"></select>'+'</div>'+'</div>'+'</fieldset>'+'</form>',render:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['14']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['38']++;var container=this.get('container'),template=this.template;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['39']++;container.setHTML(template);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['40']++;this._refreshSections();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['41']++;return this;},updateSelectNode:function(node,data){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['15']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['42']++;var self=this;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['43']++;node.empty();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['44']++;Y.Array.each(data,function(value){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['16']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['45']++;node.append(Y.Lang.sub(self.OPTION_TEMPLATE,{id:value,value:value}));});},_refreshSections:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['17']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['46']++;var self=this,sectionNode=this.get('container').one('#section');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['47']++;Y.io(Routing.generate('rednose_dataprovider_operations_list_sections'),{method:'POST',data:'url=http://datagen-standard.dev&username=admin&password=adminpasswd',on:{success:function(tx,r){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['18']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['48']++;self.updateSelectNode(sectionNode,Y.JSON.parse(r.responseText));}}});}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['49']++;var XMLPageView=Y.Base.create('xmlPageView',Y.View,[],{UPLOADER_TEMPLATE:'<button class="btn" type="button" title="Upload"><i class="icon-upload"></i></button>',UPLOADER_CONFIG:{width:40,height:30,uploadURL:Routing.generate('rednose_framework_files_upload'),buttonClassNames:{disabled:'disabled'}},template:'<form class="form-horizontal">'+'<fieldset>'+'<div class="control-group">'+'<label class="control-label" for="xsd">XML Schema</label>'+'<div class="controls">'+'<div class="input-append input-block-level">'+'<input type="text" id="xsd" readonly>'+'<div id="xsd-uploader" class="uploader-container"></div>'+'</div>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="xslt">XSLT File</label>'+'<div class="controls">'+'<div class="input-append input-block-level">'+'<input type="text" id="xslt" readonly>'+'<div id="xsl-uploader" class="uploader-container"></div>'+'</div>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="xml">XML Data</label>'+'<div class="controls">'+'<div class="input-append input-block-level">'+'<input type="text" id="xml" readonly>'+'<div id="xml-uploader" class="uploader-container"></div>'+'</div>'+'</div>'+'</div>'+'<div class="control-group">'+'<label class="control-label" for="root">Root Element</label>'+'<div class="controls">'+'<input class="input-block-level" id="root" type="text"/>'+'</div>'+'</div>'+'</fieldset>'+'</form>',initializer:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['19']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['50']++;Y.Uploader.SELECT_FILES_BUTTON=this.UPLOADER_TEMPLATE;},render:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['20']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['51']++;var container=this.get('container'),template=this.template;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['52']++;container.setHTML(template);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['53']++;this._bindUploader(new Y.Uploader(this.UPLOADER_CONFIG).render(container.one('#xsd-uploader')));__cov_U5MIyKKsjDc$qyhjh44SdQ.s['54']++;this._bindUploader(new Y.Uploader(this.UPLOADER_CONFIG).render(container.one('#xsl-uploader')));__cov_U5MIyKKsjDc$qyhjh44SdQ.s['55']++;this._bindUploader(new Y.Uploader(this.UPLOADER_CONFIG).render(container.one('#xml-uploader')));__cov_U5MIyKKsjDc$qyhjh44SdQ.s['56']++;return this;},_bindUploader:function(uploader){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['21']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['57']++;uploader.after('fileselect',this._afterFileSelect,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['58']++;uploader.on('uploadstart',this._onUploadStart,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['59']++;uploader.on('uploadcomplete',this._onUploadComplete,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['60']++;uploader.on('uploaderror',this._onUploadError,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['61']++;uploader.on('alluploadscomplete',this._onAllUploadsComplete,this);},_updateInputForUploader:function(uploader,name,uploadId){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['22']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['62']++;var input=uploader.get('srcNode').ancestor('.controls').one('input');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['63']++;input.set('value',name);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['64']++;input.setAttribute('data-upload-id',uploadId);},_afterFileSelect:function(e){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['23']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['65']++;var uploader=e.target,fileList=uploader.get('fileList');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['66']++;if(fileList.length>0){__cov_U5MIyKKsjDc$qyhjh44SdQ.b['4'][0]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['67']++;uploader.uploadAll();}else{__cov_U5MIyKKsjDc$qyhjh44SdQ.b['4'][1]++;}},_onUploadStart:function(e){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['24']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['68']++;var uploader=e.target;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['69']++;uploader.set('enabled',false);},_onUploadComplete:function(e){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['25']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['70']++;var uploader=e.target,file=e.file,uploadId=e.data;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['71']++;uploader.set('enabled',true);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['72']++;this._updateInputForUploader(uploader,file.get('name'),uploadId);},_onUploadError:function(e){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['26']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['73']++;var uploader=e.target,code=e.statusCode;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['74']++;text=e.statusText;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['75']++;uploader.set('enabled',true);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['76']++;console.log(code);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['77']++;console.log(text);},_onAllUploadsComplete:function(e){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['27']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['78']++;var uploader=e.target;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['79']++;uploader.set('enabled',true);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['80']++;uploader.set('fileList',[]);}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['81']++;var App=Y.Base.create('app',Y.App,[],{views:{choicePage:{type:ChoicePageView,preserve:true},genericPage:{type:GenericPageView,parent:'choicePage',preserve:true},sourcePage:{type:SourcePageView,parent:'genericPage',preserve:true},dataGenGenericPage:{type:DataGenGenericPageView,parent:'choicePage',preserve:true},dataGenSourcePage:{type:DataGenSourcePageView,parent:'dataGenGenericPage',preserve:true},xmlPage:{type:XMLPageView,parent:'choicePage',preserve:true}}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['82']++;var DataSourceManager=Y.Base.create('dataSourceManager',Y.View,[Y.Rednose.View.Nav],{_app:null,title:'New Data Source',close:true,template:'<div>'+'<div id="app"></div>'+'</div>',initializer:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['28']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['83']++;this.on('dataSourceManager:buttonChoice',this.showChoicePage,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['84']++;this.on('dataSourceManager:buttonChoose',this._handleButtonChoose,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['85']++;this.on('dataSourceManager:buttonGeneric',this.showGenericPage,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['86']++;this.on('dataSourceManager:buttonSource',this.showSourcePage,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['87']++;this.on('dataSourceManager:buttonDataGenGeneric',this.showDataGenGenericPage,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['88']++;this.on('dataSourceManager:buttonDataGenSource',this.showDataGenSourcePage,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['89']++;this.on('dataSourceManager:buttonClose',this._handleButtonClose,this);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['90']++;this.on('dataSourceManager:buttonCreate',this._handleButtonCreate,this);},render:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['29']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['91']++;var container=this.get('container'),template=this.template;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['92']++;container.setHTML(template);__cov_U5MIyKKsjDc$qyhjh44SdQ.s['93']++;this._app=new App({container:container.one('#app'),transitions:true}).render();},showChoicePage:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['30']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['94']++;if(this._app.get('activeView')){__cov_U5MIyKKsjDc$qyhjh44SdQ.b['5'][0]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['95']++;this._app.showView('choicePage',{model:null});}else{__cov_U5MIyKKsjDc$qyhjh44SdQ.b['5'][1]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['96']++;this._app.showView('choicePage',{model:null},{transition:false});}__cov_U5MIyKKsjDc$qyhjh44SdQ.s['97']++;this._updateButtons({choose:{value:'Next',position:'right',primary:true},close:{value:'Cancel',position:'left'}});},showGenericPage:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['31']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['98']++;this._app.showView('genericPage',{model:null});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['99']++;this._updateButtons({source:{value:'Next',position:'right',primary:true},choice:{value:'Back',position:'right'},close:{value:'Cancel',position:'left'}});},showSourcePage:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['32']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['100']++;this._app.showView('sourcePage',{model:null});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['101']++;this._updateButtons({create:{value:'Create',position:'right',primary:true},generic:{value:'Back',position:'right'},close:{value:'Cancel',position:'left'}});},showDataGenGenericPage:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['33']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['102']++;this._app.showView('dataGenGenericPage',{model:null});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['103']++;this._updateButtons({dataGenSource:{value:'Next',position:'right',primary:true},choice:{value:'Back',position:'right'},close:{value:'Cancel',position:'left'}});},showDataGenSourcePage:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['34']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['104']++;this._app.showView('dataGenSourcePage',{model:null});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['105']++;this._updateButtons({create:{value:'Create',position:'right',primary:true},dataGenGeneric:{value:'Back',position:'right'},close:{value:'Cancel',position:'left'}});},showXMLPage:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['35']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['106']++;this._app.showView('xmlPage',{model:null});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['107']++;this._updateButtons({create:{value:'Create',position:'right',primary:true},choice:{value:'Back',position:'right'},close:{value:'Cancel',position:'left'}});},_updateButtons:function(buttons){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['36']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['108']++;this.buttons={};__cov_U5MIyKKsjDc$qyhjh44SdQ.s['109']++;this.set('buttons',buttons);},_handleButtonChoose:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['37']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['110']++;var choiceView=this._app.get('activeView');__cov_U5MIyKKsjDc$qyhjh44SdQ.s['111']++;switch(choiceView.getType()){case'pdo':__cov_U5MIyKKsjDc$qyhjh44SdQ.b['6'][0]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['112']++;this.showGenericPage();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['113']++;break;case'dataGen':__cov_U5MIyKKsjDc$qyhjh44SdQ.b['6'][1]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['114']++;this.showDataGenGenericPage();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['115']++;break;case'xml':__cov_U5MIyKKsjDc$qyhjh44SdQ.b['6'][2]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['116']++;this.showXMLPage();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['117']++;break;}},_handleButtonClose:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['38']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['118']++;console.log('close!');},_handleButtonCreate:function(){__cov_U5MIyKKsjDc$qyhjh44SdQ.f['39']++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['119']++;console.log('create!');}});__cov_U5MIyKKsjDc$qyhjh44SdQ.s['120']++;var appView=new DataSourceManager();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['121']++;appView.render();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['122']++;appView.showChoicePage();__cov_U5MIyKKsjDc$qyhjh44SdQ.s['123']++;if(!appView.get('container').inDoc()){__cov_U5MIyKKsjDc$qyhjh44SdQ.b['7'][0]++;__cov_U5MIyKKsjDc$qyhjh44SdQ.s['124']++;Y.one('body').append(appView.get('container'));}else{__cov_U5MIyKKsjDc$qyhjh44SdQ.b['7'][1]++;}__cov_U5MIyKKsjDc$qyhjh44SdQ.s['125']++;Y.namespace('Rednose.DataSourceManager').DataSourceManager=DataSourceManager;},'1.1.0-DEV',{'requires':['rednose-app','rednose-dataprovider']});
