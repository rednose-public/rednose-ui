if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/rednose-model-undo/rednose-model-undo.js']) {
   __coverage__['build/rednose-model-undo/rednose-model-undo.js'] = {"path":"build/rednose-model-undo/rednose-model-undo.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":30},"end":{"line":1,"column":49}}},"2":{"name":"(anonymous_2)","line":46,"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":29}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":24},"end":{"line":49,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":16},"end":{"line":61,"column":28}}},"5":{"name":"(anonymous_5)","line":74,"loc":{"start":{"line":74,"column":15},"end":{"line":74,"column":40}}},"6":{"name":"(anonymous_6)","line":104,"loc":{"start":{"line":104,"column":10},"end":{"line":104,"column":22}}},"7":{"name":"(anonymous_7)","line":120,"loc":{"start":{"line":120,"column":10},"end":{"line":120,"column":22}}},"8":{"name":"(anonymous_8)","line":136,"loc":{"start":{"line":136,"column":13},"end":{"line":136,"column":25}}},"9":{"name":"(anonymous_9)","line":145,"loc":{"start":{"line":145,"column":13},"end":{"line":145,"column":25}}},"10":{"name":"(anonymous_10)","line":154,"loc":{"start":{"line":154,"column":13},"end":{"line":154,"column":25}}},"11":{"name":"(anonymous_11)","line":167,"loc":{"start":{"line":167,"column":13},"end":{"line":167,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":180,"column":37}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":9}},"3":{"start":{"line":19,"column":0},"end":{"line":174,"column":3}},"4":{"start":{"line":47,"column":8},"end":{"line":47,"column":24}},"5":{"start":{"line":49,"column":8},"end":{"line":54,"column":11}},"6":{"start":{"line":50,"column":12},"end":{"line":50,"column":33}},"7":{"start":{"line":51,"column":12},"end":{"line":51,"column":28}},"8":{"start":{"line":53,"column":12},"end":{"line":53,"column":29}},"9":{"start":{"line":62,"column":8},"end":{"line":62,"column":31}},"10":{"start":{"line":75,"column":8},"end":{"line":76,"column":24}},"11":{"start":{"line":78,"column":8},"end":{"line":78,"column":47}},"12":{"start":{"line":80,"column":8},"end":{"line":83,"column":9}},"13":{"start":{"line":81,"column":12},"end":{"line":81,"column":21}},"14":{"start":{"line":82,"column":12},"end":{"line":82,"column":51}},"15":{"start":{"line":85,"column":8},"end":{"line":87,"column":9}},"16":{"start":{"line":86,"column":12},"end":{"line":86,"column":86}},"17":{"start":{"line":89,"column":8},"end":{"line":93,"column":11}},"18":{"start":{"line":95,"column":8},"end":{"line":95,"column":45}},"19":{"start":{"line":96,"column":8},"end":{"line":96,"column":28}},"20":{"start":{"line":105,"column":8},"end":{"line":110,"column":9}},"21":{"start":{"line":106,"column":12},"end":{"line":106,"column":26}},"22":{"start":{"line":107,"column":12},"end":{"line":107,"column":75}},"23":{"start":{"line":109,"column":12},"end":{"line":109,"column":24}},"24":{"start":{"line":112,"column":8},"end":{"line":112,"column":21}},"25":{"start":{"line":121,"column":8},"end":{"line":126,"column":9}},"26":{"start":{"line":122,"column":12},"end":{"line":122,"column":26}},"27":{"start":{"line":123,"column":12},"end":{"line":123,"column":79}},"28":{"start":{"line":125,"column":12},"end":{"line":125,"column":24}},"29":{"start":{"line":128,"column":8},"end":{"line":128,"column":21}},"30":{"start":{"line":137,"column":8},"end":{"line":137,"column":31}},"31":{"start":{"line":146,"column":8},"end":{"line":146,"column":95}},"32":{"start":{"line":155,"column":8},"end":{"line":157,"column":9}},"33":{"start":{"line":156,"column":12},"end":{"line":156,"column":58}},"34":{"start":{"line":159,"column":8},"end":{"line":159,"column":20}},"35":{"start":{"line":168,"column":8},"end":{"line":170,"column":9}},"36":{"start":{"line":169,"column":12},"end":{"line":169,"column":54}},"37":{"start":{"line":172,"column":8},"end":{"line":172,"column":20}},"38":{"start":{"line":177,"column":0},"end":{"line":177,"column":41}}},"branchMap":{"1":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":8}},{"start":{"line":80,"column":8},"end":{"line":80,"column":8}}]},"2":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":8}},{"start":{"line":85,"column":8},"end":{"line":85,"column":8}}]},"3":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":8}},{"start":{"line":105,"column":8},"end":{"line":105,"column":8}}]},"4":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":8},"end":{"line":121,"column":8}},{"start":{"line":121,"column":8},"end":{"line":121,"column":8}}]},"5":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":16},"end":{"line":146,"column":53}},{"start":{"line":146,"column":58},"end":{"line":146,"column":94}}]},"6":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":155,"column":8}},{"start":{"line":155,"column":8},"end":{"line":155,"column":8}}]},"7":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":8},"end":{"line":168,"column":8}},{"start":{"line":168,"column":8},"end":{"line":168,"column":8}}]}},"code":["(function () { YUI.add('rednose-model-undo', function (Y, NAME) {","","/**","Extension for Model, allows moving forward or backward to a model's snapshot list.","","@module rednose-app","@submodule rednose-model-undo","**/","var Undo;","","/**","Extension for Model, allows moving forward or backward to a model's snapshot list.","","@class Undo","@namespace Rednose.Model","@constructor","@extensionfor Model","**/","Undo = Y.Base.create('undo', Y.Model, [], {","    // -- Protected Properties -------------------------------------------------","","    /**","    Stores the model revisions as JSON snapshots.","","    @property _revisions","    @type Array","    @protected","    **/","    _revisions: [],","","    /**","    The current snapshot index.","","    @property _index","    @type Integer","    @protected","    **/","    _index: 0,","","    // -- Lifecycle Methods ----------------------------------------------------","","    /**","    @method initializer","    @protected","    **/","    initializer: function () {","        var self = this;","","        this.on('init', function () {","            self._revisions = [];","            self._index = 0;","","            self.addAction();","        });","    },","","    /**","    @method destructor","    @protected","    **/","    destructor: function () {","        this._revisions = null;","    },","","    // -- Public Methods -------------------------------------------------------","","    /**","    Push a snapshot of a model transaction onto the stack.","","    @method addAction","    @param {String} label The label for the undo action.","    @param {Function} action The model transaction to snapshot.","    **/","    addAction: function (label, action) {","        var undo = null,","            redo = null;","","        undo = Y.JSON.stringify(this.toJSON());","","        if (typeof action === 'function') {","            action();","            redo = Y.JSON.stringify(this.toJSON());","        }","","        if (this._index < this._revisions.length) {","            this._revisions.splice(this._index, this._revisions.length - this._index);","        }","","        this._revisions.push({","            label: label,","            undo: undo,","            redo: redo","        });","","        this._index = this._revisions.length;","        this.fire('change');","    },","","    /**","    Reverts the model state to a previous snapshot.","","    @method undo","    **/","    undo: function () {","        if (this.canUndo()) {","            this._index--;","            this.setAttrs(Y.JSON.parse(this._revisions[this._index].undo));","","            return true;","        }","","        return false;","    },","","    /**","    Reverts the model state to a next snapshot.","","    @method redo","    **/","    redo: function () {","        if (this.canRedo()) {","            this._index++;","            this.setAttrs(Y.JSON.parse(this._revisions[this._index - 1].redo));","","            return true;","        }","","        return false;","    },","","    /**","    Returns whether there's a transaction to be undone.","","    @method canUndo","    **/","    canUndo: function () {","        return this._index > 1;","    },","","    /**","    Returns whether there's a transaction to be redone.","","    @method canRedo","    **/","    canRedo: function () {","        return (this._revisions[this._index] !== null) && this._index < this._revisions.length;","    },","","    /**","    Returns the label of the queued `undo` transaction.","","    @method getUndo","    **/","    getUndo: function () {","        if (this.canUndo()) {","            return this._revisions[this._index - 1].label;","        }","","        return null;","    },","","    /**","    Returns the label of the queued `redo` transaction.","","    @method getUndo","    **/","    getRedo: function () {","        if (this.canRedo()) {","            return this._revisions[this._index].label;","        }","","        return null;","    }","});","","// -- Namespace ----------------------------------------------------------------","Y.namespace('Rednose.Model').Undo = Undo;","","","}, '1.4.0', {\"requires\": [\"model\"]});","","}());"]};
}
var __cov_BxyegRwDleiYJbeTowcVmA = __coverage__['build/rednose-model-undo/rednose-model-undo.js'];
__cov_BxyegRwDleiYJbeTowcVmA.s['1']++;YUI.add('rednose-model-undo',function(Y,NAME){__cov_BxyegRwDleiYJbeTowcVmA.f['1']++;__cov_BxyegRwDleiYJbeTowcVmA.s['2']++;var Undo;__cov_BxyegRwDleiYJbeTowcVmA.s['3']++;Undo=Y.Base.create('undo',Y.Model,[],{_revisions:[],_index:0,initializer:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['2']++;__cov_BxyegRwDleiYJbeTowcVmA.s['4']++;var self=this;__cov_BxyegRwDleiYJbeTowcVmA.s['5']++;this.on('init',function(){__cov_BxyegRwDleiYJbeTowcVmA.f['3']++;__cov_BxyegRwDleiYJbeTowcVmA.s['6']++;self._revisions=[];__cov_BxyegRwDleiYJbeTowcVmA.s['7']++;self._index=0;__cov_BxyegRwDleiYJbeTowcVmA.s['8']++;self.addAction();});},destructor:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['4']++;__cov_BxyegRwDleiYJbeTowcVmA.s['9']++;this._revisions=null;},addAction:function(label,action){__cov_BxyegRwDleiYJbeTowcVmA.f['5']++;__cov_BxyegRwDleiYJbeTowcVmA.s['10']++;var undo=null,redo=null;__cov_BxyegRwDleiYJbeTowcVmA.s['11']++;undo=Y.JSON.stringify(this.toJSON());__cov_BxyegRwDleiYJbeTowcVmA.s['12']++;if(typeof action==='function'){__cov_BxyegRwDleiYJbeTowcVmA.b['1'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['13']++;action();__cov_BxyegRwDleiYJbeTowcVmA.s['14']++;redo=Y.JSON.stringify(this.toJSON());}else{__cov_BxyegRwDleiYJbeTowcVmA.b['1'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['15']++;if(this._index<this._revisions.length){__cov_BxyegRwDleiYJbeTowcVmA.b['2'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['16']++;this._revisions.splice(this._index,this._revisions.length-this._index);}else{__cov_BxyegRwDleiYJbeTowcVmA.b['2'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['17']++;this._revisions.push({label:label,undo:undo,redo:redo});__cov_BxyegRwDleiYJbeTowcVmA.s['18']++;this._index=this._revisions.length;__cov_BxyegRwDleiYJbeTowcVmA.s['19']++;this.fire('change');},undo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['6']++;__cov_BxyegRwDleiYJbeTowcVmA.s['20']++;if(this.canUndo()){__cov_BxyegRwDleiYJbeTowcVmA.b['3'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['21']++;this._index--;__cov_BxyegRwDleiYJbeTowcVmA.s['22']++;this.setAttrs(Y.JSON.parse(this._revisions[this._index].undo));__cov_BxyegRwDleiYJbeTowcVmA.s['23']++;return true;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['3'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['24']++;return false;},redo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['7']++;__cov_BxyegRwDleiYJbeTowcVmA.s['25']++;if(this.canRedo()){__cov_BxyegRwDleiYJbeTowcVmA.b['4'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['26']++;this._index++;__cov_BxyegRwDleiYJbeTowcVmA.s['27']++;this.setAttrs(Y.JSON.parse(this._revisions[this._index-1].redo));__cov_BxyegRwDleiYJbeTowcVmA.s['28']++;return true;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['4'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['29']++;return false;},canUndo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['8']++;__cov_BxyegRwDleiYJbeTowcVmA.s['30']++;return this._index>1;},canRedo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['9']++;__cov_BxyegRwDleiYJbeTowcVmA.s['31']++;return(__cov_BxyegRwDleiYJbeTowcVmA.b['5'][0]++,this._revisions[this._index]!==null)&&(__cov_BxyegRwDleiYJbeTowcVmA.b['5'][1]++,this._index<this._revisions.length);},getUndo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['10']++;__cov_BxyegRwDleiYJbeTowcVmA.s['32']++;if(this.canUndo()){__cov_BxyegRwDleiYJbeTowcVmA.b['6'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['33']++;return this._revisions[this._index-1].label;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['6'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['34']++;return null;},getRedo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['11']++;__cov_BxyegRwDleiYJbeTowcVmA.s['35']++;if(this.canRedo()){__cov_BxyegRwDleiYJbeTowcVmA.b['7'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['36']++;return this._revisions[this._index].label;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['7'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['37']++;return null;}});__cov_BxyegRwDleiYJbeTowcVmA.s['38']++;Y.namespace('Rednose.Model').Undo=Undo;},'1.4.0',{'requires':['model']});
