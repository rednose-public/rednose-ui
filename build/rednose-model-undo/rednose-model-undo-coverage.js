if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/rednose-model-undo/rednose-model-undo.js']) {
   __coverage__['build/rednose-model-undo/rednose-model-undo.js'] = {"path":"build/rednose-model-undo/rednose-model-undo.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":30},"end":{"line":1,"column":49}}},"2":{"name":"(anonymous_2)","line":42,"loc":{"start":{"line":42,"column":17},"end":{"line":42,"column":29}}},"3":{"name":"(anonymous_3)","line":45,"loc":{"start":{"line":45,"column":24},"end":{"line":45,"column":36}}},"4":{"name":"(anonymous_4)","line":53,"loc":{"start":{"line":53,"column":16},"end":{"line":53,"column":28}}},"5":{"name":"(anonymous_5)","line":66,"loc":{"start":{"line":66,"column":15},"end":{"line":66,"column":40}}},"6":{"name":"(anonymous_6)","line":100,"loc":{"start":{"line":100,"column":10},"end":{"line":100,"column":22}}},"7":{"name":"(anonymous_7)","line":114,"loc":{"start":{"line":114,"column":10},"end":{"line":114,"column":22}}},"8":{"name":"(anonymous_8)","line":128,"loc":{"start":{"line":128,"column":13},"end":{"line":128,"column":25}}},"9":{"name":"(anonymous_9)","line":137,"loc":{"start":{"line":137,"column":13},"end":{"line":137,"column":25}}},"10":{"name":"(anonymous_10)","line":146,"loc":{"start":{"line":146,"column":13},"end":{"line":146,"column":25}}},"11":{"name":"(anonymous_11)","line":159,"loc":{"start":{"line":159,"column":13},"end":{"line":159,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":172,"column":41}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":9}},"3":{"start":{"line":19,"column":0},"end":{"line":166,"column":3}},"4":{"start":{"line":43,"column":8},"end":{"line":43,"column":24}},"5":{"start":{"line":45,"column":8},"end":{"line":50,"column":11}},"6":{"start":{"line":46,"column":12},"end":{"line":46,"column":33}},"7":{"start":{"line":47,"column":12},"end":{"line":47,"column":28}},"8":{"start":{"line":49,"column":12},"end":{"line":49,"column":29}},"9":{"start":{"line":54,"column":8},"end":{"line":54,"column":31}},"10":{"start":{"line":67,"column":8},"end":{"line":68,"column":17}},"11":{"start":{"line":71,"column":8},"end":{"line":73,"column":9}},"12":{"start":{"line":72,"column":12},"end":{"line":72,"column":27}},"13":{"start":{"line":75,"column":8},"end":{"line":78,"column":9}},"14":{"start":{"line":76,"column":12},"end":{"line":76,"column":21}},"15":{"start":{"line":77,"column":12},"end":{"line":77,"column":51}},"16":{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},"17":{"start":{"line":81,"column":12},"end":{"line":81,"column":86}},"18":{"start":{"line":84,"column":8},"end":{"line":88,"column":11}},"19":{"start":{"line":90,"column":8},"end":{"line":90,"column":45}},"20":{"start":{"line":92,"column":8},"end":{"line":92,"column":28}},"21":{"start":{"line":101,"column":8},"end":{"line":103,"column":9}},"22":{"start":{"line":102,"column":12},"end":{"line":102,"column":19}},"23":{"start":{"line":105,"column":8},"end":{"line":105,"column":22}},"24":{"start":{"line":106,"column":8},"end":{"line":106,"column":71}},"25":{"start":{"line":115,"column":8},"end":{"line":117,"column":9}},"26":{"start":{"line":116,"column":12},"end":{"line":116,"column":19}},"27":{"start":{"line":119,"column":8},"end":{"line":119,"column":22}},"28":{"start":{"line":120,"column":8},"end":{"line":120,"column":75}},"29":{"start":{"line":129,"column":8},"end":{"line":129,"column":31}},"30":{"start":{"line":138,"column":8},"end":{"line":138,"column":95}},"31":{"start":{"line":147,"column":8},"end":{"line":149,"column":9}},"32":{"start":{"line":148,"column":12},"end":{"line":148,"column":58}},"33":{"start":{"line":151,"column":8},"end":{"line":151,"column":20}},"34":{"start":{"line":160,"column":8},"end":{"line":162,"column":9}},"35":{"start":{"line":161,"column":12},"end":{"line":161,"column":54}},"36":{"start":{"line":164,"column":8},"end":{"line":164,"column":20}},"37":{"start":{"line":169,"column":0},"end":{"line":169,"column":41}}},"branchMap":{"1":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":8},"end":{"line":71,"column":8}},{"start":{"line":71,"column":8},"end":{"line":71,"column":8}}]},"2":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"3":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":8}},{"start":{"line":80,"column":8},"end":{"line":80,"column":8}}]},"4":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":8},"end":{"line":101,"column":8}},{"start":{"line":101,"column":8},"end":{"line":101,"column":8}}]},"5":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":8},"end":{"line":115,"column":8}},{"start":{"line":115,"column":8},"end":{"line":115,"column":8}}]},"6":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":16},"end":{"line":138,"column":53}},{"start":{"line":138,"column":58},"end":{"line":138,"column":94}}]},"7":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":8},"end":{"line":147,"column":8}},{"start":{"line":147,"column":8},"end":{"line":147,"column":8}}]},"8":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":8},"end":{"line":160,"column":8}},{"start":{"line":160,"column":8},"end":{"line":160,"column":8}}]}},"code":["(function () { YUI.add('rednose-model-undo', function (Y, NAME) {","","/**"," * Extension for Model, allows moving forward or backward to a model's snapshot list."," *"," * @module rednose-app"," * @submodule rednose-model-undo"," */","var Undo;","","/**"," * Extension for Model, allows moving forward or backward to a model's snapshot list."," *"," * @class Undo"," * @namespace Rednose.Model"," * @constructor"," * @extensionfor Model"," */","Undo = Y.Base.create('undo', Y.Model, [], {","    // -- Protected Properties -------------------------------------------------","","    /**","     * Stores the model revisions as JSON snapshots.","     *","     * @property _revisions","     * @type Array","     * @protected","     */","    _revisions: [],","","    /**","     * The current snapshot index.","     *","     * @property _index","     * @type Integer","     * @protected","     */","    _index: 0,","","    // -- Lifecycle Methods ----------------------------------------------------","","    initializer: function () {","        var self = this;","","        this.on('init', function () {","            self._revisions = [];","            self._index = 0;","","            self.addAction();","        });","    },","","    destructor: function () {","        this._revisions = null;","    },","","    // -- Public Methods -------------------------------------------------------","","    /**","     * Push a snapshot of a model transaction onto the stack.","     *","     * @method addAction","     * @param {String} label The label for the undo action.","     * @param {Function} action The model transaction to snapshot.","     */","    addAction: function (label, action) {","        var undo = Y.JSON.stringify(this.toJSON()),","            redo;","","        // Allow the label to be omitted.","        if (typeof label === 'function') {","            action = label;","        }","","        if (typeof action === 'function') {","            action();","            redo = Y.JSON.stringify(this.toJSON());","        }","","        if (this._index < this._revisions.length) {","            this._revisions.splice(this._index, this._revisions.length - this._index);","        }","","        this._revisions.push({","            label: label,","            undo: undo,","            redo: redo","        });","","        this._index = this._revisions.length;","","        this.fire('change');","    },","","    /**","     * Reverts the model state to a previous snapshot.","     *","     * @method undo","     */","    undo: function () {","        if (!this.canUndo()) {","            return;","        }","","        this._index--;","        this.setAttrs(Y.JSON.parse(this._revisions[this._index].undo));","    },","","    /**","     * Reverts the model state to a next snapshot.","     *","     * @method redo","     */","    redo: function () {","        if (!this.canRedo()) {","            return;","        }","","        this._index++;","        this.setAttrs(Y.JSON.parse(this._revisions[this._index - 1].redo));","    },","","    /**","     * Returns whether there's a transaction to be undone or not.","     *","     * @method canUndo","     */","    canUndo: function () {","        return this._index > 0;","    },","","    /**","     * Returns whether there's a transaction to be redone or not.","     *","     * @method canRedo","     */","    canRedo: function () {","        return (this._revisions[this._index] !== null) && this._index < this._revisions.length;","    },","","    /**","     * Returns the label of the queued `undo` transaction.","     *","     * @method getUndo","     */","    getUndo: function () {","        if (this.canUndo()) {","            return this._revisions[this._index - 1].label;","        }","","        return null;","    },","","    /**","     * Returns the label of the queued `redo` transaction.","     *","     * @method getUndo","     */","    getRedo: function () {","        if (this.canRedo()) {","            return this._revisions[this._index].label;","        }","","        return null;","    }","});","","// -- Namespace ----------------------------------------------------------------","Y.namespace('Rednose.Model').Undo = Undo;","","","}, '1.5.0-DEV', {\"requires\": [\"model\"]});","","}());"]};
}
var __cov_BxyegRwDleiYJbeTowcVmA = __coverage__['build/rednose-model-undo/rednose-model-undo.js'];
__cov_BxyegRwDleiYJbeTowcVmA.s['1']++;YUI.add('rednose-model-undo',function(Y,NAME){__cov_BxyegRwDleiYJbeTowcVmA.f['1']++;__cov_BxyegRwDleiYJbeTowcVmA.s['2']++;var Undo;__cov_BxyegRwDleiYJbeTowcVmA.s['3']++;Undo=Y.Base.create('undo',Y.Model,[],{_revisions:[],_index:0,initializer:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['2']++;__cov_BxyegRwDleiYJbeTowcVmA.s['4']++;var self=this;__cov_BxyegRwDleiYJbeTowcVmA.s['5']++;this.on('init',function(){__cov_BxyegRwDleiYJbeTowcVmA.f['3']++;__cov_BxyegRwDleiYJbeTowcVmA.s['6']++;self._revisions=[];__cov_BxyegRwDleiYJbeTowcVmA.s['7']++;self._index=0;__cov_BxyegRwDleiYJbeTowcVmA.s['8']++;self.addAction();});},destructor:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['4']++;__cov_BxyegRwDleiYJbeTowcVmA.s['9']++;this._revisions=null;},addAction:function(label,action){__cov_BxyegRwDleiYJbeTowcVmA.f['5']++;__cov_BxyegRwDleiYJbeTowcVmA.s['10']++;var undo=Y.JSON.stringify(this.toJSON()),redo;__cov_BxyegRwDleiYJbeTowcVmA.s['11']++;if(typeof label==='function'){__cov_BxyegRwDleiYJbeTowcVmA.b['1'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['12']++;action=label;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['1'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['13']++;if(typeof action==='function'){__cov_BxyegRwDleiYJbeTowcVmA.b['2'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['14']++;action();__cov_BxyegRwDleiYJbeTowcVmA.s['15']++;redo=Y.JSON.stringify(this.toJSON());}else{__cov_BxyegRwDleiYJbeTowcVmA.b['2'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['16']++;if(this._index<this._revisions.length){__cov_BxyegRwDleiYJbeTowcVmA.b['3'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['17']++;this._revisions.splice(this._index,this._revisions.length-this._index);}else{__cov_BxyegRwDleiYJbeTowcVmA.b['3'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['18']++;this._revisions.push({label:label,undo:undo,redo:redo});__cov_BxyegRwDleiYJbeTowcVmA.s['19']++;this._index=this._revisions.length;__cov_BxyegRwDleiYJbeTowcVmA.s['20']++;this.fire('change');},undo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['6']++;__cov_BxyegRwDleiYJbeTowcVmA.s['21']++;if(!this.canUndo()){__cov_BxyegRwDleiYJbeTowcVmA.b['4'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['22']++;return;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['4'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['23']++;this._index--;__cov_BxyegRwDleiYJbeTowcVmA.s['24']++;this.setAttrs(Y.JSON.parse(this._revisions[this._index].undo));},redo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['7']++;__cov_BxyegRwDleiYJbeTowcVmA.s['25']++;if(!this.canRedo()){__cov_BxyegRwDleiYJbeTowcVmA.b['5'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['26']++;return;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['5'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['27']++;this._index++;__cov_BxyegRwDleiYJbeTowcVmA.s['28']++;this.setAttrs(Y.JSON.parse(this._revisions[this._index-1].redo));},canUndo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['8']++;__cov_BxyegRwDleiYJbeTowcVmA.s['29']++;return this._index>0;},canRedo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['9']++;__cov_BxyegRwDleiYJbeTowcVmA.s['30']++;return(__cov_BxyegRwDleiYJbeTowcVmA.b['6'][0]++,this._revisions[this._index]!==null)&&(__cov_BxyegRwDleiYJbeTowcVmA.b['6'][1]++,this._index<this._revisions.length);},getUndo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['10']++;__cov_BxyegRwDleiYJbeTowcVmA.s['31']++;if(this.canUndo()){__cov_BxyegRwDleiYJbeTowcVmA.b['7'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['32']++;return this._revisions[this._index-1].label;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['7'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['33']++;return null;},getRedo:function(){__cov_BxyegRwDleiYJbeTowcVmA.f['11']++;__cov_BxyegRwDleiYJbeTowcVmA.s['34']++;if(this.canRedo()){__cov_BxyegRwDleiYJbeTowcVmA.b['8'][0]++;__cov_BxyegRwDleiYJbeTowcVmA.s['35']++;return this._revisions[this._index].label;}else{__cov_BxyegRwDleiYJbeTowcVmA.b['8'][1]++;}__cov_BxyegRwDleiYJbeTowcVmA.s['36']++;return null;}});__cov_BxyegRwDleiYJbeTowcVmA.s['37']++;Y.namespace('Rednose.Model').Undo=Undo;},'1.5.0-DEV',{'requires':['model']});
