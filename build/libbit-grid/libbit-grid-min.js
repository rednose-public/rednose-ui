YUI.add("libbit-grid",function(e,t){var n,r;r=e.Base.create("gridView",e.View,[],{template:e.Handlebars.compile('<div class="model-grid-container" title="{{ name }}" data-yui3-record="{{ clientId }}">    <div class="model-grid-icon-container">        <div class="model-grid-icon-wrapper">            <div class="model-grid-icon" />       </div>    </div>    <div class="model-grid-footer">        <div class="model-grid-name">{{ name }}</div>        <input class="edit" type="text" value="{{ name }}" />        <div class="model-grid-date">{{ dateCreated }}</div>    </div></div>'),events:{".model-grid-name":{click:"edit"},".edit":{blur:"close",keypress:"enterUpdate"}},render:function(){var t=this.get("container"),n=this.get("model"),r=this.get("contextMenu"),i;return i=this.template(n.getAttrs()),t.setContent(i),r!==!1&&t.one(".model-grid-icon-container").plug(e.Libbit.ContextMenu,{content:r,data:n,bubbleTarget:this}),this.set("inputNode",t.one(".edit")),this.set("footerNode",t.one(".model-grid-footer")),this},edit:function(){this.get("footerNode").addClass("editing"),this.get("inputNode").focus()},close:function(){var t=this.get("inputNode").get("value"),n=this,r=e.Escape.html(e.Lang.trim(t)),i=this.get("model");this.get("footerNode").removeClass("editing");if(r){var s=n.get("footerNode").one(".model-grid-name");s.set("innerHTML","Loading..."),i.set("name",r),i.save(function(){n.get("inputNode").set("value",i.get("name")),s.set("innerHTML",i.get("name"))})}},enterUpdate:function(e){var t=13;e.keyCode===t&&this.close()},contextMenu:function(e){}},{ATTRS:{model:{value:[]},contextMenu:{value:!1}}}),n=e.Base.create("grid",e.Widget,[e.Libbit.Grid.Selectable],{targets:null,renderUI:function(){this.targets=this.getTargets(),this._renderGridItems()},_renderGridItems:function(){var t=this.get("contentBox"),n=this.get("contextMenu"),i=this,s=this.get("data");e.each(s,function(e){var s=new r({model:e,contextMenu:n}),o=s.render().get("container");for(var u in i.targets)s.addTarget(i.targets[u]);t.append(o)})}},{ATTRS:{data:{value:[]},contextMenu:{value:!1}}}),e.namespace("Libbit").Grid=n},"1.0.0",{requires:["handlebars","libbit-grid-select","libbit-contextmenu","model-list","view"],skinnable:!0});
