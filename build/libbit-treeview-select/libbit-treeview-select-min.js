YUI.add("libbit-treeview-select",function(e,t){var n;n=e.Base.create("selectable",e.Base,[],{_selectMap:[],initializer:function(){this.on("select",this._handleSelectState,this),this.on("unselect",this._handleUnSelectState,this),this.after("select",this._handleSelect,this),this.after("unselect",this._handleUnselect,this),e.Do.after(this._restoreSelectState,this,"render")},_restoreSelectState:function(){var t=this.get("container"),n=this;this._selectMap&&this._selectMap.length>0&&e.Array.each(this._selectMap,function(e){var r=n.parseLibbitRecordId(e);t.all("[data-libbit-type="+r[0]+"]").each(function(e){e.getData("libbit-id")===r[1]&&n.getNodeById(e.getData("node-id")).select()})})},_handleSelect:function(e){var t=this.getHTMLNode(e.node);t.one(".libbit-treeview-icon").addClass("icon-white")},_handleUnselect:function(e){var t=this.getHTMLNode(e.node);selectable=this.get("selectable"),t.one(".libbit-treeview-icon").hasClass("icon-white")&&t.one(".libbit-treeview-icon").removeClass("icon-white")},_handleSelectState:function(t){var n=this.generateLibbitRecordId(t.node.data),r=e.Array.indexOf(this._selectMap,n);selectable=this.get("selectable"),selectable||t.stopImmediatePropagation(),selectable&&r===-1&&this._selectMap.push(n)},_handleUnSelectState:function(t){var n=this.generateLibbitRecordId(t.node.data),r=e.Array.indexOf(this._selectMap,n);r!==-1&&this._selectMap.splice(r,1)}},{ATTRS:{selectable:{value:!0}}}),e.namespace("Libbit.TreeView").Selectable=n},"1.0.0",{requires:["libbit-treeview"]});
