YUI.add("libbit-dialog",function(e,t){function n(e){n.superclass.constructor.apply(this,arguments)}n.NAME="dialog",n.ATTRS={error:{value:null}},e.extend(n,e.Widget,{initializer:function(){this.after("errorChange",this._setError,this)},_setError:function(e){var t=e.newVal,n=this.panel.panelObject.get("boundingBox"),r;n.all(".control-group").each(function(e){e.hasClass("error")&&e.removeClass("error"),e.all(".help-block").remove()}),r=n.one("[data-path="+t.path+"]"),r.ancestor(".control-group").addClass("error"),r.get("parentNode").append('<span class="help-block">'+t.message+"</span>"),r.focus()},hide:function(){this.panel.panelObject.destroy()}}),n.prompt=function(t,n,r,i){var s,o;i==null&&(i=""),input=e.Node.create('<input type="text" value="'+i+'" id="input">'),s=e.Node.create('<form action="#" class="form-horizontal">   <div class="icon icon_absolute dialog_prompt_icon"></div>   <div class="control-group">       <label for="input" class="control-label">'+n+"</label>"+'       <div class="controls"></div>'+"   </div>"+"</form>"),s.one(".controls").append(input),o=(new e.Libbit.Panel({bodyContent:s,headerContent:t,zIndex:e.all("*").size(),width:500,buttons:[{value:"OK",section:e.WidgetStdMod.FOOTER,isDefault:!0,action:function(){if(r!=null){var e=input.get("value");r(e)&&o.destroy()}},classNames:"btn btn-primary"},{value:"Cancel",section:e.WidgetStdMod.FOOTER,action:function(){o.destroy()},classNames:"btn"}],centered:!0,modal:!0,visible:!0})).render(),input.focus(),input.on("keyup",function(e){if(e.button===13){var t=o.get("buttons");for(var n in t.footer){var r=t.footer[n];r.hasClass("btn-primary")&&r.simulate("click")}}}),o.get("boundingBox").addClass("libbit-dialog"),o.get("boundingBox").all(".yui3-button").each(function(){this.removeClass("yui3-button").removeClass("yui3-button-primary")})},n.confirm=function(t,n,r,i,s){var o,u;i=typeof i!="undefined"?i:!1,s=typeof s!="undefined"?s:"OK",o=e.Node.create('<div class="icon '+(i?"dialog_warning_icon":"dialog_prompt_icon")+'"></div>'+"<div><p>"+n+"</p></div>"),u=(new e.Libbit.Panel({bodyContent:o,headerContent:t,zIndex:e.all("*").size(),width:500,buttons:[{value:s,section:e.WidgetStdMod.FOOTER,isDefault:!0,action:function(){r&&r(),u.destroy()},classNames:"btn "+(i?"btn-warning":"btn-primary")},{value:"No",section:e.WidgetStdMod.FOOTER,isDefault:!1,action:function(){u.destroy()},classNames:"btn"}],centered:!0,modal:!0,visible:!0})).render(),u.get("boundingBox").addClass("libbit-dialog"),u.get("boundingBox").all(".yui3-button").each(function(){this.removeClass("yui3-button").removeClass("yui3-button-primary")})},n.error=function(t,n,r){var i,s;r?i=e.Node.create('<div class="icon dialog_warning_icon"></div><div><p>'+n+"</p></div>"):i=e.Node.create('<div class="icon dialog_error_icon"></div><div><p>'+n+"</p></div>"),s=(new e.Libbit.Panel({bodyContent:i,headerContent:t,zIndex:e.all("*").size(),width:500,buttons:[{value:"OK",section:e.WidgetStdMod.FOOTER,isDefault:!0,action:function(){s.destroy()},classNames:"btn "+(r?"btn-warning":"btn-danger")}],centered:!0,modal:!0,visible:!0})).render(),s.get("boundingBox").addClass("libbit-dialog"),s.get("boundingBox").all(".yui3-button").each(function(){this.removeClass("yui3-button").removeClass("yui3-button-primary")})},e.namespace("Libbit").Dialog=n},"1.0.0",{requires:["dd","dd-plugin","json-parse","node","libbit-panel","widget"],skinnable:!0});
