YUI.add("libbit-model-tree",function(e,t){var n;n=e.Base.create("modelTree",e.Model,[],{getByAttr:function(e,t,n){var r=this.get("items"),i=this._treeFind(n,r,t,e);return i?i.data:null},getByClientId:function(e){var t=this.get("items"),n=this._treeFind(e,t);return n?n.data:null},getLeavesByClientId:function(t){var n=this.get("items"),r=this._treeFind(t,n),i=[];return e.Array.each(r.children,function(t){e.Lang.isArray(t.children)===!1&&i.push(t.data)}),i},getBranches:function(){var e=this.get("items"),t=this._findBranches(e);return t},_findBranches:function(t){var n=this,r=[];return e.Array.each(t,function(t){var i={};e.instanceOf(t.data,e.TB.Category)&&(i.label=t.label,i.data=t.data,t.children&&(i.children=n._findBranches(t.children)),r.push(i))}),r},_treeFind:function(t,n,r,i){var s=this,o=null;return r=r||"clientId",e.Array.each(n,function(n){n.data.get(r)===t&&(!i||n.data.name===i)&&(o=n),e.Lang.isNull(o)&&n.children&&(o=s._treeFind(t,n.children,r,i))}),o}},{ATTRS:{items:{value:[]}}}),e.namespace("Libbit").ModelTree=n},"1.0.0",{requires:["model"]});
