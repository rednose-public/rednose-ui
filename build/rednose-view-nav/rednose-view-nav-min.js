YUI.add("rednose-view-nav",function(e,t){var n=e.Template.Micro,r="close",i=e.Base.create("viewNav",e.View,[],{footer:!0,close:!1,padding:!1,templates:{header:n.compile('<div style="width: 100%;"><% if (data.close) { %><div style="float: right; white-space: nowrap;"><button class="<%= data.classNames.close %>">&times;</button></div><% } %><div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"><%= data.title %></div></div>')},classNames:{nav:"rednose-view-nav",close:"close"},_body:null,_footer:null,_panel:null,initializer:function(){this._viewNavEventHandles||(this._viewNavEventHandles=[]);var t=this.get("container");this._viewNavEventHandles.push(e.Do.after(this._afterRender,this,"render",this),t.delegate("click",this._onCloseClick,".close",this)),this.footer&&this._buildFooter()},destructor:function(){(new e.EventHandle(this._viewNavEventHandles)).detach(),this._panel&&this._panel.destroy(),this.title=null,this.buttons=null,this._footer=null,this._panel=null,this.toolbar&&(this.toolbar.removeTarget(this),this.toolbar.destroy(),this.toolbar=null)},sizeView:function(e){var t=parseInt(e.get("offsetHeight"),10);if(isNaN(t))return;this.title&&(t-=46),this.buttons&&(t-=56),this._body.set("offsetHeight",t),this._body.one(".rednose-unit-left")&&this._body.one(".rednose-unit-left").setStyle("height",t),this._body.one(".rednose-unit-right")&&this._body.one(".rednose-unit-right").setStyle("height",t),this._body.one(".rednose-unit-right")&&this._body.one(".rednose-unit-right").setStyle("top",46),this.fire(EVT_LOAD)},_buildFooter:function(){this._footer=e.Node.create("<div></div>"),this.buttonGroups&&(this.toolbar=(new e.Rednose.Toolbar({container:this._footer,groups:this.buttonGroups})).render(),this.toolbar.addTarget(this))},_getMagicClassName:function(t){return i.CSS_PREFIX+"-"+e.Rednose.Util.camelCaseToDash(t)},_onCloseClick:function(e){this.fire(r,{originEvent:e})},_afterRender:function(){var t=this.get("container"),n=this.classNames,r=this.title,i=e.Node.create("<div></div>"),s=this._footer,o={bodyContent:i},u=this.close;t.addClass(n.nav),t.get("children").each(function(e){i.append(e)}),r&&(o.headerContent=this.templates.header({classNames:n,title:r,close:u})),s&&(o.footerContent=s),this._panel=new e.Rednose.NavContainer(o),this._panel.render(t);var a=this._panel.get("boundingBox").one(".yui3-widget-bd"),f=this._getMagicClassName(this.name);a.addClass(f),this.padding===!1&&a.setStyle("padding",0),this._body=i,this.footer?t.one(".yui3-widget-ft")&&t.one(".yui3-widget-ft").show():t.one(".yui3-widget-ft")&&t.one(".yui3-widget-ft").hide();var l=t.get("parentNode");l&&this.sizeView(l)}},{CSS_PREFIX:"rednose"});e.namespace("Rednose.View").Nav=i},"1.5.0-DEV",{requires:["event-custom","rednose-toolbar","rednose-panel","rednose-util","rednose-widget-nav-container","template-micro","view"]});
