YUI.add("rednose-view-nav",function(e,t){var n=e.Template.Micro,r="rednose",i="rednose-view-nav",s="btn",o="btn-group",u="active",a="btn-primary",f="disabled",l="float-left",c="float-right",h="close",p="buttonClose",d="load",v=e.Base.create("viewNav",e.View,[],{title:null,buttons:null,footer:!0,close:!1,padding:!1,templates:{header:n.compile('<div style="width: 100%;"><% if (data.close) { %><div style="float: right; white-space: nowrap;"><button class="<%= data.classNames.close %>">&times;</button></div><% } %><div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"><%= data.title %></div></div>')},classNames:{close:"close"},_rendered:!1,_body:null,_footer:null,_panel:null,toolbar:null,initializer:function(){this._viewNavEventHandles||(this._viewNavEventHandles=[]);var t=this.get("container"),n=this.classNames;this._viewNavEventHandles.push(e.Do.after(this._afterRender,this,"render",this),t.delegate("click",function(e){console.log(e)},".close",this)),this.footer&&this._buildFooter()},destructor:function(){(new e.EventHandle(this._viewNavEventHandles)).detach(),this._panel&&this._panel.destroy(),this.title=null,this.buttons=null,this._footer=null,this._panel=null,this._toolbar&&this._toolbar.destroy(),this._toolbar=null},getButton:function(e){return this.toolbar._buttonMap?this.toolbar._buttonMap[e]?this.toolbar._buttonMap[e]:!1:!1},sizeView:function(e){var t=parseInt(e.get("offsetHeight"),10);if(isNaN(t))return;this.title&&(t-=46),this.buttons&&(t-=56),this._body.set("offsetHeight",t),this._body.one(".rednose-unit-left")&&this._body.one(".rednose-unit-left").setStyle("height",t),this._body.one(".rednose-unit-right")&&this._body.one(".rednose-unit-right").setStyle("height",t),this._body.one(".rednose-unit-right")&&this._body.one(".rednose-unit-right").setStyle("top",46),this.fire(d)},_buildFooter:function(){this._footer=e.Node.create("<div></div>"),this.toolbar=(new e.Rednose.Toolbar({container:this._footer,buttons:this.buttons,evtPrefix:this.name})).render(),this.toolbar.addTarget(this)},_setButtons:function(t){var n=this,r=this.get("container").one(".yui3-widget-ft"),i=this.buttons;e.Object.each(t,function(t,r){n.buttons[r]=e.merge(i[r],t)}),this._buildFooter(),this._rendered&&r.one("div").replace(this._footer)},_getButtons:function(){return this.buttons},_afterRender:function(){var t=this.get("container"),n=this.classNames,s=this.title,o=e.Node.create("<div></div>"),u=this._footer,a={bodyContent:o},f=this.close;t.addClass(i),t.get("children").each(function(e){o.append(e)}),s&&(a.headerContent=this.templates.header({classNames:n,title:s,close:f})),u&&(a.footerContent=u),this._panel=new e.Rednose.NavContainer(a),this._panel.render(t);var l=this._panel.get("boundingBox").one(".yui3-widget-bd"),c=r+"-"+e.Rednose.Util.camelCaseToDash(this.name);l.addClass(c),this.padding===!1&&l.setStyle("padding",0),this._body=o,this.footer?t.one(".yui3-widget-ft")&&t.one(".yui3-widget-ft").show():t.one(".yui3-widget-ft")&&t.one(".yui3-widget-ft").hide();var h=t.get("parentNode");h&&this.sizeView(h),this._rendered=!0}},{CSS_PREFIX:"rednose",ATTRS:{buttons:{setter:"_setButtons",getter:"_getButtons"}}});e.namespace("Rednose.View").Nav=v},"1.4.2",{requires:["event-custom","rednose-toolbar","rednose-panel","rednose-util","rednose-widget-nav-container","template-micro","view"]});
