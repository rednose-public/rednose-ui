YUI.add("rednose-view-nav",function(e,t){var n=e.Template.Micro,r="close",i=e.Base.create("viewNav",e.View,[],{title:null,buttonGroups:null,toolbar:null,fixed:!0,footer:!0,close:!1,padding:!1,templates:{header:n.compile('<div style="width: 100%;"><% if (data.close) { %><div style="float: right; white-space: nowrap;"><button class="<%= data.classNames.close %>">&times;</button></div><% } %><div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"><%= data.title %></div></div>')},baseClassNames:{nav:"rednose-view-nav",close:"close",header:"rednose-nav-header",footer:"rednose-nav-footer",fixed:"rednose-view-fixed"},_body:null,_footer:null,_panel:null,initializer:function(){this._viewNavEventHandles||(this._viewNavEventHandles=[]);var t=this.get("container"),n=this;this._viewNavEventHandles.push(e.Do.after(this._afterRender,this,"render",this),t.delegate("click",this._onCloseClick,".close",this)),this.footer&&this._buildFooter(),this.close&&e.one("doc").on("keydown",function(e){e.keyCode===27&&(e.stopPropagation(),n.fire(r))})},destructor:function(){(new e.EventHandle(this._viewNavEventHandles)).detach(),this.title=null,this.buttonGroups=null,this._body=null,this._footer=null,this._panel&&(this._panel.destroy(),this._panel=null),this.toolbar&&(this.toolbar.removeTarget(this),this.toolbar.destroy(),this.toolbar=null)},_buildFooter:function(){this._footer=e.Node.create("<div></div>"),this.buttonGroups&&(this.toolbar=(new e.Rednose.Toolbar({container:this._footer,groups:this.buttonGroups})).render(),this.toolbar.addTarget(this))},_getMagicClassName:function(t){return i.CSS_PREFIX+"-"+e.Rednose.Util.camelCaseToDash(t)},_onCloseClick:function(e){this.fire(r,{originEvent:e})},_afterRender:function(){var t=this.get("container"),n=this.baseClassNames,r=this.title,i=e.Node.create("<div></div>"),s=this._footer,o={bodyContent:i},u=this.close;t.addClass(n.nav),this.fixed&&t.addClass(n.fixed),this.title&&t.addClass(n.header),this.footer&&t.addClass(n.footer),t.get("children").each(function(e){i.append(e)}),r&&(o.headerContent=this.templates.header({classNames:n,title:r,close:u})),s&&(o.footerContent=s),this._panel=new e.Rednose.NavContainer(o),this._panel.render(t);var a=this._panel.get("boundingBox").one(".yui3-widget-bd"),f=this._getMagicClassName(this.name);a.addClass(f),this.padding===!1&&a.setStyle("padding",0),this._body=i,this.footer?t.one(".yui3-widget-ft")&&t.one(".yui3-widget-ft").show():t.one(".yui3-widget-ft")&&t.one(".yui3-widget-ft").hide()}},{CSS_PREFIX:"rednose"});e.namespace("Rednose.View").Nav=i},"@VERSION@",{requires:["event-custom","rednose-toolbar","rednose-panel","rednose-util","rednose-widget-nav-container","template-micro","view"]});
