YUI.add("rednose-datagen",function(e,t){var n=e.Base.create("datagen",e.Base,[],{initializer:function(){var e=this.get("section"),t=this.get("fields"),n=this.get("properties"),r=this.get("sort");this.url=Routing.generate("rednose_datagen_get_section_records",{name:e})+"?callback={callback}",t&&(this.url=this.url+"&fields="+t.join(",")),n&&(this.properties=n);if(r){var i=[];for(var s in r)r.hasOwnProperty(s)&&i.push(r[s]+"."+s);this.url=this.url+"&sort="+i.join(",")}},query:function(t){t||(t={}),t=e.merge(t,this.properties);var n=this.url;for(var r in t)t.hasOwnProperty(r)&&(n=this.url+"&"+r+"="+t[r]);return e.Promise(function(t){e.jsonp(n,{on:{success:function(e){t(e)}}})})}},{ATTRS:{url:{value:null},section:{value:null},fields:{value:null},sort:{value:null},properties:{value:null}}});e.namespace("Rednose").Datagen=n},"1.5.0-DEV",{requires:["base","io","jsonp","jsonp-url","promise","view","xml"]});
