YUI.add("rednose-datagen",function(e,t){var n=e.Base.create("datagen",e.Base,[],{initializer:function(){var t=this.get("section"),n=this.get("fields"),r=this.get("properties"),i=this.get("sort"),s=this.get("url")+"/api/datagen/sections/{section}/records?callback={callback}";this.url=e.Lang.sub(s,{section:t}),n&&(this.url=this.url+"&fields="+n.join(",")),r&&(this.properties=r);if(i){var o=[];for(var u in i)i.hasOwnProperty(u)&&o.push(i[u]+"."+u);this.url=this.url+"&sort="+o.join(",")}},query:function(t){t||(t={}),t=e.merge(t,this.properties);var n=this.url;for(var r in t)t.hasOwnProperty(r)&&(n=this.url+"&"+r+"="+t[r]);return e.Promise(function(t){e.jsonp(n,{on:{success:function(e){t(e)}}})})}},{ATTRS:{url:{value:null},section:{value:null},fields:{value:null},sort:{value:null},properties:{value:null}}});e.namespace("Rednose").Datagen=n},"1.5.0-DEV",{requires:["base","io","jsonp","jsonp-url","promise","view","xml"]});
