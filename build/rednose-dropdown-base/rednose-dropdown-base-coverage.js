if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/rednose-dropdown-base/rednose-dropdown-base.js']) {
   __coverage__['build/rednose-dropdown-base/rednose-dropdown-base.js'] = {"path":"build/rednose-dropdown-base/rednose-dropdown-base.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":33},"end":{"line":1,"column":52}}},"2":{"name":"(anonymous_2)","line":120,"loc":{"start":{"line":120,"column":17},"end":{"line":120,"column":35}}},"3":{"name":"(anonymous_3)","line":129,"loc":{"start":{"line":129,"column":16},"end":{"line":129,"column":28}}},"4":{"name":"(anonymous_4)","line":147,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":28}}},"5":{"name":"(anonymous_5)","line":160,"loc":{"start":{"line":160,"column":10},"end":{"line":160,"column":22}}},"6":{"name":"(anonymous_6)","line":175,"loc":{"start":{"line":175,"column":11},"end":{"line":175,"column":23}}},"7":{"name":"(anonymous_7)","line":190,"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":24}}},"8":{"name":"(anonymous_8)","line":199,"loc":{"start":{"line":199,"column":12},"end":{"line":199,"column":24}}},"9":{"name":"(anonymous_9)","line":208,"loc":{"start":{"line":208,"column":17},"end":{"line":208,"column":31}}},"10":{"name":"(anonymous_10)","line":216,"loc":{"start":{"line":216,"column":14},"end":{"line":216,"column":26}}},"11":{"name":"(anonymous_11)","line":224,"loc":{"start":{"line":224,"column":16},"end":{"line":224,"column":32}}},"12":{"name":"(anonymous_12)","line":238,"loc":{"start":{"line":238,"column":17},"end":{"line":238,"column":33}}},"13":{"name":"(anonymous_13)","line":252,"loc":{"start":{"line":252,"column":18},"end":{"line":252,"column":34}}},"14":{"name":"(anonymous_14)","line":266,"loc":{"start":{"line":266,"column":20},"end":{"line":266,"column":36}}},"15":{"name":"(anonymous_15)","line":281,"loc":{"start":{"line":281,"column":16},"end":{"line":281,"column":39}}},"16":{"name":"(anonymous_16)","line":294,"loc":{"start":{"line":294,"column":23},"end":{"line":294,"column":49}}},"17":{"name":"(anonymous_17)","line":311,"loc":{"start":{"line":311,"column":17},"end":{"line":311,"column":35}}},"18":{"name":"(anonymous_18)","line":335,"loc":{"start":{"line":335,"column":18},"end":{"line":335,"column":34}}},"19":{"name":"(anonymous_19)","line":358,"loc":{"start":{"line":358,"column":24},"end":{"line":358,"column":57}}},"20":{"name":"(anonymous_20)","line":376,"loc":{"start":{"line":376,"column":17},"end":{"line":376,"column":30}}},"21":{"name":"(anonymous_21)","line":399,"loc":{"start":{"line":399,"column":19},"end":{"line":399,"column":32}}},"22":{"name":"(anonymous_22)","line":407,"loc":{"start":{"line":407,"column":18},"end":{"line":407,"column":31}}},"23":{"name":"(anonymous_23)","line":415,"loc":{"start":{"line":415,"column":18},"end":{"line":415,"column":31}}},"24":{"name":"(anonymous_24)","line":422,"loc":{"start":{"line":422,"column":16},"end":{"line":422,"column":28}}},"25":{"name":"(anonymous_25)","line":435,"loc":{"start":{"line":435,"column":17},"end":{"line":435,"column":29}}},"26":{"name":"(anonymous_26)","line":439,"loc":{"start":{"line":439,"column":20},"end":{"line":439,"column":33}}},"27":{"name":"(anonymous_27)","line":443,"loc":{"start":{"line":443,"column":22},"end":{"line":443,"column":35}}},"28":{"name":"(anonymous_28)","line":450,"loc":{"start":{"line":450,"column":25},"end":{"line":450,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":474,"column":53}},"2":{"start":{"line":27,"column":0},"end":{"line":27,"column":26}},"3":{"start":{"line":34,"column":0},"end":{"line":34,"column":28}},"4":{"start":{"line":41,"column":0},"end":{"line":41,"column":26}},"5":{"start":{"line":49,"column":0},"end":{"line":49,"column":24}},"6":{"start":{"line":59,"column":0},"end":{"line":59,"column":22}},"7":{"start":{"line":66,"column":0},"end":{"line":66,"column":30}},"8":{"start":{"line":73,"column":0},"end":{"line":73,"column":34}},"9":{"start":{"line":83,"column":0},"end":{"line":83,"column":24}},"10":{"start":{"line":91,"column":0},"end":{"line":91,"column":41}},"11":{"start":{"line":93,"column":0},"end":{"line":468,"column":3}},"12":{"start":{"line":121,"column":8},"end":{"line":121,"column":40}},"13":{"start":{"line":122,"column":8},"end":{"line":122,"column":29}},"14":{"start":{"line":124,"column":8},"end":{"line":126,"column":9}},"15":{"start":{"line":125,"column":12},"end":{"line":125,"column":37}},"16":{"start":{"line":130,"column":8},"end":{"line":132,"column":9}},"17":{"start":{"line":131,"column":12},"end":{"line":131,"column":41}},"18":{"start":{"line":134,"column":8},"end":{"line":134,"column":31}},"19":{"start":{"line":135,"column":8},"end":{"line":135,"column":31}},"20":{"start":{"line":136,"column":8},"end":{"line":136,"column":31}},"21":{"start":{"line":148,"column":8},"end":{"line":152,"column":11}},"22":{"start":{"line":161,"column":8},"end":{"line":165,"column":9}},"23":{"start":{"line":162,"column":12},"end":{"line":164,"column":15}},"24":{"start":{"line":167,"column":8},"end":{"line":167,"column":20}},"25":{"start":{"line":176,"column":8},"end":{"line":180,"column":9}},"26":{"start":{"line":177,"column":12},"end":{"line":179,"column":15}},"27":{"start":{"line":182,"column":8},"end":{"line":182,"column":20}},"28":{"start":{"line":191,"column":8},"end":{"line":191,"column":56}},"29":{"start":{"line":200,"column":8},"end":{"line":200,"column":26}},"30":{"start":{"line":209,"column":8},"end":{"line":209,"column":33}},"31":{"start":{"line":217,"column":8},"end":{"line":217,"column":46}},"32":{"start":{"line":225,"column":8},"end":{"line":229,"column":9}},"33":{"start":{"line":226,"column":12},"end":{"line":228,"column":15}},"34":{"start":{"line":231,"column":8},"end":{"line":231,"column":20}},"35":{"start":{"line":239,"column":8},"end":{"line":243,"column":9}},"36":{"start":{"line":240,"column":12},"end":{"line":242,"column":15}},"37":{"start":{"line":245,"column":8},"end":{"line":245,"column":20}},"38":{"start":{"line":253,"column":8},"end":{"line":257,"column":9}},"39":{"start":{"line":254,"column":12},"end":{"line":256,"column":15}},"40":{"start":{"line":259,"column":8},"end":{"line":259,"column":20}},"41":{"start":{"line":267,"column":8},"end":{"line":271,"column":9}},"42":{"start":{"line":268,"column":12},"end":{"line":270,"column":15}},"43":{"start":{"line":273,"column":8},"end":{"line":273,"column":20}},"44":{"start":{"line":282,"column":8},"end":{"line":284,"column":11}},"45":{"start":{"line":286,"column":8},"end":{"line":286,"column":20}},"46":{"start":{"line":295,"column":8},"end":{"line":297,"column":11}},"47":{"start":{"line":299,"column":8},"end":{"line":299,"column":20}},"48":{"start":{"line":312,"column":8},"end":{"line":312,"column":69}},"49":{"start":{"line":314,"column":8},"end":{"line":318,"column":9}},"50":{"start":{"line":315,"column":12},"end":{"line":317,"column":13}},"51":{"start":{"line":316,"column":16},"end":{"line":316,"column":76}},"52":{"start":{"line":320,"column":8},"end":{"line":322,"column":9}},"53":{"start":{"line":321,"column":12},"end":{"line":321,"column":52}},"54":{"start":{"line":324,"column":8},"end":{"line":324,"column":54}},"55":{"start":{"line":326,"column":8},"end":{"line":326,"column":28}},"56":{"start":{"line":336,"column":8},"end":{"line":340,"column":9}},"57":{"start":{"line":337,"column":12},"end":{"line":339,"column":13}},"58":{"start":{"line":338,"column":16},"end":{"line":338,"column":52}},"59":{"start":{"line":342,"column":8},"end":{"line":342,"column":29}},"60":{"start":{"line":343,"column":8},"end":{"line":343,"column":29}},"61":{"start":{"line":344,"column":8},"end":{"line":344,"column":29}},"62":{"start":{"line":346,"column":8},"end":{"line":346,"column":38}},"63":{"start":{"line":359,"column":8},"end":{"line":363,"column":9}},"64":{"start":{"line":360,"column":12},"end":{"line":362,"column":15}},"65":{"start":{"line":365,"column":8},"end":{"line":365,"column":32}},"66":{"start":{"line":367,"column":8},"end":{"line":367,"column":20}},"67":{"start":{"line":377,"column":8},"end":{"line":377,"column":28}},"68":{"start":{"line":379,"column":8},"end":{"line":383,"column":9}},"69":{"start":{"line":380,"column":12},"end":{"line":382,"column":13}},"70":{"start":{"line":381,"column":16},"end":{"line":381,"column":54}},"71":{"start":{"line":385,"column":8},"end":{"line":385,"column":29}},"72":{"start":{"line":386,"column":8},"end":{"line":386,"column":29}},"73":{"start":{"line":388,"column":8},"end":{"line":392,"column":9}},"74":{"start":{"line":389,"column":12},"end":{"line":391,"column":13}},"75":{"start":{"line":390,"column":16},"end":{"line":390,"column":65}},"76":{"start":{"line":400,"column":8},"end":{"line":400,"column":31}},"77":{"start":{"line":408,"column":8},"end":{"line":408,"column":32}},"78":{"start":{"line":416,"column":8},"end":{"line":416,"column":31}},"79":{"start":{"line":426,"column":8},"end":{"line":426,"column":63}},"80":{"start":{"line":427,"column":8},"end":{"line":427,"column":37}},"81":{"start":{"line":429,"column":8},"end":{"line":429,"column":26}},"82":{"start":{"line":436,"column":8},"end":{"line":436,"column":27}},"83":{"start":{"line":440,"column":8},"end":{"line":440,"column":29}},"84":{"start":{"line":444,"column":8},"end":{"line":444,"column":29}},"85":{"start":{"line":451,"column":8},"end":{"line":452,"column":34}},"86":{"start":{"line":454,"column":8},"end":{"line":458,"column":9}},"87":{"start":{"line":455,"column":12},"end":{"line":457,"column":13}},"88":{"start":{"line":456,"column":16},"end":{"line":456,"column":52}},"89":{"start":{"line":460,"column":8},"end":{"line":460,"column":27}},"90":{"start":{"line":462,"column":8},"end":{"line":466,"column":9}},"91":{"start":{"line":463,"column":12},"end":{"line":465,"column":13}},"92":{"start":{"line":464,"column":16},"end":{"line":464,"column":61}},"93":{"start":{"line":471,"column":0},"end":{"line":471,"column":52}}},"branchMap":{"1":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":8}},{"start":{"line":124,"column":8},"end":{"line":124,"column":8}}]},"2":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":8},"end":{"line":130,"column":8}},{"start":{"line":130,"column":8},"end":{"line":130,"column":8}}]},"3":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":8},"end":{"line":161,"column":8}},{"start":{"line":161,"column":8},"end":{"line":161,"column":8}}]},"4":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":8}},{"start":{"line":176,"column":8},"end":{"line":176,"column":8}}]},"5":{"line":191,"type":"cond-expr","locations":[{"start":{"line":191,"column":36},"end":{"line":191,"column":43}},{"start":{"line":191,"column":46},"end":{"line":191,"column":52}}]},"6":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":8},"end":{"line":225,"column":8}},{"start":{"line":225,"column":8},"end":{"line":225,"column":8}}]},"7":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":8},"end":{"line":239,"column":8}},{"start":{"line":239,"column":8},"end":{"line":239,"column":8}}]},"8":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":8},"end":{"line":253,"column":8}},{"start":{"line":253,"column":8},"end":{"line":253,"column":8}}]},"9":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":8}},{"start":{"line":267,"column":8},"end":{"line":267,"column":8}}]},"10":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":8},"end":{"line":314,"column":8}},{"start":{"line":314,"column":8},"end":{"line":314,"column":8}}]},"11":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":8},"end":{"line":320,"column":8}},{"start":{"line":320,"column":8},"end":{"line":320,"column":8}}]},"12":{"line":336,"type":"if","locations":[{"start":{"line":336,"column":8},"end":{"line":336,"column":8}},{"start":{"line":336,"column":8},"end":{"line":336,"column":8}}]},"13":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":8},"end":{"line":359,"column":8}},{"start":{"line":359,"column":8},"end":{"line":359,"column":8}}]},"14":{"line":359,"type":"binary-expr","locations":[{"start":{"line":359,"column":12},"end":{"line":359,"column":19}},{"start":{"line":359,"column":23},"end":{"line":359,"column":40}},{"start":{"line":359,"column":44},"end":{"line":359,"column":66}}]},"15":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":8},"end":{"line":379,"column":8}},{"start":{"line":379,"column":8},"end":{"line":379,"column":8}}]},"16":{"line":379,"type":"binary-expr","locations":[{"start":{"line":379,"column":12},"end":{"line":379,"column":27}},{"start":{"line":379,"column":31},"end":{"line":379,"column":57}}]},"17":{"line":388,"type":"if","locations":[{"start":{"line":388,"column":8},"end":{"line":388,"column":8}},{"start":{"line":388,"column":8},"end":{"line":388,"column":8}}]},"18":{"line":426,"type":"binary-expr","locations":[{"start":{"line":426,"column":8},"end":{"line":426,"column":29}},{"start":{"line":426,"column":33},"end":{"line":426,"column":62}}]},"19":{"line":454,"type":"if","locations":[{"start":{"line":454,"column":8},"end":{"line":454,"column":8}},{"start":{"line":454,"column":8},"end":{"line":454,"column":8}}]},"20":{"line":454,"type":"binary-expr","locations":[{"start":{"line":454,"column":12},"end":{"line":454,"column":25}},{"start":{"line":454,"column":29},"end":{"line":454,"column":53}}]},"21":{"line":462,"type":"if","locations":[{"start":{"line":462,"column":8},"end":{"line":462,"column":8}},{"start":{"line":462,"column":8},"end":{"line":462,"column":8}}]}},"code":["(function () { YUI.add('rednose-dropdown-base', function (Y, NAME) {","","/*jshint boss:true, expr:true, onevar:false */","","/**"," * Provides Rednose.Dropdown.Base"," *"," * @module rednose-dropdown"," * @submodule rednose-dropdown-base"," */","","/**"," * Base dropdown functionality."," *"," * @class Rednose.Dropdown.Base"," * @constructor"," * @param {Object} [config] Config object."," *     @param {Object[]} [config.items] Array of dropdown config objects."," * @extends Base"," */","","/**"," * @event enable"," * @param {Rednose.Dropdown.Item}"," * @preventable _defEnableFn"," */","var EVT_ENABLE = 'enable';","","/**"," * @event disable"," * @param {Rednose.Dropdown.Item}"," * @preventable _defDisableFn"," */","var EVT_DISABLE = 'disable';","","/**"," * @event rename"," * @param {Rednose.Dropdown.Item}"," * @preventable _defRenameFn"," */","var EVT_RENAME = 'rename';","","/**"," * Fired when the dropdown is closed."," *"," * @event close"," * @preventable _defCloseFn"," */","var EVT_CLOSE = 'close';","","/**"," * Fired when the dropdown is opened."," *"," * @event open"," * @param {Dropdown} dropdown The dropdown instance."," * @param {Node} node The node the dropdown is bound to."," * @preventable _defOpenFn"," */","var EVT_OPEN = 'open';","","/**"," * @event activate"," * @param {Rednose.Dropdown.Item}"," * @preventable _defActivateFn"," */","var EVT_ACTIVATE = 'activate';","","/**"," * @event deactivate"," * @param {Rednose.Dropdown.Item}"," * @preventable _defDeactivateFn"," */","var EVT_DEACTIVATE = 'deactivate';","","/**"," * Fired when the dropdown items are reset."," *"," * @event reset"," * @param {Rednose.Dropdown.Item}"," * @param {Array} items Array of new dropdown config objects"," * @preventable _defResetFn"," */","var EVT_RESET = 'reset';","","/**"," * @event resetChildren"," * @param {Rednose.Dropdown.Item}"," * @param {Array} items Array of new dropdown config objects"," * @preventable _defResetChildrenFn"," */","var EVT_RESET_CHILDREN = 'resetChildren';","","var DropdownBase = Y.Base.create('dropdownBase', Y.Base, [], {","","    /**","     * Whether the dropdown is currently open or not.","     *","     * @property {Boolean} open","     * @default false","     * @protected","     */","    _open: false,","","    /**","     * Root items for this dropdown.","     *","     * @property {Array} _rootItems","     * @protected","     */","","    /**","     * Mapping of item ids to item instances.","     *","     * @property {Object} _itemMap","     * @protected","     */","","    // -- Lifecycle methods ----------------------------------------------------","","    initializer: function (config) {","        this._id        = Y.stamp(this);","        this._published = {};","","        if (config.items) {","            this.reset(config.items);","        }","    },","","    destructor: function () {","        if (DropdownBase.instance === this) {","            delete DropdownBase.instance;","        }","","        this._rootItems = null;","        this._itemMap   = null;","        this._published = null;","    },","","    // -- Public methods -------------------------------------------------------","","    /**","     * Resets the items in this dropdown.","     *","     * @param {Array} items","     * @chainable","     */","    reset: function (items) {","        return this._fireDropdownEvent(EVT_RESET, {","            items: items","        }, {","            defaultFn: this._defResetFn","        });","    },","","    /**","     * Opens the dropdown.","     *","     * @chainable","     */","    open: function () {","        if (!this.isOpen()) {","            this._fireDropdownEvent(EVT_OPEN, {dropdown: this, node: this.get('host')}, {","                defaultFn: this._defOpenFn","            });","        }","","        return this;","    },","","    /**","     * Closes the dropdown.","     *","     * @chainable","     */","    close: function () {","        if (this.isOpen()) {","            this._fireDropdownEvent(EVT_CLOSE, {}, {","                defaultFn: this._defCloseFn","            });","        }","","        return this;","    },","","    /**","     * Toggles the dropdown.","     *","     * @chainable","     */","    toggle: function () {","        return this[this.isOpen() ? 'close' : 'open']();","    },","","    /**","     * Whether the dropdown is currenty open or not.","     *","     * @return {Boolean}","     */","    isOpen: function () {","        return this._open;","    },","","    /**","     * @param {String} id","     * @return {Rednose.Dropdown.Item}","     * @private","     */","    getItemById: function (id) {","        return this._itemMap[id];","    },","","    /**","     * @return {Rednose.Dropdown.Item[]}","     * @private","     */","    getItems: function () {","        return Y.Object.values(this._itemMap);","    },","","    /**","     * @param {Rednose.Dropdown.Item} item","     * @chainable","     */","    enableItem: function (item) {","        if (item.isDisabled()) {","            this._fireDropdownEvent(EVT_ENABLE, {item: item}, {","                defaultFn: this._defEnableFn","            });","        }","","        return this;","    },","","    /**","     * @param {Rednose.Dropdown.Item} item","     * @chainable","     */","    disableItem: function (item) {","        if (!item.isDisabled()) {","            this._fireDropdownEvent(EVT_DISABLE, {item: item}, {","                defaultFn: this._defDisableFn","            });","        }","","        return this;","    },","","    /**","     * @param {Rednose.Dropdown.Item} item","     * @chainable","     */","    activateItem: function (item) {","        if (!item.isActive()) {","            this._fireDropdownEvent(EVT_ACTIVATE, {item: item}, {","                defaultFn: this._defActivateFn","            });","        }","","        return this;","    },","","    /**","     * @param {Rednose.Dropdown.Item} item","     * @chainable","     */","    deactivateItem: function (item) {","        if (item.isActive()) {","            this._fireDropdownEvent(EVT_DEACTIVATE, {item: item}, {","                defaultFn: this._defDeactivateFn","            });","        }","","        return this;","    },","","    /**","     * @param {Rednose.Dropdown.Item} item","     * @param {String} title","     * @chainable","     */","    renameItem: function (item, title) {","        this._fireDropdownEvent(EVT_RENAME, {item: item, title: title}, {","            defaultFn: this._defRenameFn","        });","","        return this;","    },","","    /**","     * @param {Rednose.Dropdown.Item} item","     * @param {Object[]} children","     * @chainable","     */","    resetItemChildren: function (item, children) {","        this._fireDropdownEvent(EVT_RESET_CHILDREN, {item: item, children: children}, {","            defaultFn: this._defResetChildrenFn","        });","","        return this;","    },","","    // -- Protected methods ----------------------------------------------------","","    /**","     * Create a dropdown item.","     *","     * @param {Object} config","     * @return {Rednose.Dropdown.Item}","     * @private","     */","    _createItem: function (config) {","        var dropdownItem = new Y.Rednose.Dropdown.Item(this, config);","","        if (config.children) {","            for (var i = 0, len = config.children.length; i < len; i++) {","                dropdownItem.addChild(this._createItem(config.children[i]));","            }","        }","","        if (dropdownItem.id in this._itemMap) {","            dropdownItem.id = Y.stamp(dropdownItem);","        }","","        this._itemMap[dropdownItem.id] = dropdownItem;","","        return dropdownItem;","    },","","    /**","     * Create a dropdown item.","     *","     * @param {Rednose.Dropdown.Item} item","     * @private","     */","    _destroyItem: function (item) {","        if (item.hasChildren()) {","            for (var i = 0, len = item.children.length; i < len; i++) {","                this._destroyItem(item.children[i]);","            }","        }","","        item.dropdown = null;","        item.children = null;","        item.parent   = null;","","        delete this._itemMap[item.id];","    },","","    /**","     * Utility method for lazily publishing events,","     *","     * @param {String} name","     * @param {Object} facade","     * @param {Object} options","     * @chainable","     * @private","     */","    _fireDropdownEvent: function (name, facade, options) {","        if (options && options.defaultFn && !this._published[name]) {","            this._published[name] = this.publish(name, {","                defaultFn: options.defaultFn","            });","        }","","        this.fire(name, facade);","","        return this;","    },","","    // -- Default Event Handlers -----------------------------------------------","","    /**","     * @param {EventFacade} e","     * @private","     */","    _defResetFn: function (e) {","        var items = e.items;","","        if (this._rootItems && this._rootItems.length > 0) {","            for (var i = 0; i < this._rootItems.length; i++) {","                this._destroyItem(this._rootItems[i]);","            }","        }","","        this._rootItems = [];","        this._itemMap   = {};","","        if (items) {","            for (var j = 0; j < items.length; j++) {","                this._rootItems.push(this._createItem(items[j]));","            }","        }","    },","","    /**","     * @param {EventFacade} e","     * @private","     */","    _defDisableFn: function (e) {","        e.item.disabled = true;","    },","","    /**","     * @param {EventFacade} e","     * @private","     */","    _defEnableFn: function (e) {","        e.item.disabled = false;","    },","","    /**","     * @param {EventFacade} e","     * @private","     */","    _defRenameFn: function (e) {","        e.item.title = e.title;","    },","","    /**","     * @private","     */","    _defOpenFn: function () {","        // Keep a reference to the last open node so we can close it when a new one opens.","        // We can't use event propagation to block parent listeners, because the contextmenu listener on the body","        // won't be reached.","        DropdownBase.instance && DropdownBase.instance.close();","        DropdownBase.instance = this;","","        this._open = true;","    },","","    /**","     * @private","     */","    _defCloseFn: function () {","        this._open = false;","    },","","    _defActivateFn: function (e) {","        e.item.active = true;","    },","","    _defDeactivateFn: function (e) {","        delete e.item.active;","    },","","    /**","     * @private","     */","    _defResetChildrenFn: function (e) {","        var item     = e.item,","            children = e.children;","","        if (item.children && item.children.length > 0) {","            for (var i = 0; i < item.children.length; i++) {","                this._destroyItem(item.children[i]);","            }","        }","","        item.children = [];","","        if (children) {","            for (var j = 0; j < children.length; j++) {","                item.addChild(this._createItem(children[j]));","            }","        }","    }","});","","// -- Namespace ----------------------------------------------------------------","Y.namespace('Rednose.Dropdown').Base = DropdownBase;","","","}, '1.7.0', {\"requires\": [\"rednose-dropdown-item\"]});","","}());"]};
}
var __cov_54FgRrpmQVXI48KR8MmRAw = __coverage__['build/rednose-dropdown-base/rednose-dropdown-base.js'];
__cov_54FgRrpmQVXI48KR8MmRAw.s['1']++;YUI.add('rednose-dropdown-base',function(Y,NAME){__cov_54FgRrpmQVXI48KR8MmRAw.f['1']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['2']++;var EVT_ENABLE='enable';__cov_54FgRrpmQVXI48KR8MmRAw.s['3']++;var EVT_DISABLE='disable';__cov_54FgRrpmQVXI48KR8MmRAw.s['4']++;var EVT_RENAME='rename';__cov_54FgRrpmQVXI48KR8MmRAw.s['5']++;var EVT_CLOSE='close';__cov_54FgRrpmQVXI48KR8MmRAw.s['6']++;var EVT_OPEN='open';__cov_54FgRrpmQVXI48KR8MmRAw.s['7']++;var EVT_ACTIVATE='activate';__cov_54FgRrpmQVXI48KR8MmRAw.s['8']++;var EVT_DEACTIVATE='deactivate';__cov_54FgRrpmQVXI48KR8MmRAw.s['9']++;var EVT_RESET='reset';__cov_54FgRrpmQVXI48KR8MmRAw.s['10']++;var EVT_RESET_CHILDREN='resetChildren';__cov_54FgRrpmQVXI48KR8MmRAw.s['11']++;var DropdownBase=Y.Base.create('dropdownBase',Y.Base,[],{_open:false,initializer:function(config){__cov_54FgRrpmQVXI48KR8MmRAw.f['2']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['12']++;this._id=Y.stamp(this);__cov_54FgRrpmQVXI48KR8MmRAw.s['13']++;this._published={};__cov_54FgRrpmQVXI48KR8MmRAw.s['14']++;if(config.items){__cov_54FgRrpmQVXI48KR8MmRAw.b['1'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['15']++;this.reset(config.items);}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['1'][1]++;}},destructor:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['3']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['16']++;if(DropdownBase.instance===this){__cov_54FgRrpmQVXI48KR8MmRAw.b['2'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['17']++;delete DropdownBase.instance;}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['2'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['18']++;this._rootItems=null;__cov_54FgRrpmQVXI48KR8MmRAw.s['19']++;this._itemMap=null;__cov_54FgRrpmQVXI48KR8MmRAw.s['20']++;this._published=null;},reset:function(items){__cov_54FgRrpmQVXI48KR8MmRAw.f['4']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['21']++;return this._fireDropdownEvent(EVT_RESET,{items:items},{defaultFn:this._defResetFn});},open:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['5']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['22']++;if(!this.isOpen()){__cov_54FgRrpmQVXI48KR8MmRAw.b['3'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['23']++;this._fireDropdownEvent(EVT_OPEN,{dropdown:this,node:this.get('host')},{defaultFn:this._defOpenFn});}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['3'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['24']++;return this;},close:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['6']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['25']++;if(this.isOpen()){__cov_54FgRrpmQVXI48KR8MmRAw.b['4'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['26']++;this._fireDropdownEvent(EVT_CLOSE,{},{defaultFn:this._defCloseFn});}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['4'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['27']++;return this;},toggle:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['7']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['28']++;return this[this.isOpen()?(__cov_54FgRrpmQVXI48KR8MmRAw.b['5'][0]++,'close'):(__cov_54FgRrpmQVXI48KR8MmRAw.b['5'][1]++,'open')]();},isOpen:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['8']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['29']++;return this._open;},getItemById:function(id){__cov_54FgRrpmQVXI48KR8MmRAw.f['9']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['30']++;return this._itemMap[id];},getItems:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['10']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['31']++;return Y.Object.values(this._itemMap);},enableItem:function(item){__cov_54FgRrpmQVXI48KR8MmRAw.f['11']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['32']++;if(item.isDisabled()){__cov_54FgRrpmQVXI48KR8MmRAw.b['6'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['33']++;this._fireDropdownEvent(EVT_ENABLE,{item:item},{defaultFn:this._defEnableFn});}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['6'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['34']++;return this;},disableItem:function(item){__cov_54FgRrpmQVXI48KR8MmRAw.f['12']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['35']++;if(!item.isDisabled()){__cov_54FgRrpmQVXI48KR8MmRAw.b['7'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['36']++;this._fireDropdownEvent(EVT_DISABLE,{item:item},{defaultFn:this._defDisableFn});}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['7'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['37']++;return this;},activateItem:function(item){__cov_54FgRrpmQVXI48KR8MmRAw.f['13']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['38']++;if(!item.isActive()){__cov_54FgRrpmQVXI48KR8MmRAw.b['8'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['39']++;this._fireDropdownEvent(EVT_ACTIVATE,{item:item},{defaultFn:this._defActivateFn});}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['8'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['40']++;return this;},deactivateItem:function(item){__cov_54FgRrpmQVXI48KR8MmRAw.f['14']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['41']++;if(item.isActive()){__cov_54FgRrpmQVXI48KR8MmRAw.b['9'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['42']++;this._fireDropdownEvent(EVT_DEACTIVATE,{item:item},{defaultFn:this._defDeactivateFn});}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['9'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['43']++;return this;},renameItem:function(item,title){__cov_54FgRrpmQVXI48KR8MmRAw.f['15']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['44']++;this._fireDropdownEvent(EVT_RENAME,{item:item,title:title},{defaultFn:this._defRenameFn});__cov_54FgRrpmQVXI48KR8MmRAw.s['45']++;return this;},resetItemChildren:function(item,children){__cov_54FgRrpmQVXI48KR8MmRAw.f['16']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['46']++;this._fireDropdownEvent(EVT_RESET_CHILDREN,{item:item,children:children},{defaultFn:this._defResetChildrenFn});__cov_54FgRrpmQVXI48KR8MmRAw.s['47']++;return this;},_createItem:function(config){__cov_54FgRrpmQVXI48KR8MmRAw.f['17']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['48']++;var dropdownItem=new Y.Rednose.Dropdown.Item(this,config);__cov_54FgRrpmQVXI48KR8MmRAw.s['49']++;if(config.children){__cov_54FgRrpmQVXI48KR8MmRAw.b['10'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['50']++;for(var i=0,len=config.children.length;i<len;i++){__cov_54FgRrpmQVXI48KR8MmRAw.s['51']++;dropdownItem.addChild(this._createItem(config.children[i]));}}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['10'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['52']++;if(dropdownItem.id in this._itemMap){__cov_54FgRrpmQVXI48KR8MmRAw.b['11'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['53']++;dropdownItem.id=Y.stamp(dropdownItem);}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['11'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['54']++;this._itemMap[dropdownItem.id]=dropdownItem;__cov_54FgRrpmQVXI48KR8MmRAw.s['55']++;return dropdownItem;},_destroyItem:function(item){__cov_54FgRrpmQVXI48KR8MmRAw.f['18']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['56']++;if(item.hasChildren()){__cov_54FgRrpmQVXI48KR8MmRAw.b['12'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['57']++;for(var i=0,len=item.children.length;i<len;i++){__cov_54FgRrpmQVXI48KR8MmRAw.s['58']++;this._destroyItem(item.children[i]);}}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['12'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['59']++;item.dropdown=null;__cov_54FgRrpmQVXI48KR8MmRAw.s['60']++;item.children=null;__cov_54FgRrpmQVXI48KR8MmRAw.s['61']++;item.parent=null;__cov_54FgRrpmQVXI48KR8MmRAw.s['62']++;delete this._itemMap[item.id];},_fireDropdownEvent:function(name,facade,options){__cov_54FgRrpmQVXI48KR8MmRAw.f['19']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['63']++;if((__cov_54FgRrpmQVXI48KR8MmRAw.b['14'][0]++,options)&&(__cov_54FgRrpmQVXI48KR8MmRAw.b['14'][1]++,options.defaultFn)&&(__cov_54FgRrpmQVXI48KR8MmRAw.b['14'][2]++,!this._published[name])){__cov_54FgRrpmQVXI48KR8MmRAw.b['13'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['64']++;this._published[name]=this.publish(name,{defaultFn:options.defaultFn});}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['13'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['65']++;this.fire(name,facade);__cov_54FgRrpmQVXI48KR8MmRAw.s['66']++;return this;},_defResetFn:function(e){__cov_54FgRrpmQVXI48KR8MmRAw.f['20']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['67']++;var items=e.items;__cov_54FgRrpmQVXI48KR8MmRAw.s['68']++;if((__cov_54FgRrpmQVXI48KR8MmRAw.b['16'][0]++,this._rootItems)&&(__cov_54FgRrpmQVXI48KR8MmRAw.b['16'][1]++,this._rootItems.length>0)){__cov_54FgRrpmQVXI48KR8MmRAw.b['15'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['69']++;for(var i=0;i<this._rootItems.length;i++){__cov_54FgRrpmQVXI48KR8MmRAw.s['70']++;this._destroyItem(this._rootItems[i]);}}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['15'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['71']++;this._rootItems=[];__cov_54FgRrpmQVXI48KR8MmRAw.s['72']++;this._itemMap={};__cov_54FgRrpmQVXI48KR8MmRAw.s['73']++;if(items){__cov_54FgRrpmQVXI48KR8MmRAw.b['17'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['74']++;for(var j=0;j<items.length;j++){__cov_54FgRrpmQVXI48KR8MmRAw.s['75']++;this._rootItems.push(this._createItem(items[j]));}}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['17'][1]++;}},_defDisableFn:function(e){__cov_54FgRrpmQVXI48KR8MmRAw.f['21']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['76']++;e.item.disabled=true;},_defEnableFn:function(e){__cov_54FgRrpmQVXI48KR8MmRAw.f['22']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['77']++;e.item.disabled=false;},_defRenameFn:function(e){__cov_54FgRrpmQVXI48KR8MmRAw.f['23']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['78']++;e.item.title=e.title;},_defOpenFn:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['24']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['79']++;(__cov_54FgRrpmQVXI48KR8MmRAw.b['18'][0]++,DropdownBase.instance)&&(__cov_54FgRrpmQVXI48KR8MmRAw.b['18'][1]++,DropdownBase.instance.close());__cov_54FgRrpmQVXI48KR8MmRAw.s['80']++;DropdownBase.instance=this;__cov_54FgRrpmQVXI48KR8MmRAw.s['81']++;this._open=true;},_defCloseFn:function(){__cov_54FgRrpmQVXI48KR8MmRAw.f['25']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['82']++;this._open=false;},_defActivateFn:function(e){__cov_54FgRrpmQVXI48KR8MmRAw.f['26']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['83']++;e.item.active=true;},_defDeactivateFn:function(e){__cov_54FgRrpmQVXI48KR8MmRAw.f['27']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['84']++;delete e.item.active;},_defResetChildrenFn:function(e){__cov_54FgRrpmQVXI48KR8MmRAw.f['28']++;__cov_54FgRrpmQVXI48KR8MmRAw.s['85']++;var item=e.item,children=e.children;__cov_54FgRrpmQVXI48KR8MmRAw.s['86']++;if((__cov_54FgRrpmQVXI48KR8MmRAw.b['20'][0]++,item.children)&&(__cov_54FgRrpmQVXI48KR8MmRAw.b['20'][1]++,item.children.length>0)){__cov_54FgRrpmQVXI48KR8MmRAw.b['19'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['87']++;for(var i=0;i<item.children.length;i++){__cov_54FgRrpmQVXI48KR8MmRAw.s['88']++;this._destroyItem(item.children[i]);}}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['19'][1]++;}__cov_54FgRrpmQVXI48KR8MmRAw.s['89']++;item.children=[];__cov_54FgRrpmQVXI48KR8MmRAw.s['90']++;if(children){__cov_54FgRrpmQVXI48KR8MmRAw.b['21'][0]++;__cov_54FgRrpmQVXI48KR8MmRAw.s['91']++;for(var j=0;j<children.length;j++){__cov_54FgRrpmQVXI48KR8MmRAw.s['92']++;item.addChild(this._createItem(children[j]));}}else{__cov_54FgRrpmQVXI48KR8MmRAw.b['21'][1]++;}}});__cov_54FgRrpmQVXI48KR8MmRAw.s['93']++;Y.namespace('Rednose.Dropdown').Base=DropdownBase;},'1.7.0',{'requires':['rednose-dropdown-item']});
