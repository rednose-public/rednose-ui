YUI.add("rednose-dropdown-base",function(e,t){var n="enable",r="disable",i="rename",s="close",o="open",u="reset",a=e.Base.create("dropdownBase",e.Base,[],{_open:!1,initializer:function(e){this._published={},e.items&&this.reset(e.items)},destructor:function(){this._rootItems=null,this._itemMap=null,this._published=null},reset:function(e){return this._fireDropdownEvent(u,{items:e},{defaultFn:this._defResetFn})},open:function(){return this.isOpen()||this._fireDropdownEvent(o,{},{defaultFn:this._defOpenFn}),this},close:function(){return this.isOpen()&&this._fireDropdownEvent(s,{},{defaultFn:this._defCloseFn}),this},toggle:function(){return this[this.isOpen()?"close":"open"]()},isOpen:function(){return this._open},getItemById:function(e){return this._itemMap[e]},enableItem:function(e){return e.isDisabled()&&this._fireDropdownEvent(n,{item:e},{defaultFn:this._defEnableFn}),this},disableItem:function(e){return e.isDisabled()||this._fireDropdownEvent(r,{item:e},{defaultFn:this._defDisableFn}),this},renameItem:function(e,t){return this._fireDropdownEvent(i,{item:e,title:t},{defaultFn:this._defRenameFn}),this},_createItem:function(t){var n=new e.Rednose.Dropdown.Item(this,t);if(t.children)for(var r=0,i=t.children.length;r<i;r++)n.addChild(this._createItem(t.children[r]));return n.id in this._itemMap&&(n.id=e.stamp(n)),this._itemMap[n.id]=n,n},_destroyItem:function(e){if(e.hasChildren())for(var t=0,n=e.children.length;t<n;t++)this._destroyItem(e.children[t]);e.dropdown=null,e.children=null,delete this._itemMap[e.id]},_fireDropdownEvent:function(e,t,n){return n&&n.defaultFn&&!this._published[e]&&(this._published[e]=this.publish(e,{defaultFn:n.defaultFn})),this.fire(e,t),this},_defResetFn:function(e){var t=e.items;if(this._rootItems&&this._rootItems.length>0)for(var n=0;n<this._rootItems.length;n++)this._destroyItem(this._rootItems[n]);this._rootItems=[],this._itemMap={};if(t)for(var r=0;r<t.length;r++)this._rootItems.push(this._createItem(t[r]))},_defDisableFn:function(e){e.item.disabled=!0},_defEnableFn:function(e){e.item.disabled=!1},_defRenameFn:function(e){e.item.title=e.title},_defOpenFn:function(e){this._open=!0},_defCloseFn:function(e){this._open=!1}});e.namespace("Rednose.Dropdown").Base=a},"1.4.0",{requires:["rednose-dropdown-item"]});
