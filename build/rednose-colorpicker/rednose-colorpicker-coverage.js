if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/rednose-colorpicker/rednose-colorpicker.js']) {
   __coverage__['build/rednose-colorpicker/rednose-colorpicker.js'] = {"path":"build/rednose-colorpicker/rednose-colorpicker.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":31},"end":{"line":1,"column":50}}},"2":{"name":"(anonymous_2)","line":46,"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":29}}},"3":{"name":"(anonymous_3)","line":52,"loc":{"start":{"line":52,"column":51},"end":{"line":52,"column":64}}},"4":{"name":"(anonymous_4)","line":56,"loc":{"start":{"line":56,"column":51},"end":{"line":56,"column":63}}},"5":{"name":"(anonymous_5)","line":60,"loc":{"start":{"line":60,"column":64},"end":{"line":60,"column":76}}},"6":{"name":"(anonymous_6)","line":64,"loc":{"start":{"line":64,"column":49},"end":{"line":64,"column":61}}},"7":{"name":"(anonymous_7)","line":68,"loc":{"start":{"line":68,"column":62},"end":{"line":68,"column":74}}},"8":{"name":"(anonymous_8)","line":75,"loc":{"start":{"line":75,"column":16},"end":{"line":75,"column":28}}},"9":{"name":"(anonymous_9)","line":80,"loc":{"start":{"line":80,"column":14},"end":{"line":80,"column":26}}},"10":{"name":"(anonymous_10)","line":96,"loc":{"start":{"line":96,"column":24},"end":{"line":96,"column":36}}},"11":{"name":"(anonymous_11)","line":113,"loc":{"start":{"line":113,"column":25},"end":{"line":113,"column":38}}},"12":{"name":"(anonymous_12)","line":128,"loc":{"start":{"line":128,"column":35},"end":{"line":128,"column":48}}},"13":{"name":"(anonymous_13)","line":140,"loc":{"start":{"line":140,"column":30},"end":{"line":140,"column":43}}},"14":{"name":"(anonymous_14)","line":148,"loc":{"start":{"line":148,"column":16},"end":{"line":148,"column":29}}},"15":{"name":"(anonymous_15)","line":159,"loc":{"start":{"line":159,"column":15},"end":{"line":159,"column":31}}},"16":{"name":"(anonymous_16)","line":182,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":30}}},"17":{"name":"(anonymous_17)","line":199,"loc":{"start":{"line":199,"column":23},"end":{"line":199,"column":35}}},"18":{"name":"(anonymous_18)","line":208,"loc":{"start":{"line":208,"column":16},"end":{"line":208,"column":32}}},"19":{"name":"(anonymous_19)","line":214,"loc":{"start":{"line":214,"column":13},"end":{"line":214,"column":28}}},"20":{"name":"(anonymous_20)","line":230,"loc":{"start":{"line":230,"column":13},"end":{"line":230,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":278,"column":67}},"2":{"start":{"line":11,"column":0},"end":{"line":11,"column":24}},"3":{"start":{"line":20,"column":0},"end":{"line":273,"column":3}},"4":{"start":{"line":47,"column":8},"end":{"line":47,"column":24}},"5":{"start":{"line":49,"column":8},"end":{"line":49,"column":131}},"6":{"start":{"line":50,"column":8},"end":{"line":50,"column":83}},"7":{"start":{"line":52,"column":8},"end":{"line":54,"column":11}},"8":{"start":{"line":53,"column":12},"end":{"line":53,"column":31}},"9":{"start":{"line":56,"column":8},"end":{"line":58,"column":11}},"10":{"start":{"line":57,"column":12},"end":{"line":57,"column":37}},"11":{"start":{"line":60,"column":8},"end":{"line":62,"column":11}},"12":{"start":{"line":61,"column":12},"end":{"line":61,"column":37}},"13":{"start":{"line":64,"column":8},"end":{"line":66,"column":11}},"14":{"start":{"line":65,"column":12},"end":{"line":65,"column":38}},"15":{"start":{"line":68,"column":8},"end":{"line":70,"column":11}},"16":{"start":{"line":69,"column":12},"end":{"line":69,"column":38}},"17":{"start":{"line":72,"column":8},"end":{"line":72,"column":65}},"18":{"start":{"line":76,"column":8},"end":{"line":76,"column":67}},"19":{"start":{"line":77,"column":8},"end":{"line":77,"column":54}},"20":{"start":{"line":81,"column":8},"end":{"line":83,"column":37}},"21":{"start":{"line":85,"column":8},"end":{"line":86,"column":8}},"22":{"start":{"line":86,"column":8},"end":{"line":86,"column":40}},"23":{"start":{"line":89,"column":8},"end":{"line":89,"column":98}},"24":{"start":{"line":90,"column":8},"end":{"line":90,"column":79}},"25":{"start":{"line":91,"column":8},"end":{"line":91,"column":76}},"26":{"start":{"line":97,"column":8},"end":{"line":99,"column":60}},"27":{"start":{"line":101,"column":8},"end":{"line":101,"column":37}},"28":{"start":{"line":102,"column":8},"end":{"line":102,"column":52}},"29":{"start":{"line":104,"column":8},"end":{"line":104,"column":92}},"30":{"start":{"line":106,"column":8},"end":{"line":110,"column":9}},"31":{"start":{"line":107,"column":12},"end":{"line":107,"column":45}},"32":{"start":{"line":109,"column":12},"end":{"line":109,"column":45}},"33":{"start":{"line":114,"column":8},"end":{"line":117,"column":79}},"34":{"start":{"line":119,"column":8},"end":{"line":119,"column":29}},"35":{"start":{"line":121,"column":8},"end":{"line":121,"column":37}},"36":{"start":{"line":122,"column":8},"end":{"line":122,"column":37}},"37":{"start":{"line":124,"column":8},"end":{"line":124,"column":45}},"38":{"start":{"line":125,"column":8},"end":{"line":125,"column":51}},"39":{"start":{"line":126,"column":8},"end":{"line":126,"column":93}},"40":{"start":{"line":128,"column":8},"end":{"line":135,"column":11}},"41":{"start":{"line":130,"column":12},"end":{"line":134,"column":13}},"42":{"start":{"line":131,"column":16},"end":{"line":131,"column":33}},"43":{"start":{"line":133,"column":16},"end":{"line":133,"column":37}},"44":{"start":{"line":137,"column":8},"end":{"line":137,"column":38}},"45":{"start":{"line":141,"column":8},"end":{"line":141,"column":52}},"46":{"start":{"line":143,"column":8},"end":{"line":145,"column":9}},"47":{"start":{"line":144,"column":12},"end":{"line":144,"column":52}},"48":{"start":{"line":149,"column":8},"end":{"line":156,"column":9}},"49":{"start":{"line":150,"column":12},"end":{"line":152,"column":56}},"50":{"start":{"line":154,"column":12},"end":{"line":154,"column":58}},"51":{"start":{"line":155,"column":12},"end":{"line":155,"column":52}},"52":{"start":{"line":160,"column":8},"end":{"line":160,"column":52}},"53":{"start":{"line":161,"column":12},"end":{"line":161,"column":37}},"54":{"start":{"line":163,"column":8},"end":{"line":168,"column":9}},"55":{"start":{"line":164,"column":12},"end":{"line":167,"column":14}},"56":{"start":{"line":170,"column":8},"end":{"line":173,"column":59}},"57":{"start":{"line":175,"column":8},"end":{"line":180,"column":4}},"58":{"start":{"line":183,"column":8},"end":{"line":187,"column":39}},"59":{"start":{"line":189,"column":8},"end":{"line":191,"column":9}},"60":{"start":{"line":190,"column":12},"end":{"line":190,"column":43}},"61":{"start":{"line":193,"column":8},"end":{"line":193,"column":39}},"62":{"start":{"line":195,"column":8},"end":{"line":197,"column":88}},"63":{"start":{"line":199,"column":8},"end":{"line":205,"column":8}},"64":{"start":{"line":200,"column":12},"end":{"line":200,"column":43}},"65":{"start":{"line":202,"column":12},"end":{"line":202,"column":35}},"66":{"start":{"line":205,"column":8},"end":{"line":205,"column":29}},"67":{"start":{"line":209,"column":8},"end":{"line":209,"column":50}},"68":{"start":{"line":210,"column":8},"end":{"line":210,"column":29}},"69":{"start":{"line":211,"column":8},"end":{"line":211,"column":29}},"70":{"start":{"line":215,"column":8},"end":{"line":215,"column":77}},"71":{"start":{"line":217,"column":8},"end":{"line":225,"column":9}},"72":{"start":{"line":218,"column":12},"end":{"line":222,"column":15}},"73":{"start":{"line":224,"column":12},"end":{"line":224,"column":53}},"74":{"start":{"line":227,"column":8},"end":{"line":227,"column":20}},"75":{"start":{"line":231,"column":8},"end":{"line":231,"column":38}},"76":{"start":{"line":233,"column":8},"end":{"line":237,"column":10}},"77":{"start":{"line":239,"column":8},"end":{"line":243,"column":64}},"78":{"start":{"line":245,"column":8},"end":{"line":245,"column":19}},"79":{"start":{"line":275,"column":0},"end":{"line":275,"column":49}}},"branchMap":{"1":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":106,"column":8}},{"start":{"line":106,"column":8},"end":{"line":106,"column":8}}]},"2":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":12},"end":{"line":130,"column":12}},{"start":{"line":130,"column":12},"end":{"line":130,"column":12}}]},"3":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":8},"end":{"line":143,"column":8}},{"start":{"line":143,"column":8},"end":{"line":143,"column":8}}]},"4":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":8}},{"start":{"line":149,"column":8},"end":{"line":149,"column":8}}]},"5":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":8},"end":{"line":163,"column":8}},{"start":{"line":163,"column":8},"end":{"line":163,"column":8}}]},"6":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":8},"end":{"line":189,"column":8}},{"start":{"line":189,"column":8},"end":{"line":189,"column":8}}]},"7":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":8},"end":{"line":217,"column":8}},{"start":{"line":217,"column":8},"end":{"line":217,"column":8}}]}},"code":["(function () { YUI.add('rednose-colorpicker', function (Y, NAME) {","","/*jshint boss:true, expr:true, onevar:false */","","/**"," * Fired when the overlay is closed"," *"," * @event close"," * @param {EventFacade} originEvent Original click event."," */","var EVT_CLOSE = 'close';","","/**"," * Colorpicker in form-control style"," *"," * @class Colorpicker"," * @namespace Rednose"," * @constructor"," */","var Colorpicker = Y.Base.create('colorpicker', Y.Widget, [], {","","    // -- Public Properties ----------------------------------------------------","","    template:","        '<div class=\"input-append\">' +","            '<input type=\"text\" id=\"color\" value=\"#FFFFFF\" />' +","            '<button title=\"Configure table\" type=\"button\" class=\"btn\">' +","                '<i class=\"icon-adjust\"></i>' +","            '</button>' +","        '</div>',","","    // -- Proteced Properties --------------------------------------------------","","    _canvas: null,","","    _imageObj: null,","","    _imageData: null,","","    _mouseActive: false,","","    _picker: null,","","    // -- Lifecycle methods ----------------------------------------------------","","    initializer: function () {","        var self = this;","","        this._canvas = Y.Node.create('<canvas class=\"rednose-colorpicker-canvas\" height=\"256\" width=\"256\"></canvas>').getDOMNode();","        this._picker = Y.Node.create('<i class=\"rednose-colorpicker-pointer\"><i>');","","        this._canvas.addEventListener('mousemove', function (e) {","            self._mouseOver(e);","        });","","        this._canvas.addEventListener('mousedown', function () {","            self._mouseActive = true;","        });","","        this._picker.getDOMNode().addEventListener('mousedown', function () {","            self._mouseActive = true;","        });","","        this._canvas.addEventListener('mouseup', function () {","            self._mouseActive = false;","        });","","        this._picker.getDOMNode().addEventListener('mouseup', function () {","            self._mouseActive = false;","        });","","        this.after('colorChange', this._handleColorChange, this);","    },","","    destructor: function () {","        this._picker.getDOMNode().removeEventListener('mousemove');","        this._canvas.removeEventListener('mousemove');","    },","","    renderUI: function () {","        var self       = this,","            container  = this.get('contentBox'),","            colorImage = new Image();","","        container.addClass('rednose-colorpicker')","        container.append(this.template);","","        // Bind widget events","        container.one('input#color').on(['change', 'keyup'], this._handleColorInputChanged, this);","        container.one('input#color').on('blur', this._handleColorChange, this);","        container.one('button').on('click', this._handleColorClicked, this);","    },","","    // -- Protected methods ----------------------------------------------------","","    _handleColorChange: function () {","        var color    = this.get('color'),","            hexColor = this.get('hex').toUpperCase(),","            input    = this.get('contentBox').one('#color');","","        input.set('value', hexColor);","        input.setStyle('backgroundColor', hexColor);","","        contrast = 1 - (0.299 * color.red + 0.587 * color.green + 0.114 * color.blue) / 255;","","        if (contrast < 0.5) {","            input.setStyle('color', 'black');","        } else {","            input.setStyle('color', 'white');","        }","    },","","    _handleColorClicked: function (e) {","        var self      = this,","            container = this.get('contentBox'),","            button    = e.currentTarget,","            overlay   = new Y.Node.create('<div class=\"dropdown-menu\"></div>');","","        this._renderCanvas();","","        overlay.append(this._canvas);","        overlay.append(this._picker);","","        overlay.setStyle('display', 'block');","        overlay.setStyle('left', container.getX());","        overlay.setStyle('top', button.getY() + parseInt(button.getComputedStyle('height')));","","        overlay.on('clickoutside', function (e) {","            // Prevent close on open","            if (e.target !== button) {","                overlay.remove();","","                self.fire(EVT_CLOSE);","            }","        });","","        Y.one('body').append(overlay);","    },","","    _handleColorInputChanged: function (e) {","        var hexValue = e.currentTarget.get('value');","","        if (hexValue.match(/^#([0-9a-f]{6})$/i)) {","            this.set('hex', hexValue.toUpperCase());","        }","    },","","    _mouseOver: function (e) {","        if (this._mouseActive === true) {","            var rect = this._canvas.getBoundingClientRect(),","                x    = Math.round(e.clientX - rect.left),","                y    = Math.round(e.clientY - rect.top);","","            this._setPicker(e.clientX - 3, e.clientY - 3);","            this.set('color', this._getColor(x, y));","        }","    },","","    _getColor: function (x, y) {","        var context = this._canvas.getContext('2d');","            imgObj  = this._imageObj;","","        if (this._imageData === null) {","            this._imageData = context.getImageData(","                0, 0,","                imgObj.height, imgObj.width","            );","        }","","        var data  = this._imageData.data,","            red   = data[((imgObj.width * y) + x) * 4],","            green = data[((imgObj.width * y) + x) * 4 + 1],","            blue  = data[((imgObj.width * y) + x) * 4 + 2];","","        return {","            red   : red,","            green : green,","            blue  : blue","        }","    },","","    _renderCanvas: function() {","        var self         = this,","            container    = this.get('contentBox'),","            bufferCanvas = Y.Node.create('<canvas height=\"0\" width=\"0\" class=\"buffer\" />'),","            context      = this._canvas.getContext('2d'),","            image        = new Image();","","        if (container.one('canvas.buffer') === null) {","            container.append(bufferCanvas);","        }","","        container.append(this._canvas);","","        var imageUrl =","            bufferCanvas.getStyle('backgroundImage')","            .replace('url(', '').replace(/'/, '').replace(/\"/g, '').replace(/[)]/g, '');","","        image.onload = function () {","            context.drawImage(image, 0, 0);","","            self._imageObj = image;","        }","","        image.src = imageUrl;","    },","","    _setPicker: function (x, y) {","        this._picker.setStyle('display', 'block');","        this._picker.setX(x);","        this._picker.setY(y);","    },","","    _setHex: function (hex) {","        var hexParts = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);","","        if (hexParts !== null) {","            this.set('color', {","                red   : parseInt(hexParts[1], 16),","                green : parseInt(hexParts[2], 16),","                blue  : parseInt(hexParts[3], 16)","            });","","            this._picker.setStyle('display', 'none');","        }","","        return null;","    },","","    _getHex: function () {","        var color = this.get('color');","","        rgb = [","            color.red.toString(),","            color.green.toString(),","            color.blue.toString()","        ];","","        var hex =","            \"#\" +","            (\"0\" + parseInt(rgb[0], 10).toString(16)).slice(-2) +","            (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +","            (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2);","","        return hex;","    }","}, {","    ATTRS: {","        /**","         * Color object","         *","         * @attribute {Object} {red, green, blue}","         */","        color: {","            value: {","                green: 255,","                red  : 255,","                blue : 255","            }","        },","","        /**","         * Color value in hex","         *","         * @attribute {string}","         */","        hex: {","            value: null,","            getter: '_getHex',","            setter: '_setHex'","        }","    }","});","","Y.namespace('Rednose').Colorpicker = Colorpicker;","","","}, '1.5.0-DEV', {\"requires\": [\"base\", \"event\", \"node\", \"widget\"]});","","}());"]};
}
var __cov_Jt9MzXu0OBPzTvIi2itf$Q = __coverage__['build/rednose-colorpicker/rednose-colorpicker.js'];
__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['1']++;YUI.add('rednose-colorpicker',function(Y,NAME){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['1']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['2']++;var EVT_CLOSE='close';__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['3']++;var Colorpicker=Y.Base.create('colorpicker',Y.Widget,[],{template:'<div class="input-append">'+'<input type="text" id="color" value="#FFFFFF" />'+'<button title="Configure table" type="button" class="btn">'+'<i class="icon-adjust"></i>'+'</button>'+'</div>',_canvas:null,_imageObj:null,_imageData:null,_mouseActive:false,_picker:null,initializer:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['2']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['4']++;var self=this;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['5']++;this._canvas=Y.Node.create('<canvas class="rednose-colorpicker-canvas" height="256" width="256"></canvas>').getDOMNode();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['6']++;this._picker=Y.Node.create('<i class="rednose-colorpicker-pointer"><i>');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['7']++;this._canvas.addEventListener('mousemove',function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['3']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['8']++;self._mouseOver(e);});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['9']++;this._canvas.addEventListener('mousedown',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['4']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['10']++;self._mouseActive=true;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['11']++;this._picker.getDOMNode().addEventListener('mousedown',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['5']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['12']++;self._mouseActive=true;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['13']++;this._canvas.addEventListener('mouseup',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['6']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['14']++;self._mouseActive=false;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['15']++;this._picker.getDOMNode().addEventListener('mouseup',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['7']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['16']++;self._mouseActive=false;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['17']++;this.after('colorChange',this._handleColorChange,this);},destructor:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['8']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['18']++;this._picker.getDOMNode().removeEventListener('mousemove');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['19']++;this._canvas.removeEventListener('mousemove');},renderUI:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['9']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['20']++;var self=this,container=this.get('contentBox'),colorImage=new Image();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['21']++;container.addClass('rednose-colorpicker');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['22']++;container.append(this.template);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['23']++;container.one('input#color').on(['change','keyup'],this._handleColorInputChanged,this);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['24']++;container.one('input#color').on('blur',this._handleColorChange,this);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['25']++;container.one('button').on('click',this._handleColorClicked,this);},_handleColorChange:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['10']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['26']++;var color=this.get('color'),hexColor=this.get('hex').toUpperCase(),input=this.get('contentBox').one('#color');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['27']++;input.set('value',hexColor);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['28']++;input.setStyle('backgroundColor',hexColor);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['29']++;contrast=1-(0.299*color.red+0.587*color.green+0.114*color.blue)/255;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['30']++;if(contrast<0.5){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['1'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['31']++;input.setStyle('color','black');}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['1'][1]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['32']++;input.setStyle('color','white');}},_handleColorClicked:function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['11']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['33']++;var self=this,container=this.get('contentBox'),button=e.currentTarget,overlay=new Y.Node.create('<div class="dropdown-menu"></div>');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['34']++;this._renderCanvas();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['35']++;overlay.append(this._canvas);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['36']++;overlay.append(this._picker);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['37']++;overlay.setStyle('display','block');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['38']++;overlay.setStyle('left',container.getX());__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['39']++;overlay.setStyle('top',button.getY()+parseInt(button.getComputedStyle('height')));__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['40']++;overlay.on('clickoutside',function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['12']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['41']++;if(e.target!==button){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['2'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['42']++;overlay.remove();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['43']++;self.fire(EVT_CLOSE);}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['2'][1]++;}});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['44']++;Y.one('body').append(overlay);},_handleColorInputChanged:function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['13']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['45']++;var hexValue=e.currentTarget.get('value');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['46']++;if(hexValue.match(/^#([0-9a-f]{6})$/i)){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['3'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['47']++;this.set('hex',hexValue.toUpperCase());}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['3'][1]++;}},_mouseOver:function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['14']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['48']++;if(this._mouseActive===true){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['4'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['49']++;var rect=this._canvas.getBoundingClientRect(),x=Math.round(e.clientX-rect.left),y=Math.round(e.clientY-rect.top);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['50']++;this._setPicker(e.clientX-3,e.clientY-3);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['51']++;this.set('color',this._getColor(x,y));}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['4'][1]++;}},_getColor:function(x,y){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['15']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['52']++;var context=this._canvas.getContext('2d');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['53']++;imgObj=this._imageObj;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['54']++;if(this._imageData===null){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['5'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['55']++;this._imageData=context.getImageData(0,0,imgObj.height,imgObj.width);}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['5'][1]++;}__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['56']++;var data=this._imageData.data,red=data[(imgObj.width*y+x)*4],green=data[(imgObj.width*y+x)*4+1],blue=data[(imgObj.width*y+x)*4+2];__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['57']++;return{red:red,green:green,blue:blue};},_renderCanvas:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['16']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['58']++;var self=this,container=this.get('contentBox'),bufferCanvas=Y.Node.create('<canvas height="0" width="0" class="buffer" />'),context=this._canvas.getContext('2d'),image=new Image();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['59']++;if(container.one('canvas.buffer')===null){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['6'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['60']++;container.append(bufferCanvas);}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['6'][1]++;}__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['61']++;container.append(this._canvas);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['62']++;var imageUrl=bufferCanvas.getStyle('backgroundImage').replace('url(','').replace(/'/,'').replace(/"/g,'').replace(/[)]/g,'');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['63']++;image.onload=function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['17']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['64']++;context.drawImage(image,0,0);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['65']++;self._imageObj=image;};__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['66']++;image.src=imageUrl;},_setPicker:function(x,y){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['18']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['67']++;this._picker.setStyle('display','block');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['68']++;this._picker.setX(x);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['69']++;this._picker.setY(y);},_setHex:function(hex){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['19']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['70']++;var hexParts=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['71']++;if(hexParts!==null){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['7'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['72']++;this.set('color',{red:parseInt(hexParts[1],16),green:parseInt(hexParts[2],16),blue:parseInt(hexParts[3],16)});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['73']++;this._picker.setStyle('display','none');}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['7'][1]++;}__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['74']++;return null;},_getHex:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['20']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['75']++;var color=this.get('color');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['76']++;rgb=[color.red.toString(),color.green.toString(),color.blue.toString()];__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['77']++;var hex='#'+('0'+parseInt(rgb[0],10).toString(16)).slice(-2)+('0'+parseInt(rgb[1],10).toString(16)).slice(-2)+('0'+parseInt(rgb[2],10).toString(16)).slice(-2);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['78']++;return hex;}},{ATTRS:{color:{value:{green:255,red:255,blue:255}},hex:{value:null,getter:'_getHex',setter:'_setHex'}}});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['79']++;Y.namespace('Rednose').Colorpicker=Colorpicker;},'1.5.0-DEV',{'requires':['base','event','node','widget']});
