if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/rednose-colorpicker/rednose-colorpicker.js']) {
   __coverage__['build/rednose-colorpicker/rednose-colorpicker.js'] = {"path":"build/rednose-colorpicker/rednose-colorpicker.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":31},"end":{"line":1,"column":50}}},"2":{"name":"(anonymous_2)","line":31,"loc":{"start":{"line":31,"column":17},"end":{"line":31,"column":29}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":51},"end":{"line":37,"column":64}}},"4":{"name":"(anonymous_4)","line":41,"loc":{"start":{"line":41,"column":51},"end":{"line":41,"column":63}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":64},"end":{"line":45,"column":76}}},"6":{"name":"(anonymous_6)","line":49,"loc":{"start":{"line":49,"column":49},"end":{"line":49,"column":61}}},"7":{"name":"(anonymous_7)","line":53,"loc":{"start":{"line":53,"column":62},"end":{"line":53,"column":74}}},"8":{"name":"(anonymous_8)","line":60,"loc":{"start":{"line":60,"column":16},"end":{"line":60,"column":28}}},"9":{"name":"(anonymous_9)","line":65,"loc":{"start":{"line":65,"column":14},"end":{"line":65,"column":26}}},"10":{"name":"(anonymous_10)","line":81,"loc":{"start":{"line":81,"column":24},"end":{"line":81,"column":36}}},"11":{"name":"(anonymous_11)","line":98,"loc":{"start":{"line":98,"column":25},"end":{"line":98,"column":38}}},"12":{"name":"(anonymous_12)","line":112,"loc":{"start":{"line":112,"column":35},"end":{"line":112,"column":48}}},"13":{"name":"(anonymous_13)","line":122,"loc":{"start":{"line":122,"column":30},"end":{"line":122,"column":43}}},"14":{"name":"(anonymous_14)","line":130,"loc":{"start":{"line":130,"column":16},"end":{"line":130,"column":29}}},"15":{"name":"(anonymous_15)","line":141,"loc":{"start":{"line":141,"column":15},"end":{"line":141,"column":31}}},"16":{"name":"(anonymous_16)","line":164,"loc":{"start":{"line":164,"column":19},"end":{"line":164,"column":30}}},"17":{"name":"(anonymous_17)","line":178,"loc":{"start":{"line":178,"column":23},"end":{"line":178,"column":35}}},"18":{"name":"(anonymous_18)","line":187,"loc":{"start":{"line":187,"column":16},"end":{"line":187,"column":32}}},"19":{"name":"(anonymous_19)","line":193,"loc":{"start":{"line":193,"column":13},"end":{"line":193,"column":28}}},"20":{"name":"(anonymous_20)","line":209,"loc":{"start":{"line":209,"column":13},"end":{"line":209,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":257,"column":67}},"2":{"start":{"line":5,"column":0},"end":{"line":252,"column":3}},"3":{"start":{"line":32,"column":8},"end":{"line":32,"column":24}},"4":{"start":{"line":34,"column":8},"end":{"line":34,"column":96}},"5":{"start":{"line":35,"column":8},"end":{"line":35,"column":62}},"6":{"start":{"line":37,"column":8},"end":{"line":39,"column":11}},"7":{"start":{"line":38,"column":12},"end":{"line":38,"column":31}},"8":{"start":{"line":41,"column":8},"end":{"line":43,"column":11}},"9":{"start":{"line":42,"column":12},"end":{"line":42,"column":37}},"10":{"start":{"line":45,"column":8},"end":{"line":47,"column":11}},"11":{"start":{"line":46,"column":12},"end":{"line":46,"column":37}},"12":{"start":{"line":49,"column":8},"end":{"line":51,"column":11}},"13":{"start":{"line":50,"column":12},"end":{"line":50,"column":38}},"14":{"start":{"line":53,"column":8},"end":{"line":55,"column":11}},"15":{"start":{"line":54,"column":12},"end":{"line":54,"column":38}},"16":{"start":{"line":57,"column":8},"end":{"line":57,"column":65}},"17":{"start":{"line":61,"column":8},"end":{"line":61,"column":67}},"18":{"start":{"line":62,"column":8},"end":{"line":62,"column":54}},"19":{"start":{"line":66,"column":8},"end":{"line":68,"column":37}},"20":{"start":{"line":70,"column":8},"end":{"line":71,"column":8}},"21":{"start":{"line":71,"column":8},"end":{"line":71,"column":40}},"22":{"start":{"line":74,"column":8},"end":{"line":74,"column":98}},"23":{"start":{"line":75,"column":8},"end":{"line":75,"column":79}},"24":{"start":{"line":76,"column":8},"end":{"line":76,"column":76}},"25":{"start":{"line":82,"column":8},"end":{"line":84,"column":60}},"26":{"start":{"line":86,"column":8},"end":{"line":86,"column":37}},"27":{"start":{"line":87,"column":8},"end":{"line":87,"column":52}},"28":{"start":{"line":89,"column":8},"end":{"line":89,"column":93}},"29":{"start":{"line":91,"column":8},"end":{"line":95,"column":9}},"30":{"start":{"line":92,"column":12},"end":{"line":92,"column":45}},"31":{"start":{"line":94,"column":12},"end":{"line":94,"column":45}},"32":{"start":{"line":99,"column":8},"end":{"line":101,"column":79}},"33":{"start":{"line":103,"column":8},"end":{"line":103,"column":29}},"34":{"start":{"line":105,"column":8},"end":{"line":105,"column":37}},"35":{"start":{"line":106,"column":8},"end":{"line":106,"column":37}},"36":{"start":{"line":108,"column":8},"end":{"line":108,"column":45}},"37":{"start":{"line":109,"column":8},"end":{"line":109,"column":51}},"38":{"start":{"line":110,"column":8},"end":{"line":110,"column":93}},"39":{"start":{"line":112,"column":8},"end":{"line":117,"column":11}},"40":{"start":{"line":114,"column":12},"end":{"line":116,"column":13}},"41":{"start":{"line":115,"column":16},"end":{"line":115,"column":33}},"42":{"start":{"line":119,"column":8},"end":{"line":119,"column":34}},"43":{"start":{"line":123,"column":8},"end":{"line":123,"column":52}},"44":{"start":{"line":125,"column":8},"end":{"line":127,"column":9}},"45":{"start":{"line":126,"column":12},"end":{"line":126,"column":52}},"46":{"start":{"line":131,"column":8},"end":{"line":138,"column":9}},"47":{"start":{"line":132,"column":12},"end":{"line":134,"column":56}},"48":{"start":{"line":136,"column":12},"end":{"line":136,"column":58}},"49":{"start":{"line":137,"column":12},"end":{"line":137,"column":52}},"50":{"start":{"line":142,"column":8},"end":{"line":142,"column":52}},"51":{"start":{"line":143,"column":12},"end":{"line":143,"column":37}},"52":{"start":{"line":145,"column":8},"end":{"line":150,"column":9}},"53":{"start":{"line":146,"column":12},"end":{"line":149,"column":14}},"54":{"start":{"line":152,"column":8},"end":{"line":155,"column":59}},"55":{"start":{"line":157,"column":8},"end":{"line":162,"column":4}},"56":{"start":{"line":165,"column":8},"end":{"line":169,"column":39}},"57":{"start":{"line":171,"column":8},"end":{"line":171,"column":39}},"58":{"start":{"line":172,"column":8},"end":{"line":172,"column":39}},"59":{"start":{"line":174,"column":8},"end":{"line":176,"column":88}},"60":{"start":{"line":178,"column":8},"end":{"line":184,"column":8}},"61":{"start":{"line":179,"column":12},"end":{"line":179,"column":43}},"62":{"start":{"line":181,"column":12},"end":{"line":181,"column":35}},"63":{"start":{"line":184,"column":8},"end":{"line":184,"column":29}},"64":{"start":{"line":188,"column":8},"end":{"line":188,"column":50}},"65":{"start":{"line":189,"column":8},"end":{"line":189,"column":29}},"66":{"start":{"line":190,"column":8},"end":{"line":190,"column":29}},"67":{"start":{"line":194,"column":8},"end":{"line":194,"column":77}},"68":{"start":{"line":196,"column":8},"end":{"line":204,"column":9}},"69":{"start":{"line":197,"column":12},"end":{"line":201,"column":15}},"70":{"start":{"line":203,"column":12},"end":{"line":203,"column":53}},"71":{"start":{"line":206,"column":8},"end":{"line":206,"column":20}},"72":{"start":{"line":210,"column":8},"end":{"line":210,"column":38}},"73":{"start":{"line":212,"column":8},"end":{"line":216,"column":10}},"74":{"start":{"line":218,"column":8},"end":{"line":222,"column":64}},"75":{"start":{"line":224,"column":8},"end":{"line":224,"column":19}},"76":{"start":{"line":254,"column":0},"end":{"line":254,"column":49}}},"branchMap":{"1":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"2":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":12},"end":{"line":114,"column":12}},{"start":{"line":114,"column":12},"end":{"line":114,"column":12}}]},"3":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":8},"end":{"line":125,"column":8}},{"start":{"line":125,"column":8},"end":{"line":125,"column":8}}]},"4":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":8},"end":{"line":131,"column":8}},{"start":{"line":131,"column":8},"end":{"line":131,"column":8}}]},"5":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":8}},{"start":{"line":145,"column":8},"end":{"line":145,"column":8}}]},"6":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":8},"end":{"line":196,"column":8}},{"start":{"line":196,"column":8},"end":{"line":196,"column":8}}]}},"code":["(function () { YUI.add('rednose-colorpicker', function (Y, NAME) {","","/*jshint boss:true, expr:true, onevar:false */","","var Colorpicker = Y.Base.create('colorpicker', Y.Widget, [], {","","    // -- Public Properties ----------------------------------------------------","","    template:","        '<div class=\"input-append\">' +","            '<input type=\"text\" id=\"color\" value=\"#FFFFFF\" />' +","            '<button title=\"Configure table\" type=\"button\" class=\"btn\">' +","                '<i class=\"icon-adjust\"></i>' +","            '</button>' +","        '</div>',","","    // -- Proteced Properties --------------------------------------------------","","    _canvas: null,","","    _imageObj: null,","","    _imageData: null,","","    _mouseActive: false,","","    _picker: null,","","    // -- Lifecycle methods ----------------------------------------------------","","    initializer: function () {","        var self = this;","","        this._canvas = Y.Node.create('<canvas height=\"256\" width=\"256\"></canvas>').getDOMNode();","        this._picker = Y.Node.create('<i class=\"picker\"><i>');","","        this._canvas.addEventListener('mousemove', function (e) {","            self._mouseOver(e);","        });","","        this._canvas.addEventListener('mousedown', function () {","            self._mouseActive = true;","        });","","        this._picker.getDOMNode().addEventListener('mousedown', function () {","            self._mouseActive = true;","        });","","        this._canvas.addEventListener('mouseup', function () {","            self._mouseActive = false;","        });","","        this._picker.getDOMNode().addEventListener('mouseup', function () {","            self._mouseActive = false;","        });","","        this.after('colorChange', this._handleColorChange, this);","    },","","    destructor: function () {","        this._picker.getDOMNode().removeEventListener('mousemove');","        this._canvas.removeEventListener('mousemove');","    },","","    renderUI: function () {","        var self       = this,","            container  = this.get('contentBox'),","            colorImage = new Image();","","        container.addClass('rednose-colorpicker')","        container.append(this.template);","","        // Bind widget events","        container.one('input#color').on(['change', 'keyup'], this._handleColorInputChanged, this);","        container.one('input#color').on('blur', this._handleColorChange, this);","        container.one('button').on('click', this._handleColorClicked, this);","    },","","    // -- Protected methods ----------------------------------------------------","","    _handleColorChange: function () {","        var color    = this.get('color'),","            hexColor = this.get('hex').toUpperCase(),","            input    = this.get('contentBox').one('#color');","","        input.set('value', hexColor);","        input.setStyle('backgroundColor', hexColor);","","        contrast = 1 - ( 0.299 * color.red + 0.587 * color.green + 0.114 * color.blue) / 255;","","        if (contrast < 0.5) {","            input.setStyle('color', 'black');","        } else {","            input.setStyle('color', 'white');","        }","    },","","    _handleColorClicked: function (e) {","        var container = this.get('contentBox'),","            button    = e.currentTarget,","            overlay   = new Y.Node.create('<div class=\"dropdown-menu\"></div>');","","        this._renderCanvas();","","        overlay.append(this._canvas);","        overlay.append(this._picker);","","        overlay.setStyle('display', 'block');","        overlay.setStyle('left', container.getX());","        overlay.setStyle('top', button.getY() + parseInt(button.getComputedStyle('height')));","","        overlay.on('clickoutside', function (e) {","            // Prevent close on open","            if (e.target !== button) {","                overlay.remove();","            }","        });","","        container.append(overlay);","    },","","    _handleColorInputChanged: function (e) {","        var hexValue = e.currentTarget.get('value');","","        if (hexValue.match(/^#([0-9a-f]{6})$/i)) {","            this.set('hex', hexValue.toUpperCase());","        }","    },","","    _mouseOver: function (e) {","        if (this._mouseActive === true) {","            var rect = this._canvas.getBoundingClientRect(),","                x    = Math.round(e.clientX - rect.left),","                y    = Math.round(e.clientY - rect.top);","","            this._setPicker(e.clientX - 3, e.clientY - 3);","            this.set('color', this._getColor(x, y));","        }","    },","","    _getColor: function (x, y) {","        var context = this._canvas.getContext('2d');","            imgObj  = this._imageObj;","","        if (this._imageData === null) {","            this._imageData = context.getImageData(","                0, 0,","                imgObj.height, imgObj.width","            );","        }","","        var data  = this._imageData.data,","            red   = data[((imgObj.width * y) + x) * 4],","            green = data[((imgObj.width * y) + x) * 4 + 1],","            blue  = data[((imgObj.width * y) + x) * 4 + 2];","","        return {","            red: red,","            green: green,","            blue: blue","        }","    },","","    _renderCanvas: function() {","        var self         = this,","            container    = this.get('contentBox'),","            bufferCanvas = Y.Node.create('<canvas height=\"0\" width=\"0\" class=\"buffer\" />'),","            context      = this._canvas.getContext('2d'),","            image        = new Image();","","        container.append(bufferCanvas);","        container.append(this._canvas);","","        var imageUrl =","            bufferCanvas.getStyle('backgroundImage')","            .replace('url(', '').replace(/'/, '').replace(/\"/g, '').replace(/[)]/g, '');","","        image.onload = function () {","            context.drawImage(image, 0, 0);","","            self._imageObj = image;","        }","","        image.src = imageUrl;","    },","","    _setPicker: function (x, y) {","        this._picker.setStyle('display', 'block');","        this._picker.setX(x);","        this._picker.setY(y);","    },","","    _setHex: function (hex) {","        var hexParts = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);","","        if (hexParts !== null) {","            this.set('color', {","                red   : parseInt(hexParts[1], 16),","                green : parseInt(hexParts[2], 16),","                blue  : parseInt(hexParts[3], 16)","            });","","            this._picker.setStyle('display', 'none');","        }","","        return null;","    },","","    _getHex: function () {","        var color = this.get('color');","","        rgb = [","            color.red.toString(),","            color.green.toString(),","            color.blue.toString()","        ];","","        var hex =","            \"#\" +","            (\"0\" + parseInt(rgb[0], 10).toString(16)).slice(-2) +","            (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +","            (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2);","","        return hex;","    }","}, {","    ATTRS: {","        /**","         * Color object","         *","         * @attribute {Object} {red, green, blue}","         */","        color: {","            value: {","                green: 255,","                red  : 255,","                blue : 255","            }","        },","","        /**","         * Color value in hex","         *","         * @attribute {string}","         */","        hex: {","            value: null,","            getter: '_getHex',","            setter: '_setHex'","        }","    }","});","","Y.namespace('Rednose').Colorpicker = Colorpicker;","","","}, '1.5.0-DEV', {\"requires\": [\"base\", \"event\", \"node\", \"widget\"]});","","}());"]};
}
var __cov_Jt9MzXu0OBPzTvIi2itf$Q = __coverage__['build/rednose-colorpicker/rednose-colorpicker.js'];
__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['1']++;YUI.add('rednose-colorpicker',function(Y,NAME){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['1']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['2']++;var Colorpicker=Y.Base.create('colorpicker',Y.Widget,[],{template:'<div class="input-append">'+'<input type="text" id="color" value="#FFFFFF" />'+'<button title="Configure table" type="button" class="btn">'+'<i class="icon-adjust"></i>'+'</button>'+'</div>',_canvas:null,_imageObj:null,_imageData:null,_mouseActive:false,_picker:null,initializer:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['2']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['3']++;var self=this;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['4']++;this._canvas=Y.Node.create('<canvas height="256" width="256"></canvas>').getDOMNode();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['5']++;this._picker=Y.Node.create('<i class="picker"><i>');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['6']++;this._canvas.addEventListener('mousemove',function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['3']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['7']++;self._mouseOver(e);});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['8']++;this._canvas.addEventListener('mousedown',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['4']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['9']++;self._mouseActive=true;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['10']++;this._picker.getDOMNode().addEventListener('mousedown',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['5']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['11']++;self._mouseActive=true;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['12']++;this._canvas.addEventListener('mouseup',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['6']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['13']++;self._mouseActive=false;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['14']++;this._picker.getDOMNode().addEventListener('mouseup',function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['7']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['15']++;self._mouseActive=false;});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['16']++;this.after('colorChange',this._handleColorChange,this);},destructor:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['8']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['17']++;this._picker.getDOMNode().removeEventListener('mousemove');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['18']++;this._canvas.removeEventListener('mousemove');},renderUI:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['9']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['19']++;var self=this,container=this.get('contentBox'),colorImage=new Image();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['20']++;container.addClass('rednose-colorpicker');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['21']++;container.append(this.template);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['22']++;container.one('input#color').on(['change','keyup'],this._handleColorInputChanged,this);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['23']++;container.one('input#color').on('blur',this._handleColorChange,this);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['24']++;container.one('button').on('click',this._handleColorClicked,this);},_handleColorChange:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['10']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['25']++;var color=this.get('color'),hexColor=this.get('hex').toUpperCase(),input=this.get('contentBox').one('#color');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['26']++;input.set('value',hexColor);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['27']++;input.setStyle('backgroundColor',hexColor);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['28']++;contrast=1-(0.299*color.red+0.587*color.green+0.114*color.blue)/255;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['29']++;if(contrast<0.5){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['1'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['30']++;input.setStyle('color','black');}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['1'][1]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['31']++;input.setStyle('color','white');}},_handleColorClicked:function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['11']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['32']++;var container=this.get('contentBox'),button=e.currentTarget,overlay=new Y.Node.create('<div class="dropdown-menu"></div>');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['33']++;this._renderCanvas();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['34']++;overlay.append(this._canvas);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['35']++;overlay.append(this._picker);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['36']++;overlay.setStyle('display','block');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['37']++;overlay.setStyle('left',container.getX());__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['38']++;overlay.setStyle('top',button.getY()+parseInt(button.getComputedStyle('height')));__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['39']++;overlay.on('clickoutside',function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['12']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['40']++;if(e.target!==button){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['2'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['41']++;overlay.remove();}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['2'][1]++;}});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['42']++;container.append(overlay);},_handleColorInputChanged:function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['13']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['43']++;var hexValue=e.currentTarget.get('value');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['44']++;if(hexValue.match(/^#([0-9a-f]{6})$/i)){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['3'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['45']++;this.set('hex',hexValue.toUpperCase());}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['3'][1]++;}},_mouseOver:function(e){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['14']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['46']++;if(this._mouseActive===true){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['4'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['47']++;var rect=this._canvas.getBoundingClientRect(),x=Math.round(e.clientX-rect.left),y=Math.round(e.clientY-rect.top);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['48']++;this._setPicker(e.clientX-3,e.clientY-3);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['49']++;this.set('color',this._getColor(x,y));}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['4'][1]++;}},_getColor:function(x,y){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['15']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['50']++;var context=this._canvas.getContext('2d');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['51']++;imgObj=this._imageObj;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['52']++;if(this._imageData===null){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['5'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['53']++;this._imageData=context.getImageData(0,0,imgObj.height,imgObj.width);}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['5'][1]++;}__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['54']++;var data=this._imageData.data,red=data[(imgObj.width*y+x)*4],green=data[(imgObj.width*y+x)*4+1],blue=data[(imgObj.width*y+x)*4+2];__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['55']++;return{red:red,green:green,blue:blue};},_renderCanvas:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['16']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['56']++;var self=this,container=this.get('contentBox'),bufferCanvas=Y.Node.create('<canvas height="0" width="0" class="buffer" />'),context=this._canvas.getContext('2d'),image=new Image();__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['57']++;container.append(bufferCanvas);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['58']++;container.append(this._canvas);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['59']++;var imageUrl=bufferCanvas.getStyle('backgroundImage').replace('url(','').replace(/'/,'').replace(/"/g,'').replace(/[)]/g,'');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['60']++;image.onload=function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['17']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['61']++;context.drawImage(image,0,0);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['62']++;self._imageObj=image;};__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['63']++;image.src=imageUrl;},_setPicker:function(x,y){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['18']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['64']++;this._picker.setStyle('display','block');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['65']++;this._picker.setX(x);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['66']++;this._picker.setY(y);},_setHex:function(hex){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['19']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['67']++;var hexParts=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['68']++;if(hexParts!==null){__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['6'][0]++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['69']++;this.set('color',{red:parseInt(hexParts[1],16),green:parseInt(hexParts[2],16),blue:parseInt(hexParts[3],16)});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['70']++;this._picker.setStyle('display','none');}else{__cov_Jt9MzXu0OBPzTvIi2itf$Q.b['6'][1]++;}__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['71']++;return null;},_getHex:function(){__cov_Jt9MzXu0OBPzTvIi2itf$Q.f['20']++;__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['72']++;var color=this.get('color');__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['73']++;rgb=[color.red.toString(),color.green.toString(),color.blue.toString()];__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['74']++;var hex='#'+('0'+parseInt(rgb[0],10).toString(16)).slice(-2)+('0'+parseInt(rgb[1],10).toString(16)).slice(-2)+('0'+parseInt(rgb[2],10).toString(16)).slice(-2);__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['75']++;return hex;}},{ATTRS:{color:{value:{green:255,red:255,blue:255}},hex:{value:null,getter:'_getHex',setter:'_setHex'}}});__cov_Jt9MzXu0OBPzTvIi2itf$Q.s['76']++;Y.namespace('Rednose').Colorpicker=Colorpicker;},'1.5.0-DEV',{'requires':['base','event','node','widget']});
