YUI.add("rednose-datatable-select",function(e,t){function u(){u.superclass.constructor.apply(this,arguments)}var n="selected",r="data",i="columns",s="icon-white",o="data-yui3-record";u.NAME="dataTableSelectPlugin",u.NS="selectable",u.ATTRS={selectedRow:{value:null}},e.extend(u,e.Plugin.Base,{initializer:function(){var e=this.get("host"),t=e.get("contentBox");this.after("selectedRowChange",this._afterSelectedRowChange,this),t.on("click",this._handleClick,this)},_handleClick:function(e){var t=e.target,n=this.get("host");if(t.ancestor("."+n.getClassName(r)+" tr"))this.set("selectedRow",t.ancestor("."+n.getClassName(r)+" tr"));else{if(t.ancestor("."+n.getClassName(i)))return!1;this.set("selectedRow",null)}return!0},_afterSelectedRowChange:function(t){var r=this.get("host"),i=t.newVal,o=t.prevVal,u=null;return i===o?!1:(o&&(o.all("td").removeClass(r.getClassName(n)),o.one("i")&&o.one("i").hasClass(s)&&o.one("i").removeClass(s)),e.Lang.isNull(i)===!1&&(i.all("td").addClass(r.getClassName(n)),i.one("i")&&i.one("i").addClass(s),u=this._getModelFromTableRow(i)),r.fire("select",{model:u}),!0)},_getModelFromTableRow:function(e){var t=e.getAttribute(o),n=this.get("host").data;return n.getByClientId(t)}}),e.namespace("Rednose").DataTableSelectPlugin=u},"1.1.0-DEV",{requires:["rednose-datatable","plugin"]});
