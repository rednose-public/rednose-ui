YUI.add("rednose-datatable-select",function(e,t){function a(){a.superclass.constructor.apply(this,arguments)}var n="datatable",r="selected",i="data",s="columns",o="icon-white",u="data-yui3-record";a.NAME="dataTableSelectPlugin",a.NS="selectable",a.ATTRS={selectedRow:{value:null}},e.extend(a,e.Plugin.Base,{initializer:function(){var e=this.get("host"),t=e.get("contentBox");this.after("selectedRowChange",this._afterSelectedRowChange,this),t.on("click",this._handleClick,this)},_handleClick:function(e){var t=e.target,n=this.get("host");if(t.ancestor("."+n.getClassName(i)+" tr"))this.set("selectedRow",t.ancestor("."+n.getClassName(i)+" tr"));else{if(t.ancestor("."+n.getClassName(s)))return!1;this.set("selectedRow",null)}return!0},_afterSelectedRowChange:function(t){var i=this.get("host"),s=t.newVal,u=t.prevVal,a=null;return s===u?!1:(u&&(u.all("td").removeClass(i.getClassName(n,r)),u.one("i")&&u.one("i").hasClass(o)&&u.one("i").removeClass(o)),e.Lang.isNull(s)===!1&&(s.all("td").addClass(i.getClassName(n,r)),s.one("i")&&s.one("i").addClass(o),a=this._getModelFromTableRow(s)),i.fire("select",{model:a}),!0)},_getModelFromTableRow:function(e){var t=e.getAttribute(u),n=this.get("host").data;return n.getByClientId(t)}}),e.namespace("Rednose").DataTableSelectPlugin=a},"1.0.0",{requires:["rednose-datatable","plugin"]});
