YUI.add("rednose-toolbar",function(e,t){var n="btn",r="btn-group",i="active",s="btn-primary",o="disabled",u="float-left",a="float-right",f="close",l=e.Base.create("toolbar",e.View,[],{_buttonMap:{},_evtPrefix:null,initializer:function(e){e||(e={}),this._evtPrefix=e.evtPrefix||l.NAME},destructor:function(){this._buttonMap=null},render:function(){var t=this,f=this.get("buttons"),l=this.get("container");return e.Object.each(f,function(f,c){var h=f.value,p=f.primary,d=f.position?f.position:"left",v=f.disabled,m=f.className,g=f.icon,y=f.title,b=f.hidden,w,E;f.type==="choice"||f.type==="group"?(w=e.Node.create('<div class="'+r+'"></div>'),v&&w.addClass(o),m&&w.addClass(m),b&&w.hide(),d==="left"&&w.addClass(u),d==="right"&&w.addClass(a),e.Object.each(f.choices,function(r,s){var u=e.Node.create('<button class="'+n+'"></button>');u.setAttribute("data-id",s),v&&u.addClass(o),r.icon&&u.append(e.Node.create('<i class="'+r.icon+'"></i>')),h===s&&u.addClass(i),r.title&&u.set("title",r.title),r.value&&u.set("text",r.value),f.type==="choice"&&u.on("click",function(n){var r=n.currentTarget;E="button"+e.Rednose.Util.capitalizeFirstLetter(s),r.hasClass(i)===!1&&(r.get("parentNode").get("children").each(function(e){e.hasClass(i)&&e.removeClass(i)}),r.addClass(i),t.fire(t._evtPrefix+":"+E))}),f.type==="group"&&u.on("click",function(n){var r=n.currentTarget;E="button"+e.Rednose.Util.capitalizeFirstLetter(s),r.blur(),r.hasClass(o)===!1&&t.fire(t._evtPrefix+":"+E)}),w.append(u)})):(E="button"+e.Rednose.Util.capitalizeFirstLetter(c),w=e.Node.create('<button class="'+n+'"></button>'),w.setAttribute("data-id",c),p&&w.addClass(s),v&&w.addClass(o),m&&w.addClass(m),y&&w.set("title",y),b&&w.hide(),d==="left"&&w.addClass(u),d==="right"&&w.addClass(a),h&&w.set("text",h),g&&w.append(e.Node.create('<i class="'+g+'"></i>')),w.on("click",function(e){var n=e.currentTarget;n.blur(),n.hasClass(o)===!1&&t.fire(t._evtPrefix+":"+E)})),l.append(w),t._buttonMap[c]=w}),this},getButton:function(e){return this._buttonMap?this._buttonMap[e]?this._buttonMap[e]:!1:!1},enable:function(e){this.disable(e,!0)},disable:function(e,t){var n=this.get("container"),r=n.one("[data-id="+e+"]");t?r.removeClass("disabled"):r.addClass("disabled")},reset:function(e){var t=this.get("container"),n=t.one("[data-id="+e+"]");n.hasClass(i)&&n.removeClass(i)},_setButtons:function(t){var n=this,r=this.get("container").one("."+CSS_YUI3_WIDGET_FT),i=this.buttons;e.Object.each(t,function(t,r){n.buttons[r]=e.merge(i[r],t)}),this._buildFooter(),this._rendered&&r.one("div").replace(this._footer)},_getButtons:function(){return this.buttons}},{ATTRS:{buttons:{value:{}}}});e.namespace("Rednose").Toolbar=l},"1.4.0",{requires:["rednose-button-group"]});
