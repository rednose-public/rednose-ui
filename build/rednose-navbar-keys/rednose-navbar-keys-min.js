YUI.add("rednose-navbar-keys",function(e,t){function n(){}n.prototype={_ignoreKeyCodes:{16:"shift",17:"ctrl",18:"alt",91:"leftmeta",93:"rightmeta",224:"meta"},_keyCodeMap:{8:"backspace",9:"tab",13:"enter",27:"esc",32:"space"},initializer:function(){this._keyCodeItemMap||(this._keyCodeItemMap={}),this._navbarKeyEvents=[e.Do.after(this._afterRender,this,"render",this),e.one("doc").on("keydown",this._onKeydown,this)]},destructor:function(){(new e.EventHandle(this._navbarKeyEvents)).detach(),this._navbarKeyEvents=null,this._keyCodeMapItemMap=null,this._ignoreKeyCodes=null,this._keyCodeMap=null},_handleItemEvent:function(e,t){if(e.isDisabled())return;var n="click#"+e.id;e.toggle&&e.toggleActive(),this._published[n]||(this._published[n]=this.publish(n,{defaultFn:this._defItemClickFn})),this.fire(n,{originEvent:t,item:e})},_onKeydown:function(t){var n=this.get("delegate"),r=t.keyCode;if(this._ignoreKeyCodes[r])return;if(n&&typeof n.shouldRespondToKeyboardEvents=="function"&&!n.shouldRespondToKeyboardEvents())return;var i=e.UA.os==="macintosh",s=[];t.altKey&&s.push("alt"),t.shiftKey&&s.push("shift"),(i&&t.metaKey||!i&&t.ctrlKey)&&s.push("ctrl"),s.push(this._keyCodeMap[r]||String.fromCharCode(r).toLowerCase());var o=this._keyCodeItemMap[s.join("+")];o&&(t.preventDefault(),this._handleItemEvent(o,t))},_afterRender:function(){var t=this;e.Array.each(this._dropdownMap,function(n){e.Array.each(n.getItems(),function(e){e.keyCode&&(t._keyCodeItemMap[e.keyCode]=e)})})}},n.ATTRS={delegate:{value:null}},e.Rednose.Navbar.Keys=n,e.Base.mix(e.Rednose.Navbar,[n])},"1.7.0",{requires:["event-custom","rednose-dropdown-keys","rednose-navbar-base"]});
