YUI.add("rednose-navbar",function(e,t){var n,r="No title";n=e.Base.create("navbar",e.Widget,[],{template:e.Handlebars.compile('<div class="navbar navbar-inverse"><div class="navbar-inner" style="-webkit-border-radius: 0; -moz-border-radius: 0; border-radius: 0;"><a class="brand brand-navbar" href="#">{{ title }}</a><ul class="nav"></ul><ul class="nav pull-right"></ui></div></div>'),dropdownTemplate:e.Handlebars.compile('<li class="dropdown{{ submenu }}"><a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ title }} <{{ caret }}></b></a><ul class="dropdown-menu"></ul></li>'),initializer:function(){var e=this.get("contentBox");e.delegate("click",this._prevent,"a",this),e.delegate("click",this._handleClick,".dropdown-menu a",this)},destructor:function(){this.template=null,this.dropdownTemplate=null},renderUI:function(){var e=this.get("menu"),t=this.get("menuSecondary"),n=this.template,r=this.get("title");this.get("contentBox").setHTML(n({title:r})),this._appendMenu(e,!1),this._appendMenu(t,!0)},bindUI:function(){var t=this.get("contentBox");t.all(".dropdown-toggle").each(function(t){t.plug(e.Bootstrap.Dropdown)})},getNode:function(e){var t=this.get("contentBox");return t.one("[data-id="+e+"]")},enable:function(e){this.disable(e,!0)},disable:function(e,t){var n=this.get("contentBox"),r=n.one("[data-id="+e+"]");t?r.ancestor("li").removeClass("disabled"):r.ancestor("li").addClass("disabled")},rename:function(e,t){var n=this.get("contentBox"),r=n.one("[data-id="+e+"]");r.setHTML(t)},_appendMenu:function(t,n,r){var i=this.get("contentBox"),s=this;e.Array.each(t,function(t){var o=e.Node.create(s.dropdownTemplate({title:t.title,submenu:typeof r!="undefined"?"-submenu":"",caret:typeof r=="undefined"?"b class=caret":"b"}));e.Array.each(t.items,function(t){var r=e.Node.create('<li tabindex="-1"></li>');if(t.title==="-")r.addClass("divider");else if(typeof t.children=="object"){var i=[{title:t.title,items:t.children}];s._appendMenu(i,n,o)}else{var u=e.Node.create('<a tabindex="-1" href="#">'+t.title+"</a>");typeof t.disabled!="undefined"&&r.addClass("disabled"),r.append(u),typeof t.id!="undefined"&&u.setAttribute("data-id",t.id)}o.one(".dropdown-menu").append(r)}),typeof r=="undefined"?i.one(n===!1?".nav":".pull-right").append(o):r.one(".dropdown-menu").append(o)})},_handleClick:function(e){var t=e.currentTarget,n=t.getAttribute("data-id");if(t.ancestor("li").hasClass("disabled")||t.ancestor("li").hasClass("dropdown-submenu")){t.blur();return}n&&this.fire(n),t.ancestor(".dropdown").one(".dropdown-toggle").simulate("click")},_prevent:function(e){e.preventDefault()}},{ATTRS:{title:{value:r},menu:{value:[]},menuSecondary:{value:[]}}}),e.namespace("Rednose").Navbar=n},"1.1.0-DEV",{group:"rednose-ui",requires:["base","node-pluginhost","gallery-bootstrap-dropdown","handlebars","widget"],skinnable:!0});
