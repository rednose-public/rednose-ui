YUI.add("rednose-undo-manager",function(e,t){var n="mutate",r=e.Base.create("undoManager",e.Base,[],{initializer:function(){this._actions=[],this._index=0,this._savedIndex=0},destructor:function(){for(var e=0,t=this._actions.length;e<t;e++){var n=this._actions[e];typeof n.destroy=="function"&&n.destroy()}this._actions=null},execute:function(e,t){return t||(t={}),this._index<this._actions.length&&this._actions.splice(this._index,this._actions.length-this._index),this._actions.push(e),this._index=this._actions.length,e.execute(),t.silent||this.fire(n,{manager:this,src:t.src||"execute"}),this},undo:function(e){if(!this.canUndo())return;e||(e={}),this._index--,this._actions[this._index].undo(),e.silent||this.fire(n,{manager:this,src:e.src||"undo"})},redo:function(e){if(!this.canRedo())return;e||(e={}),this._index++;var t=this._actions[this._index-1];t[typeof t.redo=="function"?"redo":"execute"](),e.silent||this.fire(n,{manager:this,src:e.src||"redo"})},save:function(e){e||(e={}),this._savedIndex=this._index,e.silent||this.fire(n,{manager:this,src:e.src||"save"})},clear:function(e){e||(e={});for(var t=0,r=this._actions.length;t<r;t++){var i=this._actions[t];typeof i.destroy=="function"&&i.destroy()}this._actions=[],this._index=0,this._savedIndex=0,e.silent||this.fire(n,{manager:this,src:e.src||"clear"})},isDirty:function(){return this._savedIndex!==this._index},canUndo:function(){return this._index>0},canRedo:function(){return this._actions[this._index]!==null&&this._index<this._actions.length}});e.namespace("Rednose").UndoManager=r},"@VERSION@",{requires:["base"]});
