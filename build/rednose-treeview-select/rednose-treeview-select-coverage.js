if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/rednose-treeview-select/rednose-treeview-select.js']) {
   __coverage__['build/rednose-treeview-select/rednose-treeview-select.js'] = {"path":"build/rednose-treeview-select/rednose-treeview-select.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":35},"end":{"line":1,"column":54}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":17},"end":{"line":20,"column":29}}},"3":{"name":"(anonymous_3)","line":36,"loc":{"start":{"line":36,"column":16},"end":{"line":36,"column":28}}},"4":{"name":"(anonymous_4)","line":43,"loc":{"start":{"line":43,"column":18},"end":{"line":43,"column":30}}},"5":{"name":"(anonymous_5)","line":46,"loc":{"start":{"line":46,"column":46},"end":{"line":46,"column":62}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":25},"end":{"line":55,"column":37}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":42},"end":{"line":60,"column":56}}},"8":{"name":"(anonymous_8)","line":65,"loc":{"start":{"line":65,"column":76},"end":{"line":65,"column":92}}},"9":{"name":"(anonymous_9)","line":77,"loc":{"start":{"line":77,"column":21},"end":{"line":77,"column":34}}},"10":{"name":"(anonymous_10)","line":84,"loc":{"start":{"line":84,"column":24},"end":{"line":84,"column":37}}},"11":{"name":"(anonymous_11)","line":101,"loc":{"start":{"line":101,"column":26},"end":{"line":101,"column":39}}},"12":{"name":"(anonymous_12)","line":110,"loc":{"start":{"line":110,"column":18},"end":{"line":110,"column":30}}},"13":{"name":"(anonymous_13)","line":117,"loc":{"start":{"line":117,"column":17},"end":{"line":117,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":145,"column":57}},"2":{"start":{"line":8,"column":0},"end":{"line":139,"column":3}},"3":{"start":{"line":21,"column":8},"end":{"line":21,"column":29}},"4":{"start":{"line":23,"column":8},"end":{"line":23,"column":46}},"5":{"start":{"line":25,"column":8},"end":{"line":25,"column":57}},"6":{"start":{"line":26,"column":8},"end":{"line":26,"column":61}},"7":{"start":{"line":28,"column":8},"end":{"line":28,"column":64}},"8":{"start":{"line":31,"column":8},"end":{"line":31,"column":61}},"9":{"start":{"line":33,"column":8},"end":{"line":33,"column":65}},"10":{"start":{"line":38,"column":8},"end":{"line":38,"column":31}},"11":{"start":{"line":44,"column":8},"end":{"line":44,"column":27}},"12":{"start":{"line":46,"column":8},"end":{"line":48,"column":11}},"13":{"start":{"line":47,"column":12},"end":{"line":47,"column":38}},"14":{"start":{"line":50,"column":8},"end":{"line":50,"column":25}},"15":{"start":{"line":56,"column":8},"end":{"line":57,"column":29}},"16":{"start":{"line":59,"column":8},"end":{"line":72,"column":9}},"17":{"start":{"line":60,"column":12},"end":{"line":71,"column":15}},"18":{"start":{"line":63,"column":16},"end":{"line":63,"column":59}},"19":{"start":{"line":65,"column":16},"end":{"line":70,"column":19}},"20":{"start":{"line":67,"column":20},"end":{"line":69,"column":21}},"21":{"start":{"line":68,"column":24},"end":{"line":68,"column":75}},"22":{"start":{"line":79,"column":8},"end":{"line":81,"column":9}},"23":{"start":{"line":80,"column":12},"end":{"line":80,"column":28}},"24":{"start":{"line":85,"column":8},"end":{"line":85,"column":23}},"25":{"start":{"line":86,"column":8},"end":{"line":88,"column":48}},"26":{"start":{"line":90,"column":8},"end":{"line":94,"column":9}},"27":{"start":{"line":93,"column":12},"end":{"line":93,"column":41}},"28":{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},"29":{"start":{"line":97,"column":12},"end":{"line":97,"column":37}},"30":{"start":{"line":102,"column":8},"end":{"line":103,"column":48}},"31":{"start":{"line":105,"column":8},"end":{"line":107,"column":9}},"32":{"start":{"line":106,"column":11},"end":{"line":106,"column":44}},"33":{"start":{"line":111,"column":8},"end":{"line":111,"column":24}},"34":{"start":{"line":118,"column":8},"end":{"line":120,"column":9}},"35":{"start":{"line":119,"column":12},"end":{"line":119,"column":19}},"36":{"start":{"line":122,"column":8},"end":{"line":122,"column":72}},"37":{"start":{"line":124,"column":8},"end":{"line":128,"column":9}},"38":{"start":{"line":125,"column":12},"end":{"line":125,"column":62}},"39":{"start":{"line":127,"column":12},"end":{"line":127,"column":26}},"40":{"start":{"line":142,"column":0},"end":{"line":142,"column":56}}},"branchMap":{"1":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":59,"column":8}},{"start":{"line":59,"column":8},"end":{"line":59,"column":8}}]},"2":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":27}},{"start":{"line":59,"column":31},"end":{"line":59,"column":57}}]},"3":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":20},"end":{"line":67,"column":20}},{"start":{"line":67,"column":20},"end":{"line":67,"column":20}}]},"4":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]},"5":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":90,"column":8}},{"start":{"line":90,"column":8},"end":{"line":90,"column":8}}]},"6":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":8}},{"start":{"line":96,"column":8},"end":{"line":96,"column":8}}]},"7":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":12},"end":{"line":96,"column":22}},{"start":{"line":96,"column":26},"end":{"line":96,"column":38}}]},"8":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":8}},{"start":{"line":105,"column":8},"end":{"line":105,"column":8}}]},"9":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"10":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":8}},{"start":{"line":124,"column":8},"end":{"line":124,"column":8}}]},"11":{"line":125,"type":"cond-expr","locations":[{"start":{"line":125,"column":37},"end":{"line":125,"column":47}},{"start":{"line":125,"column":50},"end":{"line":125,"column":58}}]}},"code":["(function () { YUI.add('rednose-treeview-select', function (Y, NAME) {","","/*jshint boss:true, expr:true, onevar:false */","","/**"," * Selection extension for the RedNose TreeView widget."," */","var Selectable = Y.Base.create('selectable', Y.Base, [], {","","    // -- Protected Properties -------------------------------------------------","","    /**","     * @property _selectMap","     * @type {Array}","     * @protected","     */","","    // -- Lifecycle Methods ----------------------------------------------------","","    initializer: function () {","        this._selectMap = [];","","        var container = this.get('container');","","        this.on('select', this._handleSelectState, this);","        this.on('unselect', this._handleUnSelectState, this);","","        this.after('selectableChange', this._afterChange, this);","","        // Select needs to be restored after the tree is rendered.","        Y.Do.after(this._restoreSelectState, this, 'render');","","        container.on('clickoutside', this._onClickOutside, this);","    },","","    destructor: function () {","        // Destroy the array so it doesn't persist.","        this._selectMap = null;","    },","","    // -- Public Methods -------------------------------------------------------","","    getSelection: function () {","        var selection = [];","","        Y.Array.each(this.getSelectedNodes(), function (node) {","            selection.push(node.data);","        });","","        return selection;","    },","","    // -- Protected Methods ----------------------------------------------------","","    _restoreSelectState: function () {","        var container = this.get('container'),","            self      = this;","","        if (this._selectMap && this._selectMap.length > 0) {","            Y.Array.each(this._selectMap, function (id) {","                // TODO: if the selected node is not visible yet, bind an event on 'open' and unbind it","                // after another selection is made.","                var record = self.parseRednoseRecordId(id);","","                container.all('[data-rednose-type=' + record[0] + ']').each(function (node) {","","                    if (node.getData('rednose-id') === record[1]) {","                        self.getNodeById(node.getData('node-id')).select();","                    }","                });","            });","        }","    },","","    // -- Protected Event Handlers ---------------------------------------------","","    _onClickOutside: function (e) {","        // Clear the selection, only if the click outside target is an ancestor of the current target.","        if (e.currentTarget.get('parentNode') === e.target) {","            this.unselect();","        }","    },","","    _handleSelectState: function (e) {","        console.log(e);","        var id         = this.generateRednoseRecordId(e.node.data),","            index      = this._selectMap.indexOf(id),","            selectable = this.get('selectable');","","        if (!selectable) {","            // If selectable is disabled, don't allow this event to propagate","            // to other select handlers.","            e.stopImmediatePropagation();","        }","","        if (selectable && index === -1) {","            this._selectMap.push(id);","        }","    },","","    _handleUnSelectState: function (e) {","        var id    = this.generateRednoseRecordId(e.node.data),","            index = this._selectMap.indexOf(id);","","        if (index !== -1) {","           this._selectMap.splice(index, 1);","        }","    },","","    _afterChange: function () {","        this.unselect();","    },","","    /**","     * @see TreeView._onRowClick()","     */","    _onRowClick: function (e) {","        if (e.button > 1) {","            return;","        }","","        var node = this.getNodeById(e.currentTarget.getData('node-id'));","","        if (e.shiftKey) {","            node[node.isSelected() ? 'unselect' : 'select']();","        } else {","            node.select();","        }","    }","}, {","    ATTRS: {","        /**","         * Enable selection for this TreeView instance","         */","        selectable: {","            value : true","        }","    }","});","","// -- Namespace ----------------------------------------------------------------","Y.namespace('Rednose.TreeView').Selectable = Selectable;","","","}, '1.5.0-DEV', {\"requires\": [\"base\", \"event-outside\"]});","","}());"]};
}
var __cov_oTj_r611Z7Pp2c0gMJvbrQ = __coverage__['build/rednose-treeview-select/rednose-treeview-select.js'];
__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['1']++;YUI.add('rednose-treeview-select',function(Y,NAME){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['1']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['2']++;var Selectable=Y.Base.create('selectable',Y.Base,[],{initializer:function(){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['2']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['3']++;this._selectMap=[];__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['4']++;var container=this.get('container');__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['5']++;this.on('select',this._handleSelectState,this);__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['6']++;this.on('unselect',this._handleUnSelectState,this);__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['7']++;this.after('selectableChange',this._afterChange,this);__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['8']++;Y.Do.after(this._restoreSelectState,this,'render');__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['9']++;container.on('clickoutside',this._onClickOutside,this);},destructor:function(){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['3']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['10']++;this._selectMap=null;},getSelection:function(){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['4']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['11']++;var selection=[];__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['12']++;Y.Array.each(this.getSelectedNodes(),function(node){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['5']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['13']++;selection.push(node.data);});__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['14']++;return selection;},_restoreSelectState:function(){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['6']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['15']++;var container=this.get('container'),self=this;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['16']++;if((__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['2'][0]++,this._selectMap)&&(__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['2'][1]++,this._selectMap.length>0)){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['1'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['17']++;Y.Array.each(this._selectMap,function(id){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['7']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['18']++;var record=self.parseRednoseRecordId(id);__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['19']++;container.all('[data-rednose-type='+record[0]+']').each(function(node){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['8']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['20']++;if(node.getData('rednose-id')===record[1]){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['3'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['21']++;self.getNodeById(node.getData('node-id')).select();}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['3'][1]++;}});});}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['1'][1]++;}},_onClickOutside:function(e){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['9']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['22']++;if(e.currentTarget.get('parentNode')===e.target){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['4'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['23']++;this.unselect();}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['4'][1]++;}},_handleSelectState:function(e){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['10']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['24']++;console.log(e);__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['25']++;var id=this.generateRednoseRecordId(e.node.data),index=this._selectMap.indexOf(id),selectable=this.get('selectable');__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['26']++;if(!selectable){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['5'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['27']++;e.stopImmediatePropagation();}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['5'][1]++;}__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['28']++;if((__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['7'][0]++,selectable)&&(__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['7'][1]++,index===-1)){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['6'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['29']++;this._selectMap.push(id);}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['6'][1]++;}},_handleUnSelectState:function(e){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['11']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['30']++;var id=this.generateRednoseRecordId(e.node.data),index=this._selectMap.indexOf(id);__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['31']++;if(index!==-1){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['8'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['32']++;this._selectMap.splice(index,1);}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['8'][1]++;}},_afterChange:function(){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['12']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['33']++;this.unselect();},_onRowClick:function(e){__cov_oTj_r611Z7Pp2c0gMJvbrQ.f['13']++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['34']++;if(e.button>1){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['9'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['35']++;return;}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['9'][1]++;}__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['36']++;var node=this.getNodeById(e.currentTarget.getData('node-id'));__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['37']++;if(e.shiftKey){__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['10'][0]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['38']++;node[node.isSelected()?(__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['11'][0]++,'unselect'):(__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['11'][1]++,'select')]();}else{__cov_oTj_r611Z7Pp2c0gMJvbrQ.b['10'][1]++;__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['39']++;node.select();}}},{ATTRS:{selectable:{value:true}}});__cov_oTj_r611Z7Pp2c0gMJvbrQ.s['40']++;Y.namespace('Rednose.TreeView').Selectable=Selectable;},'1.5.0-DEV',{'requires':['base','event-outside']});
