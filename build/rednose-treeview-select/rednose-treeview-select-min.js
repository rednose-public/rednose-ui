YUI.add("rednose-treeview-select",function(e,t){var n=e.Base.create("selectable",e.Base,[],{initializer:function(){this._selectMap=[];var t=this.get("container");this.on("select",this._handleSelectState,this),this.on("unselect",this._handleUnSelectState,this),this.after("selectableChange",this._afterChange,this),e.Do.after(this._restoreSelectState,this,"render"),t.on("clickoutside",this._onClickOutside,this)},destructor:function(){this._selectMap=null},_restoreSelectState:function(){var t=this.get("container"),n=this;this._selectMap&&this._selectMap.length>0&&e.Array.each(this._selectMap,function(e){})},_onClickOutside:function(e){e.currentTarget.get("parentNode")===e.target&&this.unselect()},_handleSelectState:function(e){var t=e.node.id,n=this._selectMap.indexOf(t),r=this.get("selectable");r||e.stopImmediatePropagation(),r&&n===-1&&this._selectMap.push(t)},_handleUnSelectState:function(e){var t=e.node.id,n=this._selectMap.indexOf(t);n!==-1&&this._selectMap.splice(n,1)},_afterChange:function(){this.unselect()},_onRowClick:function(e){if(e.button>1)return;var t=this.getNodeById(e.currentTarget.getData("node-id"));e.shiftKey?t[t.isSelected()?"unselect":"select"]():t.select()}},{ATTRS:{selectable:{value:!0}}});e.namespace("Rednose.TreeView").Selectable=n},"1.5.0-DEV",{requires:["base","event-outside"]});
