YUI.add("rednose-tooltip",function(e,t){var n=e.Base.create("tooltip",e.Base,[],{template:'<div class="tooltip fade"><div class="tooltip-arrow"></div><div class="tooltip-inner">###</div></div>',initializer:function(){var t=this,n=this.get("selectorContainer");n||(n=document.body),e.delegate(["mouseover","mouseout"],this._handleEvent,n,this.get("selector"),this)},_handleEvent:function(e){var t=e.currentTarget,n=e.type;t.getData("tooltipElement")===undefined&&this._addTooltip(t),n==="mouseover"?this._showTooltip(t):this._hideTooltip(t)},_showTooltip:function(t){var n=t.getData("tooltipElement"),r={},i=this._getDimensions(t);e.one("body").append(n),r=this._getDimensions(n);switch(this.get("placement").toLowerCase()){case"top":n.setStyle("left",i.X+i.W/2-r.W/2),n.setStyle("top",i.Y-r.H);break;case"left":n.setStyle("left",i.X-r.W),n.setStyle("top",i.Y-i.H/2);break;case"right":n.setStyle("left",i.X+i.W),n.setStyle("top",i.Y-i.H/2);break;case"bottom":n.setStyle("left",i.X+i.W/2-r.W/2),n.setStyle("top",i.Y+i.H)}this._fade(t,!0)},_hideTooltip:function(e){this._fade(e,!1)},_fade:function(t,n){var r=t.getData("tooltipElement");if(n)var i=new e.Anim({duration:.2,node:r,from:{opacity:0},to:{opacity:1}});else{var i=new e.Anim({duration:.2,node:r,from:{opacity:1},to:{opacity:0}});i.on("end",function(){r.remove()})}i.run()},_addTooltip:function(t){var n=e.Node.create(this.template);n.addClass(this.get("placement")),n.setStyle("position","absolute"),n.setStyle("left","0"),n.setStyle("top","0"),t.hasAttribute("title")&&n.one(".tooltip-inner").setContent(t.getAttribute("title")),t.setData("tooltipElement",n)},_getDimensions:function(e){return{X:e.getX(),Y:e.getY(),H:e.get("offsetHeight"),W:e.get("offsetWidth")}}},{ATTRS:{selectorContainer:{value:null},selector:{value:!1},placement:{value:"top"}}});e.namespace("Rednose").Tooltip=n},"1.4.2",{requires:["base","node","anim"]});
